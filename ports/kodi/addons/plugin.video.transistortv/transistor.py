"""
    SALTS XBMC Addon
    Copyright (C) 2014 tknorris
	
	Transistor TV Addon FORKED
    Copyright (C) 2017 Cypher

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
"""
import base64;exec base64.b64decode('aW1wb3J0IHJhbmRvbQppbXBvcnQgc3lzCmltcG9ydCBvcwppbXBvcnQgcmUKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCB0aW1lCmltcG9ydCBzaHV0aWwKaW1wb3J0IHhibWNwbHVnaW4KaW1wb3J0IHhibWNndWkKaW1wb3J0IHhibWMKaW1wb3J0IHhibWN2ZnMKaW1wb3J0IGpzb24KaW1wb3J0IGtvZGkKaW1wb3J0IGxvZ191dGlscwppbXBvcnQgdXRpbHMKaW1wb3J0IHBhcnNlZG9tCmltcG9ydCBjbG91ZGZsYXJlCmltcG9ydCByZWdleApmcm9tIHVybF9kaXNwYXRjaGVyIGltcG9ydCBVUkxfRGlzcGF0Y2hlcgpmcm9tIHRyYW5zaXN0b3J0dl9saWIgLiBkYl91dGlscyBpbXBvcnQgREJfQ29ubmVjdGlvbiAsIERhdGFiYXNlUmVjb3ZlcnlFcnJvcgpmcm9tIHRyYW5zaXN0b3J0dl9saWIgLiBzcnRfc2NyYXBlciBpbXBvcnQgU1JUX1NjcmFwZXIKZnJvbSB0cmFuc2lzdG9ydHZfbGliIC4gdHJha3RfYXBpIGltcG9ydCBUcmFrdF9BUEkgLCBUcmFuc2llbnRUcmFrdEVycm9yICwgVHJha3ROb3RGb3VuZEVycm9yICwgVHJha3RFcnJvciAsIFRyYWt0QXV0aEVycm9yCmZyb20gdHJhbnNpc3RvcnR2X2xpYiBpbXBvcnQgdHJhbnNpc3RvcnR2X3V0aWxzCmZyb20gdHJhbnNpc3RvcnR2X2xpYiBpbXBvcnQgdXRpbHMyCmZyb20gdHJhbnNpc3RvcnR2X2xpYiBpbXBvcnQgZ3VpX3V0aWxzCmZyb20gdHJhbnNpc3RvcnR2X2xpYiBpbXBvcnQgc3RyaW5ncwpmcm9tIHRyYW5zaXN0b3J0dl9saWIgaW1wb3J0IHdvcmtlcl9wb29sCmZyb20gdHJhbnNpc3RvcnR2X2xpYiBpbXBvcnQgaW1hZ2Vfc2NyYXBlcgpmcm9tIHRyYW5zaXN0b3J0dl9saWIgLiBjb25zdGFudHMgaW1wb3J0ICoKZnJvbSB0cmFuc2lzdG9ydHZfbGliIC4gdXRpbHMyIGltcG9ydCBpMThuCmZyb20gc2NyYXBlcnMgaW1wb3J0ICoKZnJvbSBzY3JhcGVycyBpbXBvcnQgU2NyYXBlclZpZGVvCmlmIDY0IC0gNjQ6IGkxMWlJaWlJaWkKdHJ5IDoKIGltcG9ydCB1cmxyZXNvbHZlcgpleGNlcHQgOgoga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnc211X2ZhaWxlZCcgKSAsIGR1cmF0aW9uID0gNTAwMCApCiBpZiA2NSAtIDY1OiBPMCAvIGlJaWkxSTExSTFJSTEgJSBPb29vb29vb09PIC0gaTFJSWkKbzBPTzAwID0gbG9nX3V0aWxzIC4gTG9nZ2VyIC4gZ2V0X2xvZ2dlciAoICkKaWYgNzggLSA3ODogaTExaSAuIG9Pb29Pb08wT28wTwppSTEgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAndHJha3Rfb2F1dGhfdG9rZW4nICkKaTFJMTFpID0ga29kaSAuIGdldF9zZXR0aW5nICggJ3VzZV9odHRwcycgKSA9PSAndHJ1ZScKT29Pb09PMDAgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAndHJha3RfdGltZW91dCcgKSApCkkxMWkgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnbGlzdF9zaXplJyApICkKTzBPID0ga29kaSAuIGdldF9zZXR0aW5nICggJ3RyYWt0X29mZmxpbmUnICkgPT0gJ3RydWUnCk9vID0gVHJha3RfQVBJICggaUkxICwgaTFJMTFpICwgSTExaSAsIE9vT29PTzAwICwgTzBPICkKaWYgMiAtIDI6IG8wICogaTEgKiBpaTFJaUkxaSAlIE9Pb29PT28gLyBJMTFpSWkxSSAvIElpaUlJSTExMWlJCklpSUkgPSBVUkxfRGlzcGF0Y2hlciAoICkKaWYgMjggLSAyODogSWkxMTExMWkgKiBpaUkxaTEKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIE1BSU4gKQpkZWYgaTFJMWlpMUlJMWlJSSAoICkgOgogZGJfY29ubmVjdGlvbiAuIGluaXRfZGF0YWJhc2UgKCBOb25lICkKIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdhdXRvLWRpc2FibGUnICkgIT0gRElTQUJMRV9TRVRUSU5HUyAuIE9GRiA6CiAgdHJhbnNpc3RvcnR2X3V0aWxzIC4gZG9fZGlzYWJsZV9jaGVjayAoICkKICBpZiA4NiAtIDg2OiBvTzBvCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gQlJPV1NFICwgJ3NlY3Rpb24nIDogU0VDVElPTlMgLiBNT1ZJRVMgfSAsIGkxOG4gKCAnbW92aWVzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbW92aWVzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBCUk9XU0UgLCAnc2VjdGlvbicgOiBTRUNUSU9OUyAuIFRWIH0gLCBpMThuICggJ3R2X3Nob3dzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAndGVsZXZpc2lvbi5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiBpZiB1dGlsczIgLiBtZW51X29uICggJ3NldHRpbmdzJyApIDoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFNFVFRJTkdTIH0gLCBpMThuICggJ3NldHRpbmdzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogaWYgaUkxIDoKICBJSUlJID0gT28gLiBnZXRfdXNlcl9wcm9maWxlICggKQogIGtvZGkgLiBzZXRfc2V0dGluZyAoICd0cmFrdF91c2VyJyAsICclcyAoJXMpJyAlICggSUlJSSBbICd1c2VybmFtZScgXSAsIElJSUkgWyAnbmFtZScgXSApICkKICBpZiA1OSAtIDU5OiBJSTFpICogbzAwb29vMCAvIG8wMCAqIE9vMG9PMG9vbwoga29kaSAuIHNldF9jb250ZW50ICggQ09OVEVOVF9UWVBFUyAuIEFERE9OUyApCiBrb2RpIC4gZW5kX29mX2RpcmVjdG9yeSAoICkKIGlmIDU2IC0gNTY6IGlpSTFpMSAtIGkxSUlpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTRVRUSU5HUyApCmRlZiBvMDBvT29vICggKSA6CiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gU0NSQVBFUlMgfSAsIGkxOG4gKCAnc2NyYXBlcl9zb3J0X29yZGVyJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFJFU19TRVRUSU5HUyB9ICwgaTE4biAoICd1cmxfcmVzb2x2ZXJfc2V0dGluZ3MnICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdzZXR0aW5ncy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gQURET05fU0VUVElOR1MgfSAsIGkxOG4gKCAnYWRkb25fc2V0dGluZ3MnICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdzZXR0aW5ncy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gQVVUT19DT05GIH0gLCBpMThuICggJ2F1dG9fY29uZmlnJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBGYWxzZSAsIGlzX3BsYXlhYmxlID0gRmFsc2UgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFJFU0VUX0JBU0VfVVJMIH0gLCBpMThuICggJ3Jlc2V0X2Jhc2VfdXJsJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBGYWxzZSAsIGlzX3BsYXlhYmxlID0gRmFsc2UgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIEFVVEhfVFJBS1QgfSAsIGkxOG4gKCAnYXV0aF90cmFuc2lzdG9ydHYnICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdzZXR0aW5ncy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gUkVQQUlSX1VSTFJFU09MVkVSIH0gLCBpMThuICggJ3JlcGFpcl91cmxyZXNvbHZlcicgKSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ3NldHRpbmdzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX1ZJRVdTIH0gLCBpMThuICggJ3NldF9kZWZhdWx0X3ZpZXdzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIEJST1dTRV9VUkxTIH0gLCBpMThuICggJ3JlbW92ZV9jYWNoZWRfdXJscycgKSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ3NldHRpbmdzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBTRVRUSU5HUyB9ICwgJ1RoaXMgRm9yayBvZiBTLkEuTC5ULlMgaXMgYnkgQ3lwaGVyJyAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ3NldHRpbmdzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBBRERPTlMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA3OCAtIDc4OiBpaUkxaTEgLyBpMSAtIE8wIC4gbzAwb29vMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gQlJPV1NFICwgWyAnc2VjdGlvbicgXSApCmRlZiBPT29vbzAwMDBvb28gKCBzZWN0aW9uICkgOgogT09vMDAwID0gdXRpbHMyIC4gZ2V0X3NlY3Rpb25fcGFyYW1zICggc2VjdGlvbiApCiBPMEkxMWkxaTExaTFJID0gT09vMDAwIFsgJ2xhYmVsX3BsdXJhbCcgXQogSWlpaSA9IE9PbzAwMCBbICdsYWJlbF9zaW5nbGUnIF0KIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAndHJlbmRpbmcnICkgOiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gVFJFTkRJTkcgLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0gLCBpMThuICggJ3RyZW5kaW5nJyApICUgKCBPMEkxMWkxaTExaTFJICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICd0cmVuZGluZy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiBpZiB1dGlsczIgLiBtZW51X29uICggJ3BvcHVsYXInICkgOiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gUE9QVUxBUiAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAncG9wdWxhcicgKSAlICggTzBJMTFpMWkxMWkxSSApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAncG9wdWxhci5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiBpZiB1dGlsczIgLiBtZW51X29uICggJ2FudGljaXBhdGVkJyApIDoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIEFOVElDSVBBVEVEICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgaTE4biAoICdhbnRpY2lwYXRlZCcgKSAlICggTzBJMTFpMWkxMWkxSSApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnYW50aWNpcGF0ZWQucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogaWYgdXRpbHMyIC4gbWVudV9vbiAoICdyZWNlbnQnICkgOiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gUkVDRU5UICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgaTE4biAoICdyZWNlbnRseV91cGRhdGVkJyApICUgKCBPMEkxMWkxaTExaTFJICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdyZWNlbnQucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogaWYgdXRpbHMyIC4gbWVudV9vbiAoICdtb3N0cycgKSA6IGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBNT1NUUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnbW9zdHMnICkgJSAoIElpaWkgKSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ21vc3RzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnZ2VucmVzJyApIDoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIEdFTlJFUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnZ2VucmVzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnZ2VucmVzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIE9PTzBPICggc2VjdGlvbiApCiBpZiBpSTEgOgogIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnb25fZGVjaycgKSA6IGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX0JPT0tNQVJLUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAndHJha3Rfb25fZGVjaycgKSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ29uX2RlY2sucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAncmVjb21tZW5kZWQnICkgOiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gUkVDT01NRU5EICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgaTE4biAoICdyZWNvbW1lbmRlZCcgKSAlICggTzBJMTFpMWkxMWkxSSApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAncmVjb21tZW5kZWQucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnY29sbGVjdGlvbicgKSA6IG9vMG9vTzBvT09PT28gKCB7ICdtb2RlJyA6IE1PREVTIC4gU0hPV19DT0xMRUNUSU9OICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgaTE4biAoICdteV9jb2xsZWN0aW9uJyApICUgKCBPMEkxMWkxaTExaTFJICkgLCB1dGlsczIgLiBhcnQgKCAnY29sbGVjdGlvbi5wbmcnICkgLCB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiAgaWYgdXRpbHMyIC4gbWVudV9vbiAoICdoaXN0b3J5JyApIDoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFNIT1dfSElTVE9SWSAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnd2F0Y2hlZF9oaXN0b3J5JyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnd2F0Y2hlZF9oaXN0b3J5LnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKICBpZiB1dGlsczIgLiBtZW51X29uICggJ2Zhdm9yaXRlcycgKSA6IGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX0ZBVk9SSVRFUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnbXlfZmF2b3JpdGVzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbXlfZmF2b3JpdGVzLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKICBpZiB1dGlsczIgLiBtZW51X29uICggJ3N1YnNjcmlwdGlvbnMnICkgOiBvbzBvb08wb09PT09vICggeyAnbW9kZScgOiBNT0RFUyAuIE1BTkFHRV9TVUJTICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgaTE4biAoICdteV9zdWJzY3JpcHRpb25zJyApICwgdXRpbHMyIC4gYXJ0ICggJ215X3N1YnNjcmlwdGlvbnMucG5nJyApICwgdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnd2F0Y2hsaXN0JyApIDogb28wb29PMG9PT09PbyAoIHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX1dBVENITElTVCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnbXlfd2F0Y2hsaXN0JyApICwgdXRpbHMyIC4gYXJ0ICggJ215X3dhdGNobGlzdC5wbmcnICkgLCB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiAgaWYgdXRpbHMyIC4gbWVudV9vbiAoICdteV9saXN0cycgKSA6IGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBNWV9MSVNUUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnbXlfbGlzdHMnICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdteV9saXN0cy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiAgaWYgdXRpbHMyIC4gbWVudV9vbiAoICdsaWtlZF9saXN0cycgKSA6IG9vMG9vTzBvT09PT28gKCB7ICdtb2RlJyA6IE1PREVTIC4gTElLRURfTElTVFMgLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0gLCBpMThuICggJ2xpa2VkX2xpc3RzJyApICwgdXRpbHMyIC4gYXJ0ICggJ2xpa2VkX2xpc3RzLnBuZycgKSAsIHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnb3RoZXJfbGlzdHMnICkgOiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gT1RIRVJfTElTVFMgLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0gLCBpMThuICggJ290aGVyX2xpc3RzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnb3RoZXJfbGlzdHMucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogaWYgc2VjdGlvbiA9PSBTRUNUSU9OUyAuIFRWIDoKICBpZiBpSTEgOgogICBpZiB1dGlsczIgLiBtZW51X29uICggJ3Byb2dyZXNzJyApIDogb28wb29PMG9PT09PbyAoIHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX1BST0dSRVNTIH0gLCBpMThuICggJ215X25leHRfZXBpc29kZXMnICkgLCB1dGlsczIgLiBhcnQgKCAnbXlfcHJvZ3Jlc3MucG5nJyApICwgdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogICBpZiB1dGlsczIgLiBtZW51X29uICggJ3Jld2F0Y2gnICkgOiBvbzBvb08wb09PT09vICggeyAnbW9kZScgOiBNT0RFUyAuIFNIT1dfUkVXQVRDSCB9ICwgaTE4biAoICdteV9yZXdhdGNoZXMnICkgLCB1dGlsczIgLiBhcnQgKCAnbXlfcmV3YXRjaC5wbmcnICkgLCB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSApCiAgIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnbXlfY2FsJyApIDogb28wb29PMG9PT09PbyAoIHsgJ21vZGUnIDogTU9ERVMgLiBNWV9DQUwgfSAsIGkxOG4gKCAnbXlfY2FsZW5kYXInICkgLCB1dGlsczIgLiBhcnQgKCAnbXlfY2FsZW5kYXIucG5nJyApICwgdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnZ2VuZXJhbF9jYWwnICkgOiBvbzBvb08wb09PT09vICggeyAnbW9kZScgOiBNT0RFUyAuIENBTCB9ICwgaTE4biAoICdnZW5lcmFsX2NhbGVuZGFyJyApICwgdXRpbHMyIC4gYXJ0ICggJ2NhbGVuZGFyLnBuZycgKSAsIHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKICBpZiB1dGlsczIgLiBtZW51X29uICggJ3ByZW1pZXJlX2NhbCcgKSA6IG9vMG9vTzBvT09PT28gKCB7ICdtb2RlJyA6IE1PREVTIC4gUFJFTUlFUkVTIH0gLCBpMThuICggJ3ByZW1pZXJlX2NhbGVuZGFyJyApICwgdXRpbHMyIC4gYXJ0ICggJ3ByZW1pZXJlX2NhbGVuZGFyLnBuZycgKSAsIHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGlmIHV0aWxzMiAuIG1lbnVfb24gKCAnc2VhcmNoJyApIDoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFNFQVJDSCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnc2VhcmNoJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCBPT28wMDAgWyAnc2VhcmNoX2ltZycgXSApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQogaWYgdXRpbHMyIC4gbWVudV9vbiAoICdzZWFyY2gnICkgOiBvTzAwME9vT29vMDBvICggeyAnbW9kZScgOiBNT0RFUyAuIFJFQ0VOVF9TRUFSQ0ggLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0gLCBpMThuICggJ3JlY2VudF9zZWFyY2hlcycgKSAsIHV0aWxzMiAuIGFydCAoIE9PbzAwMCBbICdzZWFyY2hfaW1nJyBdICkgLCBNT0RFUyAuIENMRUFSX1JFQ0VOVCApCiBpZiB1dGlsczIgLiBtZW51X29uICggJ3NlYXJjaCcgKSA6IG9PMDAwT29Pb28wMG8gKCB7ICdtb2RlJyA6IE1PREVTIC4gU0FWRURfU0VBUkNIRVMgLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0gLCBpMThuICggJ3NhdmVkX3NlYXJjaGVzJyApICwgdXRpbHMyIC4gYXJ0ICggT09vMDAwIFsgJ3NlYXJjaF9pbWcnIF0gKSAsIE1PREVTIC4gQ0xFQVJfU0FWRUQgKQogaWYgTzBPIDoKICBrb2RpIC4gbm90aWZ5ICggbXNnID0gJ1tDT0xPUiBibHVlXSoqKlsvQ09MT1JdW0NPTE9SIHJlZF0gJXMgWy9DT0xPUl1bQ09MT1IgYmx1ZV0qKipbL0NPTE9SXScgJSAoIGkxOG4gKCAndHJha3RfYXBpX29mZmxpbmUnICkgKSApCiBrb2RpIC4gc2V0X2NvbnRlbnQgKCBDT05URU5UX1RZUEVTIC4gQURET05TICkKIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogaWYgMzEgLSAzMTogaTExaSArIGkxIC4gbzAwCiBpZiA2OCAtIDY4OiBvT29vT29PME9vME8gLSBpMTFpSWlpSWlpIC0gaTEgLyBJaTExMTExaSAtIGkxICsgaTFJSWkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIEdFTlJFUyAsIFsgJ3NlY3Rpb24nIF0gKQpkZWYgSWlpSUlJMTExaWkgKCBzZWN0aW9uICkgOgogZm9yIGkxaUlJaTEgaW4gT28gLiBnZXRfZ2VucmVzICggc2VjdGlvbiApIDoKICBpZiBpMWlJSWkxIFsgJ3NsdWcnIF0gPT0gJ25vbmUnIDogY29udGludWUKICBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IE1PREVTIC4gU0hPV19HRU5SRSAsICdnZW5yZScgOiBpMWlJSWkxIFsgJ3NsdWcnIF0gLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0gLCBpMWlJSWkxIFsgJ25hbWUnIF0gLCB1dGlsczIgLiBhcnQgKCAnJXMucG5nJyAlICggaTFpSUlpMSBbICdzbHVnJyBdICkgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBBRERPTlMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA1MCAtIDUwOiBpMTFpSWlpSWlpIC0gb08wbwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0hPV19HRU5SRSAsIFsgJ2dlbnJlJyAsICdzZWN0aW9uJyBdICwgWyAncGFnZScgXSApCmRlZiBvbzBPb28wICggZ2VucmUgLCBzZWN0aW9uICwgcGFnZSA9IDEgKSA6CiBJMUkxMUkxSTFJID0geyAnZ2VucmVzJyA6IGdlbnJlIH0KIE9vb08wT08gPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnJXNfZ2VucmVfbGlzdCcgJSAoIHNlY3Rpb24gKSApICkKIGlmIE9vb08wT08gPT0gR0VOUkVfTElTVCAuIFRSRU5ESU5HIDoKICBpaWlJaSA9IE9vIC4gZ2V0X3RyZW5kaW5nICggc2VjdGlvbiAsIHBhZ2UgLCBmaWx0ZXJzID0gSTFJMTFJMUkxSSApCiBlbGlmIE9vb08wT08gPT0gR0VOUkVfTElTVCAuIFBPUFVMQVIgOgogIGlpaUlpID0gT28gLiBnZXRfcG9wdWxhciAoIHNlY3Rpb24gLCBwYWdlICwgZmlsdGVycyA9IEkxSTExSTFJMUkgKQogZWxpZiBPb29PME9PID09IEdFTlJFX0xJU1QgLiBBTlRJQ0lQQVRFRCA6CiAgaWlpSWkgPSBPbyAuIGdldF9hbnRpY2lwYXRlZCAoIHNlY3Rpb24gLCBwYWdlICwgZmlsdGVycyA9IEkxSTExSTFJMUkgKQogZWxpZiBPb29PME9PID09IEdFTlJFX0xJU1QgLiBNT1NUX1dBVENIRURfV0VFSyA6CiAgaWlpSWkgPSBPbyAuIGdldF9tb3N0X3dhdGNoZWQgKCBzZWN0aW9uICwgJ3dlZWtseScgLCBwYWdlICwgZmlsdGVycyA9IEkxSTExSTFJMUkgKQogZWxpZiBPb29PME9PID09IEdFTlJFX0xJU1QgLiBNT1NUX1dBVENIRURfTU9OVEggOgogIGlpaUlpID0gT28gLiBnZXRfbW9zdF93YXRjaGVkICggc2VjdGlvbiAsICdtb250aGx5JyAsIHBhZ2UgLCBmaWx0ZXJzID0gSTFJMTFJMUkxSSApCiBlbGlmIE9vb08wT08gPT0gR0VOUkVfTElTVCAuIE1PU1RfV0FUQ0hFRF9BTEwgOgogIGlpaUlpID0gT28gLiBnZXRfbW9zdF93YXRjaGVkICggc2VjdGlvbiAsICdhbGwnICwgcGFnZSAsIGZpbHRlcnMgPSBJMUkxMUkxSTFJICkKIGVsaWYgT29vTzBPTyA9PSBHRU5SRV9MSVNUIC4gTU9TVF9QTEFZRURfV0VFSyA6CiAgaWlpSWkgPSBPbyAuIGdldF9tb3N0X3BsYXllZCAoIHNlY3Rpb24gLCAnd2Vla2x5JyAsIHBhZ2UgLCBmaWx0ZXJzID0gSTFJMTFJMUkxSSApCiBlbGlmIE9vb08wT08gPT0gR0VOUkVfTElTVCAuIE1PU1RfUExBWUVEX01PTlRIIDoKICBpaWlJaSA9IE9vIC4gZ2V0X21vc3RfcGxheWVkICggc2VjdGlvbiAsICdtb250aGx5JyAsIHBhZ2UgLCBmaWx0ZXJzID0gSTFJMTFJMUkxSSApCiBlbGlmIE9vb08wT08gPT0gR0VOUkVfTElTVCAuIE1PU1RfUExBWUVEX0FMTCA6CiAgaWlpSWkgPSBPbyAuIGdldF9tb3N0X3BsYXllZCAoIHNlY3Rpb24gLCAnYWxsJyAsIHBhZ2UgLCBmaWx0ZXJzID0gSTFJMTFJMUkxSSApCiBlbGlmIE9vb08wT08gPT0gR0VOUkVfTElTVCAuIE1PU1RfQ09MTEVDVEVEX1dFRUsgOgogIGlpaUlpID0gT28gLiBnZXRfbW9zdF9jb2xsZWN0ZWQgKCBzZWN0aW9uICwgJ3dlZWtseScgLCBwYWdlICwgZmlsdGVycyA9IEkxSTExSTFJMUkgKQogZWxpZiBPb29PME9PID09IEdFTlJFX0xJU1QgLiBNT1NUX0NPTExFQ1RFRF9NT05USCA6CiAgaWlpSWkgPSBPbyAuIGdldF9tb3N0X2NvbGxlY3RlZCAoIHNlY3Rpb24gLCAnbW9udGhseScgLCBwYWdlICwgZmlsdGVycyA9IEkxSTExSTFJMUkgKQogZWxpZiBPb29PME9PID09IEdFTlJFX0xJU1QgLiBNT1NUX0NPTExFQ1RFRF9BTEwgOgogIGlpaUlpID0gT28gLiBnZXRfbW9zdF9jb2xsZWN0ZWQgKCBzZWN0aW9uICwgJ2FsbCcgLCBwYWdlICwgZmlsdGVycyA9IEkxSTExSTFJMUkgKQogZWxzZSA6CiAgbzBPTzAwIC4gbG9nICggJ1VucmVjb2duaXplZCBnZW5yZSBsaXN0OiAlcycgJSAoIE9vb08wT08gKSAsIGxvZ191dGlscyAuIExPR1dBUk5JTkcgKQogIGlpaUlpID0gWyBdCiAgaWYgMjQgLSAyNDogTzAgJSBPT29vT09vICsgaTFJSWkgKyBvMDAgKyBJMTFpSWkxSQogT09vTzAwME8wT08gKCBzZWN0aW9uICwgaWlpSWkgLCBxdWVyeSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX0dFTlJFICwgJ2dlbnJlJyA6IGdlbnJlICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgcGFnZSA9IHBhZ2UgKQogaWYgMjMgLSAyMzogaTExaUlpaUlpaSArIG9Pb29Pb08wT28wTwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0hPV19CT09LTUFSS1MgLCBbICdzZWN0aW9uJyBdICkKZGVmIG9PbyAoIHNlY3Rpb24gKSA6CiBPT28wMDAgPSB1dGlsczIgLiBnZXRfc2VjdGlvbl9wYXJhbXMgKCBzZWN0aW9uICkKIGZvciBvT29Pb08gaW4gT28gLiBnZXRfYm9va21hcmtzICggc2VjdGlvbiAsIGZ1bGwgPSBUcnVlICkgOgogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gREVMRVRFX0JPT0tNQVJLICwgJ2Jvb2ttYXJrX2lkJyA6IG9Pb09vTyBbICdpZCcgXSB9CiAgT29vTzAgPSAnUnVuUGx1Z2luKCVzKScgJSBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkKICBJSTExaWlpaTFJaSA9IFsgKCBpMThuICggJ2RlbGV0ZV9ib29rbWFyaycgKSAsIE9vb08wICwgKSBdCiAgaWYgNzAgLSA3MDogSWlpSUlJMTExaUkgLyBpSWlpMUkxMUkxSUkxICUgT28wb08wb29vICUgaTExaUlpaUlpaSAuIG9Pb29Pb08wT28wTwogIGlmIG9Pb09vTyBbICd0eXBlJyBdID09ICdtb3ZpZScgOgogICBPMG8wT28gLCBPbzAwT09PT08gPSBPME9PMDBvME9PICggT09vMDAwICwgb09vT29PIFsgJ21vdmllJyBdICwgbWVudV9pdGVtcyA9IElJMTFpaWlpMUlpICkKICBlbHNlIDoKICAgTzBvME9vICwgT28wME9PT09PID0gSTExaTEgKCBvT29Pb08gWyAnc2hvdycgXSAsIG9Pb09vTyBbICdlcGlzb2RlJyBdICwgc2hvd19zdWJzID0gRmFsc2UgLCBtZW51X2l0ZW1zID0gSUkxMWlpaWkxSWkgKQogICBpSWkxaWkxSTEgPSBPMG8wT28gLiBnZXRMYWJlbCAoICkKICAgaUlpMWlpMUkxID0gJyVzIC0gJXMnICUgKCBvT29Pb08gWyAnc2hvdycgXSBbICd0aXRsZScgXSAsIGlJaTFpaTFJMSApCiAgIE8wbzBPbyAuIHNldExhYmVsICggaUlpMWlpMUkxICkKICAgaWYgNzEgLSA3MTogbzAwIC4gTzAKICBpSWkxaWkxSTEgPSBPMG8wT28gLiBnZXRMYWJlbCAoICkKICBvME9PMG9vMG9PTyA9ICcnCiAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ3RyYWt0X2Jvb2ttYXJrJyApID09ICd0cnVlJyA6CiAgIG8wT08wb28wb09PID0gJ1tDT0xPUiBibHVlXSUuMmYlJVsvQ09MT1JdICVzICcgJSAoIG9Pb09vTyBbICdwcm9ncmVzcycgXSAsIGkxOG4gKCAnb24nICkgKQogIG9vMG9vb29vTzAgPSB0aW1lIC4gc3RyZnRpbWUgKCAnJVktJW0tJWQnICwgdGltZSAuIGxvY2FsdGltZSAoIHV0aWxzIC4gaXNvXzJfdXRjICggb09vT29PIFsgJ3BhdXNlZF9hdCcgXSApICkgKQogIG8wT08wb28wb09PICs9ICdbQ09MT1IgZGVlcHBpbmtdJXNbL0NPTE9SXScgJSAoIHV0aWxzMiAuIG1ha2VfZGF5ICggb28wb29vb29PMCAsIHVzZV93b3JkcyA9IEZhbHNlICkgKQogIGlJaTFpaTFJMSA9ICdbJXNdICVzICcgJSAoIG8wT08wb28wb09PICwgaUlpMWlpMUkxICkKICBPMG8wT28gLiBzZXRMYWJlbCAoIGlJaTFpaTFJMSApCiAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBPbzAwT09PT08gLCBPMG8wT28gLCBpc0ZvbGRlciA9IEZhbHNlICwgdG90YWxJdGVtcyA9IDAgKQogaTExSWlpaSA9IENPTlRFTlRfVFlQRVMgLiBFUElTT0RFUyBpZiBzZWN0aW9uID09IFNFQ1RJT05TIC4gVFYgZWxzZSBDT05URU5UX1RZUEVTIC4gTU9WSUVTCiBrb2RpIC4gc2V0X3ZpZXcgKCBpMTFJaWlpICwgVHJ1ZSApCiBrb2RpIC4gZW5kX29mX2RpcmVjdG9yeSAoICkKIGlmIDIzIC0gMjM6IE9Pb29PT28gLiBpMTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBERUxFVEVfQk9PS01BUksgLCBbICdib29rbWFya19pZCcgXSApCmRlZiBPbzBPME9PT29vICggYm9va21hcmtfaWQgKSA6CiBPbyAuIGRlbGV0ZV9ib29rbWFyayAoIGJvb2ttYXJrX2lkICkKIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBpMThuICggJ2Jvb2ttYXJrX2RlbGV0ZWQnICkgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgOTUgLSA5NTogaTEgJSBJaWlJSUkxMTFpSSAuIE8wCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTSE9XX1ZJRVdTICkKZGVmIEkxaTFJICggKSA6CiBmb3IgaTExSWlpaSBpbiBbICdtb3ZpZXMnICwgJ3R2c2hvd3MnICwgJ3NlYXNvbnMnICwgJ2VwaXNvZGVzJyAsICdmaWxlcycgXSA6CiAga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIEJST1dTRV9WSUVXICwgJ2NvbnRlbnRfdHlwZScgOiBpMTFJaWlpIH0gLCBpMThuICggJ3NldF9kZWZhdWx0X3hfdmlldycgKSAlICggaTExSWlpaSAuIGNhcGl0YWxpemUgKCApICkgLAogdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA4MCAtIDgwOiBpaTFJaUkxaSAtIGkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBCUk9XU0VfVklFVyAsIFsgJ2NvbnRlbnRfdHlwZScgXSApCmRlZiBPT08wMCAoIGNvbnRlbnRfdHlwZSApIDoKIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBTRVRfVklFVyAsICdjb250ZW50X3R5cGUnIDogY29udGVudF90eXBlIH0gLCBpMThuICggJ3NldF92aWV3X2luc3RyJyApICUgKCBjb250ZW50X3R5cGUgLiBjYXBpdGFsaXplICggKSApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwKIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICwgaXNfZm9sZGVyID0gRmFsc2UgLCBpc19wbGF5YWJsZSA9IEZhbHNlICkKIGtvZGkgLiBzZXRfdmlldyAoIGNvbnRlbnRfdHlwZSAsIFRydWUgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiAyMSAtIDIxOiBPb29vb29vb09PIC0gT29vb29vb29PTwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0VUX1ZJRVcgLCBbICdjb250ZW50X3R5cGUnIF0gKQpkZWYgaUlpaTExSSAoIGNvbnRlbnRfdHlwZSApIDoKIE9PTzBPT08wMG9vID0ga29kaSAuIGdldF9jdXJyZW50X3ZpZXcgKCApCiBpZiBPT08wT09PMDBvbyA6CiAga29kaSAuIHNldF9zZXR0aW5nICggJyVzX3ZpZXcnICUgKCBjb250ZW50X3R5cGUgKSAsIE9PTzBPT08wMG9vICkKICBJaWkxMTFJSSA9IHhibWMgLiBnZXRJbmZvTGFiZWwgKCAnQ29udGFpbmVyLlZpZXdtb2RlJyApCiAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAndmlld19zZXQnICkgJSAoIGNvbnRlbnRfdHlwZSAuIGNhcGl0YWxpemUgKCApICwgSWlpMTExSUkgKSApCiAgaWYgOSAtIDk6IGkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBCUk9XU0VfVVJMUyApCmRlZiBpMTEgKCApIDoKIE8wb28wT08wb09PT28gPSBkYl9jb25uZWN0aW9uIC4gZ2V0X2FsbF91cmxzICggb3JkZXJfbWF0dGVycyA9IFRydWUgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIEZMVVNIX0NBQ0hFIH0gLCAnKioqJXMqKionICUgKCBpMThuICggJ2RlbGV0ZV9jYWNoZScgKSApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnc2V0dGluZ3MucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBGYWxzZSAsIGlzX3BsYXlhYmxlID0gRmFsc2UgKQogZm9yIGkxaTFpMTFJSWkgaW4gTzBvbzBPTzBvT09PbyA6CiAgaWYgaTFpMWkxMUlJaSBbIDEgXSA6CiAgIGlJaTFpaTFJMSA9ICclcyAoJXMpJyAlICggaTFpMWkxMUlJaSBbIDAgXSAsIGkxaTFpMTFJSWkgWyAxIF0gKQogIGVsc2UgOgogICBpSWkxaWkxSTEgPSBpMWkxaTExSUlpIFsgMCBdCiAga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIERFTEVURV9VUkwgLCAndXJsJyA6IGkxaTFpMTFJSWkgWyAwIF0gLCAnZGF0YScgOiBpMWkxaTExSUlpIFsgMSBdIH0gLCBpSWkxaWkxSTEgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdzZXR0aW5ncy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiBrb2RpIC4gc2V0X2NvbnRlbnQgKCBDT05URU5UX1RZUEVTIC4gRklMRVMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiAzMyAtIDMzOiBPT29vT09vICsgSWkxMTExMWkgKiBpMSAtIG8wIC8gSWlpSUlJMTExaUkgJSBvTzBvCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBERUxFVEVfVVJMICwgWyAndXJsJyBdICwgWyAnZGF0YScgXSApCmRlZiBJSTFpMUlpaUlJaTExICggdXJsICwgZGF0YSA9ICcnICkgOgogZGJfY29ubmVjdGlvbiAuIGRlbGV0ZV9jYWNoZWRfdXJsICggdXJsICwgZGF0YSApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiA0NyAtIDQ3OiBJSTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRVNfU0VUVElOR1MgKQpkZWYgSWkxMWlJSTEgKCApIDoKIHVybHJlc29sdmVyIC4gZGlzcGxheV9zZXR0aW5ncyAoICkKIGlmIDUxIC0gNTE6IGkxMWkgKiBpMSAlIE9Pb29PT28gKiBpMTFpICUgSTExaUlpMUkgLyBPbzBvTzBvb28KQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIEFERE9OX1NFVFRJTkdTICkKZGVmIGlJSUlJaWkxICggKSA6CiBrb2RpIC4gc2hvd19zZXR0aW5ncyAoICkKIGlmIDU4IC0gNTg6IGkxMWlJaWlJaWkgJSBpaUkxaTEKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIEFVVEhfVFJBS1QgKQpkZWYgT08wME9vICggKSA6CiB1dGlscyAuIGF1dGhfdHJha3QgKCBUcmFrdF9BUEkgLCBrb2RpIC4gVHJhbnNsYXRpb25zICggc3RyaW5ncyAuIFNUUklOR1MgKSApCiBpZiA1MSAtIDUxOiBvMDBvb28wICogT09vb09PbyArIGlpSTFpMSArIGkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBJTlNUQUxMX1RIRU1FUyApCmRlZiBvME8wTzAwICggKSA6CiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAnUnVuUGx1Z2luKHBsdWdpbjovL3NjcmlwdC50cmFuc2lzdG9ydHYudGhlbWVwYWspJyApCiBpZiA4NiAtIDg2OiBpaUkxaTEgLyBvMDBvb28wICUgaTExaUlpaUlpaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUkVQQUlSX1VSTFJFU09MVkVSICkKZGVmIEkxMUlpSTFJMTFpMWkgKCApIDoKIHRyeSA6CiAgaUkxaWkxSWkgPSBvcyAuIHBhdGggLiBqb2luICgga29kaSAuIHRyYW5zbGF0ZV9wYXRoICggJ3NwZWNpYWw6Ly9ob21lJyApICwgJ2FkZG9ucycgLCAnc2NyaXB0Lm1vZHVsZS51cmxyZXNvbHZlcicgKQogIHNodXRpbCAuIHJtdHJlZSAoIGlJMWlpMUlpICkKICBvb29vMDAwID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBvb29vMDAwIC4gb2sgKCBpMThuICggJ3JlcGFpcl91cmxyZXNvbHZlcicgKSAsIGkxOG4gKCAncmVwYWlyX2xpbmVfMScgKSApCiBleGNlcHQgOgogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICdSdW5QbHVnaW4ocGx1Z2luOi8vc2NyaXB0Lm1vZHVsZS51cmxyZXNvbHZlciknICkKICBpZiAxNiAtIDE2OiBJMTFpSWkxSSArIGkxIC0gaTExaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUkVTRVRfQkFTRV9VUkwgKQpkZWYgb09vT08wICggKSA6CiB3aXRoIGtvZGkgLiBXb3JraW5nRGlhbG9nICggKSA6CiAgdXRpbHMyIC4gcmVzZXRfYmFzZV91cmwgKCApCiBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdyZXNldF9jb21wbGV0ZScgKSApCiBpZiAzMCAtIDMwOiBpMTFpIC0gSWkxMTExMWkgLSBpMTFpSWlpSWlpICUgaWkxSWlJMWkgLSBpMTFpICogb08wbwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gQVVUT19DT05GICkKZGVmIG9PMDBPME8wTyAoICkgOgogZ3VpX3V0aWxzIC4gZG9fYXV0b19jb25maWcgKCApCiBpZiAzMSAtIDMxOiBpaUkxaTEgLSBpMTFpIC4gaWlJMWkxCmRlZiBPT08wTyAoIHNlY3Rpb24gKSA6CiBpMUkxMWkxSSA9IFsgXQogT28wbzAwID0ga29kaSAuIGdldF9zZXR0aW5nICggJyVzX21haW4nICUgKCBzZWN0aW9uICkgKQogaWYgT28wbzAwIDoKICBpMUkxMWkxSSA9IE9vMG8wMCAuIHNwbGl0ICggJ3wnICkKICBPME8wb09PMDBPMDBvID0gZGljdCAoICggJyVzQCVzJyAlICggaXRlbSBbIDEgXSAsIGl0ZW0gWyAwIF0gKSAsIGl0ZW0gKSBmb3IgaXRlbSBpbiBkYl9jb25uZWN0aW9uIC4gZ2V0X290aGVyX2xpc3RzICggc2VjdGlvbiApICkKICBpZiBpSTEgOgogICBpSTFpaTExaUlpMWkgPSBkaWN0ICggKCBpaUkxMTFJMWlJaUkgWyAnaWRzJyBdIFsgJ3NsdWcnIF0gLCBpaUkxMTFJMWlJaUkgKSBmb3IgaWlJMTExSTFpSWlJIGluIE9vIC4gZ2V0X2xpc3RzICggKSApCiAgIGlmIDQxIC0gNDE6IG8wIC4gT28wb08wb29vICsgTzAgKiBPT29vT09vICUgbzAgKiBvMAogZm9yIGlJSUlJaTFpaUlpMSBpbiBpMUkxMWkxSSA6CiAgaWYgJ0AnIG5vdCBpbiBpSUlJSWkxaWlJaTEgOgogICBpZiBpSTEgOgogICAgaWlpMWkxaWlpaUlpID0geyAnbmFtZScgOiBpSUlJSWkxaWlJaTEgLCAnaWRzJyA6IHsgJ3NsdWcnIDogaUlJSUlpMWlpSWkxIH0gfQogICAgaWlJMTExSTFpSWlJID0gaUkxaWkxMWlJaTFpIC4gZ2V0ICggaUlJSUlpMWlpSWkxICwgaWlpMWkxaWlpaUlpICkKICAgIElpaWlPTzBPb08wbzAwICggc2VjdGlvbiAsIGlpSTExMUkxaUlpSSApCiAgZWxzZSA6CiAgIG9vT08wTzBvb09vb08gPSBPME8wb09PMDBPMDBvIC4gZ2V0ICggaUlJSUlpMWlpSWkxICwgbGlzdCAoIHJldmVyc2VkICggaUlJSUlpMWlpSWkxIC4gc3BsaXQgKCAnQCcgKSApICkgKQogICBpZiA1NSAtIDU1OiBPT29vT09vICogaWkxSWlJMWkKICAgaWYgNjEgLSA2MTogaWlJMWkxCmRlZiBvbzBvb08wb09PT09vICggcXVlcmllcyAsIGxhYmVsICwgdGh1bWIgLCBmYW5hcnQgKSA6CiBPMG9Pb09PT29PTyA9IHsgJ21vZGUnIDogTU9ERVMgLiBGT1JDRV9SRUZSRVNIICwgJ3JlZnJlc2hfbW9kZScgOiBxdWVyaWVzIFsgJ21vZGUnIF0gfQogaWYgJ3NlY3Rpb24nIGluIHF1ZXJpZXMgOiBPMG9Pb09PT29PTyAuIHVwZGF0ZSAoIHsgJ3NlY3Rpb24nIDogcXVlcmllcyBbICdzZWN0aW9uJyBdIH0gKQogSUkxMWlpaWkxSWkgPSBbICggaTE4biAoICdmb3JjZV9yZWZyZXNoJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBPMG9Pb09PT29PTyApICkgKSBdCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCBxdWVyaWVzICwgbGFiZWwgLCB0aHVtYiA9IHRodW1iICwgZmFuYXJ0ID0gZmFuYXJ0ICwgaXNfZm9sZGVyID0gVHJ1ZSAsIG1lbnVfaXRlbXMgPSBJSTExaWlpaTFJaSApCiBpZiAzOCAtIDM4OiBvMDAKZGVmIG9PMDAwT29Pb28wMG8gKCBxdWVyaWVzICwgbGFiZWwgLCB0aHVtYiAsIGNsZWFyX21vZGUgKSA6CiBJaTEgPSB7ICdtb2RlJyA6IGNsZWFyX21vZGUgLCAnc2VjdGlvbicgOiBxdWVyaWVzIFsgJ3NlY3Rpb24nIF0gfQogSUkxMWlpaWkxSWkgPSBbICggaTE4biAoICdjbGVhcl9hbGwnICkgJSAoIGxhYmVsICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIElpMSApICkgKSBdCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCBxdWVyaWVzICwgbGFiZWwgLCB0aHVtYiA9IHRodW1iICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBUcnVlICwgbWVudV9pdGVtcyA9IElJMTFpaWlpMUlpICkKIGlmIDgyIC0gODI6IEkxMWlJaTFJIC0gaUlpaTFJMTFJMUlJMSAvIElpMTExMTFpICsgb08wbwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gRk9SQ0VfUkVGUkVTSCAsIFsgJ3JlZnJlc2hfbW9kZScgXSAsIFsgJ3NlY3Rpb24nICwgJ3NsdWcnICwgJ3VzZXJuYW1lJyBdICkKZGVmIE9PT09vT29vME8wTzAgKCByZWZyZXNoX21vZGUgLCBzZWN0aW9uID0gTm9uZSAsIHNsdWcgPSBOb25lICwgdXNlcm5hbWUgPSBOb25lICkgOgoga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnZm9yY2luZ19yZWZyZXNoJyApICkKIG8wT08wMCAuIGxvZyAoICdGb3JjaW5nIHJlZnJlc2ggZm9yIG1vZGU6IHwlc3wlc3wlc3wlc3wnICUgKCByZWZyZXNoX21vZGUgLCBzZWN0aW9uICwgc2x1ZyAsIHVzZXJuYW1lICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiBPT09vMDBvbzBvTyA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBub3cgKCApCiBJSWlJaTFpSSA9IGludCAoIGtvZGkgLiBnZXRfc2V0dGluZyAoICdjYWxlbmRhci1kYXknICkgKQogaTFJaWlpSTFpSSA9IE9PT28wMG9vMG9PICsgZGF0ZXRpbWUgLiB0aW1lZGVsdGEgKCBkYXlzID0gSUlpSWkxaUkgKQogaTFJaWlpSTFpSSA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBzdHJmdGltZSAoIGkxSWlpaUkxaUkgLCAnJVktJW0tJWQnICkKIGlmIHJlZnJlc2hfbW9kZSA9PSBNT0RFUyAuIFNIT1dfQ09MTEVDVElPTiA6CiAgT28gLiBnZXRfY29sbGVjdGlvbiAoIHNlY3Rpb24gLCBjYWNoZWQgPSBGYWxzZSApCiBlbGlmIHJlZnJlc2hfbW9kZSA9PSBNT0RFUyAuIFNIT1dfUFJPR1JFU1MgOgogIHRyeSA6CiAgIGkxaUlpICwgb29PT29vb29vbyA9IElJMUkgKCBjYWNoZWQgPSBGYWxzZSApCiAgZmluYWxseSA6CiAgIHRyeSA6IHdvcmtlcl9wb29sIC4gcmVhcF93b3JrZXJzICggaTFpSWkgLCBOb25lICkKICAgZXhjZXB0IDogcGFzcwogZWxpZiByZWZyZXNoX21vZGUgPT0gTU9ERVMgLiBNWV9DQUwgOgogIE9vIC4gZ2V0X215X2NhbGVuZGFyICggaTFJaWlpSTFpSSAsIDggLCBjYWNoZWQgPSBGYWxzZSApCiBlbGlmIHJlZnJlc2hfbW9kZSA9PSBNT0RFUyAuIENBTCA6CiAgT28gLiBnZXRfY2FsZW5kYXIgKCBpMUlpaWlJMWlJICwgOCAsIGNhY2hlZCA9IEZhbHNlICkKIGVsaWYgcmVmcmVzaF9tb2RlID09IE1PREVTIC4gUFJFTUlFUkVTIDoKICBPbyAuIGdldF9wcmVtaWVyZXMgKCBpMUlpaWlJMWlJICwgOCAsIGNhY2hlZCA9IEZhbHNlICkKIGVsaWYgcmVmcmVzaF9tb2RlID09IE1PREVTIC4gU0hPV19MSVNUIDoKICBPMGkxSUkxSWlpaTFJMTEgKCBzZWN0aW9uICwgc2x1ZyAsIHVzZXJuYW1lICwgY2FjaGVkID0gRmFsc2UgKQogZWxpZiByZWZyZXNoX21vZGUgPT0gTU9ERVMgLiBTSE9XX1dBVENITElTVCA6CiAgTzBpMUlJMUlpaWkxSTExICggc2VjdGlvbiAsIFdBVENITElTVF9TTFVHICwgdXNlcm5hbWUgLCBjYWNoZWQgPSBGYWxzZSApCiBlbGlmIHJlZnJlc2hfbW9kZSA9PSBNT0RFUyAuIE1BTkFHRV9TVUJTIDoKICBzbHVnID0ga29kaSAuIGdldF9zZXR0aW5nICggJyVzX3N1Yl9zbHVnJyAlICggc2VjdGlvbiApICkKICBpZiBzbHVnIDoKICAgTzBpMUlJMUlpaWkxSTExICggc2VjdGlvbiAsIHNsdWcgLCB1c2VybmFtZSAsIGNhY2hlZCA9IEZhbHNlICkKIGVsaWYgcmVmcmVzaF9tb2RlID09IE1PREVTIC4gTElLRURfTElTVFMgOgogIE9vIC4gZ2V0X2xpa2VkX2xpc3RzICggY2FjaGVkID0gRmFsc2UgKQogZWxpZiByZWZyZXNoX21vZGUgPT0gTU9ERVMgLiBTSE9XX1JFV0FUQ0ggOgogIHRyeSA6CiAgIGkxaUlpICwgSUlJSWlpSWlJID0gbzAwb29vTzBPbyAoIGNhY2hlZCA9IEZhbHNlICkKICBmaW5hbGx5IDoKICAgdHJ5IDogd29ya2VyX3Bvb2wgLiByZWFwX3dvcmtlcnMgKCBpMWlJaSAsIE5vbmUgKQogICBleGNlcHQgOiBwYXNzCiBlbHNlIDoKICBvME9PMDAgLiBsb2cgKCAnRm9yY2UgcmVmcmVzaCBvbiB1bnN1cHBvcnRlZCBtb2RlOiB8JXN8JyAlICggcmVmcmVzaF9tb2RlICkgLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICByZXR1cm4KICBpZiA3OCAtIDc4OiBvTzBvICUgbzAwICsgSTExaUlpMUkKIG8wT08wMCAuIGxvZyAoICdGb3JjZSByZWZyZXNoIGNvbXBsZXRlOiB8JXN8JXN8JXN8JXN8JyAlICggcmVmcmVzaF9tb2RlICwgc2VjdGlvbiAsIHNsdWcgLCB1c2VybmFtZSApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQoga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnZm9yY2VfcmVmcmVzaF9jb21wbGV0ZScgKSApCiBpZiA2NCAtIDY0OiBJaWlJSUkxMTFpSSAqIE8wIC4gb09vb09vTzBPbzBPICsgaTExaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gTU9TVFMgLCBbICdzZWN0aW9uJyBdICkKZGVmIElJaTFpICggc2VjdGlvbiApIDoKIE9PT08wME8wTyA9IFsgKCBNT0RFUyAuIFBMQVlFRCAsICdtb3N0X3BsYXllZF8lcycgKSAsICggTU9ERVMgLiBXQVRDSEVEICwgJ21vc3Rfd2F0Y2hlZF8lcycgKSAsICggTU9ERVMgLiBDT0xMRUNURUQgLCAnbW9zdF9jb2xsZWN0ZWRfJXMnICkgXQogZm9yIGlpaSBpbiBPT09PMDBPME8gOgogIGZvciBvT29vT09Pb09vIGluIFsgJ3dlZWtseScgLCAnbW9udGhseScgLCAnYWxsJyBdIDoKICAga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBpaWkgWyAwIF0gLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3BlcmlvZCcgOiBvT29vT09Pb09vIH0gLCBpMThuICggaWlpIFsgMSBdICUgKCBvT29vT09Pb09vICkgKSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJyVzLnBuZycgJSAoIGlpaSBbIDEgXSAlICggb09vb09PT29PbyApICkgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICkKIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBBRERPTlMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA0MSAtIDQxOiBvTzBvIC0gTzAgLSBPMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUExBWUVEICwgWyAnbW9kZScgLCAnc2VjdGlvbicgLCAncGVyaW9kJyBdICwgWyAncGFnZScgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBXQVRDSEVEICwgWyAnbW9kZScgLCAnc2VjdGlvbicgLCAncGVyaW9kJyBdICwgWyAncGFnZScgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBDT0xMRUNURUQgLCBbICdtb2RlJyAsICdzZWN0aW9uJyAsICdwZXJpb2QnIF0gLCBbICdwYWdlJyBdICkKZGVmIG9PMDBPT29PMDAgKCBtb2RlICwgc2VjdGlvbiAsIHBlcmlvZCAsIHBhZ2UgPSAxICkgOgogaWYgbW9kZSA9PSBNT0RFUyAuIFBMQVlFRCA6CiAgSWlJMTExMTExSUlJSSA9IE9vIC4gZ2V0X21vc3RfcGxheWVkICggc2VjdGlvbiAsIHBlcmlvZCAsIHBhZ2UgKQogZWxpZiBtb2RlID09IE1PREVTIC4gV0FUQ0hFRCA6CiAgSWlJMTExMTExSUlJSSA9IE9vIC4gZ2V0X21vc3Rfd2F0Y2hlZCAoIHNlY3Rpb24gLCBwZXJpb2QgLCBwYWdlICkKIGVsaWYgbW9kZSA9PSBNT0RFUyAuIENPTExFQ1RFRCA6CiAgSWlJMTExMTExSUlJSSA9IE9vIC4gZ2V0X21vc3RfY29sbGVjdGVkICggc2VjdGlvbiAsIHBlcmlvZCAsIHBhZ2UgKQogT09vTzAwME8wT08gKCBzZWN0aW9uICwgSWlJMTExMTExSUlJSSAsIHF1ZXJ5ID0geyAnbW9kZScgOiBtb2RlICwgJ3NlY3Rpb24nIDogc2VjdGlvbiAsICdwZXJpb2QnIDogcGVyaW9kIH0gLCBwYWdlID0gcGFnZSApCiBpZiAzNyAtIDM3OiBvMDAgLyBpaTFJaUkxaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0NSQVBFUlMgKQpkZWYgaTFJMWlJMWlJaTExMWkgKCApIDoKIGlpSWkxSUlpMUkgPSB0cmFuc2lzdG9ydHZfdXRpbHMgLiByZWxldmFudF9zY3JhcGVycyAoIE5vbmUgLCBUcnVlICwgVHJ1ZSApCiBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAndG9nZ2xlX2VuYWJsZScgKSA9PSAndHJ1ZScgOgogIGlJaTFpaTFJMSA9ICcqKiVzKionICUgKCBpMThuICggJ2VuYWJsZV9hbGxfc2NyYXBlcnMnICkgKQogZWxzZSA6CiAgaUlpMWlpMUkxID0gJyoqJXMqKicgJSAoIGkxOG4gKCAnZGlzYWJsZV9hbGxfc2NyYXBlcnMnICkgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFRPR0dMRV9BTEwgfSAsIGlJaTFpaTFJMSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ3NjcmFwZXIucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBGYWxzZSAsIGlzX3BsYXlhYmxlID0gRmFsc2UgKQogbzBPb09PMDAwb29PMCA9IFsgJ2dyZWVuJyAsICdsaW1lZ3JlZW4nICwgJ2dyZWVueWVsbG93JyAsICd5ZWxsb3dncmVlbicgLCAneWVsbG93JyAsICdvcmFuZ2UnICwgJ2RhcmtvcmFuZ2UnICwgJ29yYW5nZXJlZCcgLCAncmVkJyAsICdkYXJrcmVkJyBdCiBvMG8wbzBvTzBvT08gPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnZGlzYWJsZS1saW1pdCcgKSApCiBpaTFJaTExSSA9IHV0aWxzMiAuIGdldF9mYWlsdXJlcyAoICkKIGZvciBvMDBvMCAsIGlpIGluIGVudW1lcmF0ZSAoIGlpSWkxSUlpMUkgKSA6CiAgT09vb29vTzBPbyA9IGlpIC4gZ2V0X25hbWUgKCApCiAgaUlpMWlpMUkxID0gJyVzIChQcm92aWRlczogJXMpJyAlICggT09vb29vTzBPbyAsIHN0ciAoIGxpc3QgKCBpaSAuIHByb3ZpZGVzICggKSApICkgLiByZXBsYWNlICggIiciICwgIiIgKSApCiAgaWYgbm90IHV0aWxzMiAuIHNjcmFwZXJfZW5hYmxlZCAoIE9Pb29vb08wT28gKSA6CiAgIGlJaTFpaTFJMSA9ICdbQ09MT1IgZGFya3JlZF0lc1svQ09MT1JdJyAlICggaUlpMWlpMUkxICkKICAgT08gPSBpMThuICggJ2VuYWJsZV9zY3JhcGVyJyApCiAgZWxzZSA6CiAgIE9PID0gaTE4biAoICdkaXNhYmxlX3NjcmFwZXInICkKICBpSWlJSWkxID0gaWkxSWkxMUkgLiBnZXQgKCBpaSAuIGdldF9uYW1lICggKSAsIDAgKQogIGlmIGlJaUlJaTEgPT0gLSAxIDoKICAgaUlpSUlpMSA9ICdOL0EnCiAgIEkxSUlJSTFpID0gMAogIGVsc2UgOgogICBJMUlJSUkxaSA9IG1pbiAoIFsgKCBpbnQgKCBpSWlJSWkxICkgKiAoIGxlbiAoIG8wT29PTzAwMG9vTzAgKSAtIDEgKSAvIG8wbzBvMG9PMG9PTyApICwgbGVuICggbzBPb09PMDAwb29PMCApIC0gMSBdICkKICAgaWYgMiAtIDI6IGlpSTFpMSArIG9PMG8gLSBvT29vT29PME9vME8gJSBPT29vT09vIC4gSUkxaQogIGlJaTFpaTFJMSA9ICclcy4gJXMgW0NPTE9SICVzXVtGTDogJXNdWy9DT0xPUl06JyAlICggbzAwbzAgKyAxICwgaUlpMWlpMUkxICwgbzBPb09PMDAwb29PMCBbIEkxSUlJSTFpIF0gLCBpSWlJSWkxICkKICBpZiAxOCAtIDE4OiBJaTExMTExaSArIElJMWkgLSBvTzBvIC4gaTExaSArIGkxMWlJaWlJaWkKICBJSTExaWlpaTFJaSA9IFsgXQogIGlmIG8wMG8wID4gMCA6CiAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gTU9WRV9TQ1JBUEVSICwgJ25hbWUnIDogT09vb29vTzBPbyAsICdkaXJlY3Rpb24nIDogRElSUyAuIFVQICwgJ290aGVyJyA6IGlpSWkxSUlpMUkgWyBvMDBvMCAtIDEgXSAuIGdldF9uYW1lICggKSB9CiAgIElJMTFpaWlpMUlpIC4gYXBwZW5kICggWyBpMThuICggJ21vdmVfdXAnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApIF0gKQogIGlmIG8wMG8wIDwgbGVuICggaWlJaTFJSWkxSSApIC0gMSA6CiAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gTU9WRV9TQ1JBUEVSICwgJ25hbWUnIDogT09vb29vTzBPbyAsICdkaXJlY3Rpb24nIDogRElSUyAuIERPV04gLCAnb3RoZXInIDogaWlJaTFJSWkxSSBbIG8wMG8wICsgMSBdIC4gZ2V0X25hbWUgKCApIH0KICAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCBbIGkxOG4gKCAnbW92ZV9kb3duJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSBdICkKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIE1PVkVfVE8gLCAnbmFtZScgOiBPT29vb29PME9vIH0KICBJSTExaWlpaTFJaSAuIGFwcGVuZCAoIFsgaTE4biAoICdtb3ZlX3RvJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSBdICkKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFJFU0VUX0ZBSUxTICwgJ25hbWUnIDogT09vb29vTzBPbyB9CiAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCBbIGkxOG4gKCAncmVzZXRfZmFpbHMnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApIF0gKQogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gUkVTRVRfUkVMX1VSTFMgLCAnbmFtZScgOiBPT29vb29PME9vIH0KICBJSTExaWlpaTFJaSAuIGFwcGVuZCAoIFsgaTE4biAoICdyZXNldF9yZWxfdXJscycgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgXSApCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBUT0dHTEVfU0NSQVBFUiAsICduYW1lJyA6IE9Pb29vb08wT28gfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggWyBPTyAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgXSApCiAgaWYgMjAgLSAyMDogbzAwCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBUT0dHTEVfU0NSQVBFUiAsICduYW1lJyA6IE9Pb29vb08wT28gfQogIGtvZGkgLiBjcmVhdGVfaXRlbSAoIGlpMUkgLCBpSWkxaWkxSTEgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdzY3JhcGVyLnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICwgaXNfZm9sZGVyID0gRmFsc2UgLAogaXNfcGxheWFibGUgPSBGYWxzZSAsIG1lbnVfaXRlbXMgPSBJSTExaWlpaTFJaSAsIHJlcGxhY2VfbWVudSA9IFRydWUgKQoga29kaSAuIHNldF9jb250ZW50ICggQ09OVEVOVF9UWVBFUyAuIEZJTEVTICkKIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogaWYgNTIgLSA1MjogaTExaSAtIE9vb29vb29vT08gJSBvTzBvICsgb09vb09vTzBPbzBPICogbzAgLiBvMDBvb28wCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRVNFVF9SRUxfVVJMUyAsIFsgJ25hbWUnIF0gKQpkZWYgTzBPTzBPICggbmFtZSApIDoKIGRiX2Nvbm5lY3Rpb24gLiBjbGVhcl9zY3JhcGVyX3JlbGF0ZWRfdXJscyAoIG5hbWUgKQoga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnc2NyYXBlcl91cmxfcmVzZXQnICkgJSAoIG5hbWUgKSApCiBpZiA4MSAtIDgxOiBJaWlJSUkxMTFpSSAuIE9Pb29PT28gJSBPMCAvIG9Pb29Pb08wT28wTyAtIElpaUlJSTExMWlJCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRVNFVF9GQUlMUyAsIFsgJ25hbWUnIF0gKQpkZWYgSWkxSTFpICggbmFtZSApIDoKIGlJaUlJaTEgPSB1dGlsczIgLiBnZXRfZmFpbHVyZXMgKCApCiBpSWlJSWkxIFsgbmFtZSBdID0gMAogdXRpbHMyIC4gc3RvcmVfZmFpbHVyZXMgKCBpSWlJSWkxICkKIGtvZGkgLiByZWZyZXNoX2NvbnRhaW5lciAoICkKIGlmIDk5IC0gOTk6IElpaUlJSTExMWlJIC4gSUkxaSArIE9vMG9PMG9vbyAlIElpaUlJSTExMWlJIC4gaTExaUlpaUlpaSAlIE8wCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBNT1ZFX1RPICwgWyAnbmFtZScgXSApCmRlZiBvT08wME8gKCBuYW1lICkgOgogT09Pb28wT08gPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogb08wbzAgPSB0cmFuc2lzdG9ydHZfdXRpbHMgLiBtYWtlX3NvdXJjZV9zb3J0X2tleSAoICkKIGlJMUlpMTFpSWlJMSA9IE9PT29vME9PIC4gbnVtZXJpYyAoIDAgLCBpMThuICggJ25ld19wb3MnICkgJSAoIGxlbiAoIG9PMG8wICkgKSApCiBpZiBpSTFJaTExaUlpSTEgOgogIGlJMUlpMTFpSWlJMSA9IGludCAoIGlJMUlpMTFpSWlJMSApCiAgT08wT29vbzBvT08wTyA9IG9PMG8wIFsgbmFtZSBdCiAgbzAwTzAgPSAtIGlJMUlpMTFpSWlJMSArIDEKICBpZiAoIGlJMUlpMTFpSWlJMSA8PSAwIG9yIGlJMUlpMTFpSWlJMSA+IGxlbiAoIG9PMG8wICkgKSBvciBPTzBPb29vMG9PTzBPID09IG8wME8wIDoKICAgcmV0dXJuCiAgIGlmIDgzIC0gODM6IE9vMG9PMG9vbwogIGZvciBvTzAwT28wTzBvIGluIG9PMG8wIDoKICAgaWkxID0gb08wbzAgWyBvTzAwT28wTzBvIF0KICAgaWYgMzUgLSAzNTogSUkxaSAqIElpaUlJSTExMWlJIC8gaUlpaTFJMTFJMUlJMSAtIE9Pb29PT28gLyBPb29vb29vb09PIC0gbzAwCiAgIGlmIG8wME8wID4gT08wT29vbzBvT08wTyA6CiAgICBpZiAxNiAtIDE2OiBJaWlJSUkxMTFpSSAlIEkxMWlJaTFJICogaTExaUlpaUlpaSAlIGkxMWlJaWlJaWkKICAgIGlmIGlpMSA+IE9PME9vb28wb09PME8gYW5kIGlpMSA8PSBvMDBPMCA6CiAgICAgb08wbzAgWyBvTzAwT28wTzBvIF0gLT0gMQogICAgIGlmIDY1IC0gNjU6IG9PMG8gLSBJaWlJSUkxMTFpSSArIElpaUlJSTExMWlJICsgaTExaQogICBlbHNlIDoKICAgIGlmIDk2IC0gOTY6IElpMTExMTFpICUgTzAgLyBPMAogICAgaWYgaWkxID4gbzAwTzAgYW5kIGlpMSA8PSBvMDBPMCA6CiAgICAgb08wbzAgWyBvTzAwT28wTzBvIF0gKz0gMQogICAgIGlmIDQ0IC0gNDQ6IElpaUlJSTExMWlJIC8gaWlJMWkxIC8gaWlJMWkxCiAgb08wbzAgWyBuYW1lIF0gPSBvMDBPMAoga29kaSAuIHNldF9zZXR0aW5nICggJ3NvdXJjZV9zb3J0X29yZGVyJyAsIHV0aWxzMiAuIG1ha2Vfc291cmNlX3NvcnRfc3RyaW5nICggb08wbzAgKSApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiA4NyAtIDg3OiBvMCAuIG9Pb29Pb08wT28wTyAtIGkxMWkgKyBPMCAvIG8wIC8gSWlpSUlJMTExaUkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIE1PVkVfU0NSQVBFUiAsIFsgJ25hbWUnICwgJ2RpcmVjdGlvbicgLCAnb3RoZXInIF0gKQpkZWYgSWlJICggbmFtZSAsIGRpcmVjdGlvbiAsIG90aGVyICkgOgogb08wbzAgPSB0cmFuc2lzdG9ydHZfdXRpbHMgLiBtYWtlX3NvdXJjZV9zb3J0X2tleSAoICkKIGlmIGRpcmVjdGlvbiA9PSBESVJTIC4gVVAgOgogIG9PMG8wIFsgbmFtZSBdICs9IDEKICBvTzBvMCBbIG90aGVyIF0gLT0gMQogZWxpZiBkaXJlY3Rpb24gPT0gRElSUyAuIERPV04gOgogIG9PMG8wIFsgbmFtZSBdIC09IDEKICBvTzBvMCBbIG90aGVyIF0gKz0gMQoga29kaSAuIHNldF9zZXR0aW5nICggJ3NvdXJjZV9zb3J0X29yZGVyJyAsIHV0aWxzMiAuIG1ha2Vfc291cmNlX3NvcnRfc3RyaW5nICggb08wbzAgKSApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiAzMiAtIDMyOiBPT29vT09vICsgb09vb09vTzBPbzBPICsgbzAwIC4gT28wb08wb29vIC0gaTFJSWkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFRPR0dMRV9BTEwgKQpkZWYgaTFJSUkxSSAoICkgOgogT09PT29Pb08wbzAgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAndG9nZ2xlX2VuYWJsZScgKQogaWlJaTFJSWkxSSA9IHRyYW5zaXN0b3J0dl91dGlscyAuIHJlbGV2YW50X3NjcmFwZXJzICggTm9uZSAsIFRydWUgLCBUcnVlICkKIGZvciBvTzBPMDBvT09vb29PIGluIGlpSWkxSUlpMUkgOgogIGtvZGkgLiBzZXRfc2V0dGluZyAoICclcy1lbmFibGUnICUgKCBvTzBPMDBvT09vb29PIC4gZ2V0X25hbWUgKCApICkgLCBPT09Pb09vTzBvMCApCiAgaWYgNDYgLSA0Njogb09vb09vTzBPbzBPIC0gT29vb29vb29PTyAtIGlpSTFpMSAqIGkxMWkKIEkxaTFJMTFJID0gJ2ZhbHNlJyBpZiBPT09Pb09vTzBvMCA9PSAndHJ1ZScgZWxzZSAndHJ1ZScKIGtvZGkgLiBzZXRfc2V0dGluZyAoICd0b2dnbGVfZW5hYmxlJyAsIEkxaTFJMTFJICkKIGtvZGkgLiByZWZyZXNoX2NvbnRhaW5lciAoICkKIGlmIDgwIC0gODA6IGkxMWlJaWlJaWkgJSBPbzBvTzBvb28gKyBvTzBvICUgaWlJMWkxIC0gSTExaUlpMUkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFRPR0dMRV9TQ1JBUEVSICwgWyAnbmFtZScgXSApCmRlZiBJMWkxaTFpaWkgKCBuYW1lICkgOgogaWYgdXRpbHMyIC4gc2NyYXBlcl9lbmFibGVkICggbmFtZSApIDoKICBJMTExMWkgPSAnZmFsc2UnCiBlbHNlIDoKICBJMTExMWkgPSAndHJ1ZScKIGtvZGkgLiBzZXRfc2V0dGluZyAoICclcy1lbmFibGUnICUgKCBuYW1lICkgLCBJMTExMWkgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgMTQgLSAxNDogSWkxMTExMWkgLyBPT29vT09vCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBUUkVORElORyAsIFsgJ3NlY3Rpb24nIF0gLCBbICdwYWdlJyBdICkKZGVmIGlJSTExSTFJaWlJaSAoIHNlY3Rpb24gLCBwYWdlID0gMSApIDoKIGlpaUlpID0gT28gLiBnZXRfdHJlbmRpbmcgKCBzZWN0aW9uICwgcGFnZSApCiBPT29PMDAwTzBPTyAoIHNlY3Rpb24gLCBpaWlJaSAsIHF1ZXJ5ID0geyAnbW9kZScgOiBNT0RFUyAuIFRSRU5ESU5HICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgcGFnZSA9IHBhZ2UgKQogaWYgOTggLSA5ODogaTFJSWkgLyBpaUkxaTEKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFBPUFVMQVIgLCBbICdzZWN0aW9uJyBdICwgWyAncGFnZScgXSApCmRlZiBpMWlpMUkxMTExaWkxICggc2VjdGlvbiAsIHBhZ2UgPSAxICkgOgogaWlpSWkgPSBPbyAuIGdldF9wb3B1bGFyICggc2VjdGlvbiAsIHBhZ2UgKQogT09vTzAwME8wT08gKCBzZWN0aW9uICwgaWlpSWkgLCBxdWVyeSA9IHsgJ21vZGUnIDogTU9ERVMgLiBQT1BVTEFSICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgcGFnZSA9IHBhZ2UgKQogaWYgMzUgLSAzNTogaWkxSWlJMWkgLyBPT29vT09vIC8gbzAwCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBBTlRJQ0lQQVRFRCAsIFsgJ3NlY3Rpb24nIF0gLCBbICdwYWdlJyBdICkKZGVmIG9PbzBPT29PMCAoIHNlY3Rpb24gLCBwYWdlID0gMSApIDoKIGlpaUlpID0gT28gLiBnZXRfYW50aWNpcGF0ZWQgKCBzZWN0aW9uICwgcGFnZSApCiBPT29PMDAwTzBPTyAoIHNlY3Rpb24gLCBpaWlJaSAsIHF1ZXJ5ID0geyAnbW9kZScgOiBNT0RFUyAuIEFOVElDSVBBVEVEICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgcGFnZSA9IHBhZ2UgKQogaWYgMTEgLSAxMTogSTExaUlpMUkgLiBpMSAqIG8wMG9vbzAgKiBPb29vb29vb09PICsgT28wb08wb29vCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRUNFTlQgLCBbICdzZWN0aW9uJyBdICwgWyAncGFnZScgXSApCmRlZiBJaUlJMTExaTFpMTEgKCBzZWN0aW9uICwgcGFnZSA9IDEgKSA6CiBPT09vMDBvbzBvTyA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBub3cgKCApCiBpMUlpaWlJMWlJID0gT09PbzAwb28wb08gLSBkYXRldGltZSAuIHRpbWVkZWx0YSAoIGRheXMgPSA3ICkKIGkxSWlpaUkxaUkgPSBkYXRldGltZSAuIGRhdGV0aW1lIC4gc3RyZnRpbWUgKCBpMUlpaWlJMWlJICwgJyVZLSVtLSVkJyApCiBpaWlJaSA9IE9vIC4gZ2V0X3JlY2VudCAoIHNlY3Rpb24gLCBpMUlpaWlJMWlJICwgcGFnZSApCiBPT29PMDAwTzBPTyAoIHNlY3Rpb24gLCBpaWlJaSAsIHF1ZXJ5ID0geyAnbW9kZScgOiBNT0RFUyAuIFJFQ0VOVCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIHBhZ2UgPSBwYWdlICkKIGlmIDQwIC0gNDA6IE9vMG9PMG9vbyAqIG8wMG9vbzAgKiBpMTFpSWlpSWlpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRUNPTU1FTkQgLCBbICdzZWN0aW9uJyBdICkKZGVmIG9vME9PMDBPb29vT28gKCBzZWN0aW9uICkgOgogaWlpSWkgPSBPbyAuIGdldF9yZWNvbW1lbmRhdGlvbnMgKCBzZWN0aW9uICkKIE9Pb08wMDBPME9PICggc2VjdGlvbiAsIGlpaUlpICkKIGlmIDE5IC0gMTk6IEkxMWlJaTFJICUgT29vb29vb29PTyAlIG8wMG9vbzAgKiBPT29vT09vICUgTzAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFNIT1dfSElTVE9SWSAsIFsgJ3NlY3Rpb24nIF0gLCBbICdwYWdlJyBdICkKZGVmIG9vbyAoIHNlY3Rpb24gLCBwYWdlID0gMSApIDoKIE9PbzAwMCA9IHV0aWxzMiAuIGdldF9zZWN0aW9uX3BhcmFtcyAoIHNlY3Rpb24gKQogaTFpMWlJMWlpaUkgPSBPbyAuIGdldF9oaXN0b3J5ICggc2VjdGlvbiAsIGZ1bGwgPSBUcnVlICwgcGFnZSA9IHBhZ2UgKQogT29vMG9Pb29vMCA9IGxlbiAoIGkxaTFpSTFpaWlJICkKIGZvciBvT09Pb28wMCBpbiBpMWkxaUkxaWlpSSA6CiAgaWYgc2VjdGlvbiA9PSBTRUNUSU9OUyAuIE1PVklFUyA6CiAgIG9PT09vbzAwIFsgJ21vdmllJyBdIFsgJ3dhdGNoZWQnIF0gPSBUcnVlCiAgIE8wbzBPbyAsIE9vMDBPT09PTyA9IE8wT08wMG8wT08gKCBPT28wMDAgLCBvT09Pb28wMCBbICdtb3ZpZScgXSApCiAgZWxzZSA6CiAgIGlpSWlJSUlpaUkgPSBvT09Pb28wMCBbICdzaG93JyBdCiAgIG9PT09vbzAwIFsgJ2VwaXNvZGUnIF0gWyAnd2F0Y2hlZCcgXSA9IFRydWUKICAgSUkxMWlpaWkxSWkgPSBbIF0KICAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTRUFTT05TICwgJ3RyYWt0X2lkJyA6IGlpSWlJSUlpaUkgWyAnaWRzJyBdIFsgJ3RyYWt0JyBdICwgJ3RpdGxlJyA6IGlpSWlJSUlpaUkgWyAndGl0bGUnIF0gLCAneWVhcicgOiBpaUlpSUlJaWlJIFsgJ3llYXInIF0gLCAndHZkYl9pZCcgOiBpaUlpSUlJaWlJIFsgJ2lkcycgXSBbICd0dmRiJyBdIH0KICAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnYnJvd3NlX3NlYXNvbnMnICkgLCAnQ29udGFpbmVyLlVwZGF0ZSglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogICBPMG8wT28gLCBPbzAwT09PT08gPSBJMTFpMSAoIGlpSWlJSUlpaUkgLCBvT09Pb28wMCBbICdlcGlzb2RlJyBdICwgc2hvd19zdWJzID0gRmFsc2UgLCBtZW51X2l0ZW1zID0gSUkxMWlpaWkxSWkgKQogICBpSWkxaWkxSTEgPSBPMG8wT28gLiBnZXRMYWJlbCAoICkKICAgaUlpMWlpMUkxID0gJyVzIC0gJXMnICUgKCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICwgaUlpMWlpMUkxICkKICAgTzBvME9vIC4gc2V0TGFiZWwgKCBpSWkxaWkxSTEgKQogICBpZiAxMiAtIDEyOiBPMCAtIE9Pb29PT28KICBpSWkxaWkxSTEgPSBPMG8wT28gLiBnZXRMYWJlbCAoICkKICBvT29PMDBPMCA9IHRpbWUgLiBzdHJmdGltZSAoICclWS0lbS0lZCcgLCB0aW1lIC4gbG9jYWx0aW1lICggdXRpbHMgLiBpc29fMl91dGMgKCBvT09Pb28wMCBbICd3YXRjaGVkX2F0JyBdICkgKSApCiAgT09JaTFpSTExMUlJMUkxID0gJ1tDT0xPUiBkZWVwcGlua10lc1svQ09MT1JdJyAlICggdXRpbHMyIC4gbWFrZV9kYXkgKCBvT29PMDBPMCAsIHVzZV93b3JkcyA9IEZhbHNlICkgKQogIGlJaTFpaTFJMSA9ICdbJXNdICVzJyAlICggT09JaTFpSTExMUlJMUkxICwgaUlpMWlpMUkxICkKICBPMG8wT28gLiBzZXRMYWJlbCAoIGlJaTFpaTFJMSApCiAgaWYgOTEgLSA5MTogSWkxMTExMWkgJSBJaTExMTExaSAtIG9Pb29Pb08wT28wTwogIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgT28wME9PT09PICwgTzBvME9vICwgaXNGb2xkZXIgPSBGYWxzZSAsIHRvdGFsSXRlbXMgPSBPb28wb09vb28wICkKIGlmIHBhZ2UgYW5kIE9vbzBvT29vbzAgPj0gaW50ICgga29kaSAuIGdldF9zZXR0aW5nICggJ2xpc3Rfc2l6ZScgKSApIDoKICBJMWlpaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTSE9XX0hJU1RPUlkgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3BhZ2UnIDogaW50ICggcGFnZSApICsgMSB9CiAgaUlpMWlpMUkxID0gJyVzID4+JyAlICggaTE4biAoICduZXh0X3BhZ2UnICkgKQogIGtvZGkgLiBjcmVhdGVfaXRlbSAoIEkxaWlpaTFJICwgaUlpMWlpMUkxICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbmV4dHBhZ2UucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBUcnVlICkKIGkxMUlpaWkgPSBDT05URU5UX1RZUEVTIC4gRVBJU09ERVMgaWYgc2VjdGlvbiA9PSBTRUNUSU9OUyAuIFRWIGVsc2UgQ09OVEVOVF9UWVBFUyAuIE1PVklFUwoga29kaSAuIHNldF92aWV3ICggaTExSWlpaSAsIFRydWUgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA1NCAtIDU0OiBvT29vT29PME9vME8gLyBvMDAgLyBpSWlpMUkxMUkxSUkxICUgaTEgJSBvTzBvCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBNWV9DQUwgLCBbICdtb2RlJyBdICwgWyAnc3RhcnRfZGF0ZScgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBDQUwgLCBbICdtb2RlJyBdICwgWyAnc3RhcnRfZGF0ZScgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBQUkVNSUVSRVMgLCBbICdtb2RlJyBdICwgWyAnc3RhcnRfZGF0ZScgXSApCmRlZiBvb29PICggbW9kZSAsIHN0YXJ0X2RhdGUgPSBOb25lICkgOgogaWYgc3RhcnRfZGF0ZSBpcyBOb25lIDoKICBPT09vMDBvbzBvTyA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBub3cgKCApCiAgSUlpSWkxaUkgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnY2FsZW5kYXItZGF5JyApICkKICBzdGFydF9kYXRlID0gT09PbzAwb28wb08gKyBkYXRldGltZSAuIHRpbWVkZWx0YSAoIGRheXMgPSBJSWlJaTFpSSApCiAgc3RhcnRfZGF0ZSA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBzdHJmdGltZSAoIHN0YXJ0X2RhdGUgLCAnJVktJW0tJWQnICkKIGlmIG1vZGUgPT0gTU9ERVMgLiBNWV9DQUwgOgogIG9Pb28wb09vMDAgPSBPbyAuIGdldF9teV9jYWxlbmRhciAoIHN0YXJ0X2RhdGUgLCA4ICkKIGVsaWYgbW9kZSA9PSBNT0RFUyAuIENBTCA6CiAgb09vbzBvT28wMCA9IE9vIC4gZ2V0X2NhbGVuZGFyICggc3RhcnRfZGF0ZSAsIDggKQogZWxpZiBtb2RlID09IE1PREVTIC4gUFJFTUlFUkVTIDoKICBvT29vMG9PbzAwID0gT28gLiBnZXRfcHJlbWllcmVzICggc3RhcnRfZGF0ZSAsIDggKQogSWlpaUlpaWkxMSAoIG1vZGUgLCBzdGFydF9kYXRlICwgb09vbzBvT28wMCApCiBpZiA5MiAtIDkyOiBpaTFJaUkxaSArIG8wMCAqIG9PMG8gJSBvT29vT29PME9vME8KQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIE1ZX0xJU1RTICwgWyAnc2VjdGlvbicgXSApCmRlZiBpMUkxaTEgKCBzZWN0aW9uICkgOgogTzBPb29vTzAgPSBPbyAuIGdldF9saXN0cyAoICkKIE8wT29vb08wIC4gaW5zZXJ0ICggMCAsIHsgJ25hbWUnIDogJ3dhdGNobGlzdCcgLCAnaWRzJyA6IHsgJ3NsdWcnIDogdHJhbnNpc3RvcnR2X3V0aWxzIC4gV0FUQ0hMSVNUX1NMVUcgfSB9ICkKIG9vbzBPMG8wME8gPSBsZW4gKCBPME9vb29PMCApCiBmb3IgaWlJMTExSTFpSWlJIGluIE8wT29vb08wIDoKICBJaWlpT08wT29PMG8wMCAoIHNlY3Rpb24gLCBpaUkxMTFJMWlJaUkgLCBvb28wTzBvMDBPICkKIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBBRERPTlMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA0OCAtIDQ4OiBPbzBvTzBvb28gLyBvMDAgLiBpSWlpMUkxMUkxSUkxICogaWkxSWlJMWkgKiBJaWlJSUkxMTFpSSAvIGkxSUlpCmRlZiBJaWlpT08wT29PMG8wMCAoIHNlY3Rpb24gLCB1c2VyX2xpc3QgLCB0b3RhbF9pdGVtcyA9IDAgKSA6CiBPT09Pb09PbzBPMCA9IHVzZXJfbGlzdCBbICdpZHMnIF0KIElJMTFpaWlpMUlpID0gWyBdCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFVF9GQVZfTElTVCAsICdzbHVnJyA6IE9PT09vT09vME8wIFsgJ3NsdWcnIF0gLCAnc2VjdGlvbicgOiBzZWN0aW9uIH0KIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ3NldF9mYXZfbGlzdCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VUX1NVQl9MSVNUICwgJ3NsdWcnIDogT09PT29PT28wTzAgWyAnc2x1ZycgXSAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfQogSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc2V0X3N1Yl9saXN0JyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTRVRfUkVXQVRDSF9MSVNUICwgJ3NsdWcnIDogT09PT29PT28wTzAgWyAnc2x1ZycgXSAsICdzZWN0aW9uJyA6IFNFQ1RJT05TIC4gVFYgfQogSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc2V0X3Jld2F0Y2hfbGlzdCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gQ09QWV9MSVNUICwgJ3NsdWcnIDogQ09MTEVDVElPTl9TTFVHICwgJ3NlY3Rpb24nIDogc2VjdGlvbiAsICd0YXJnZXRfc2x1ZycgOiBPT09Pb09PbzBPMCBbICdzbHVnJyBdIH0KIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ2ltcG9ydF9jb2xsZWN0aW9uJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBGT1JDRV9SRUZSRVNIICwgJ3JlZnJlc2hfbW9kZScgOiBNT0RFUyAuIFNIT1dfTElTVCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gLCAnc2x1ZycgOiBPT09Pb09PbzBPMCBbICdzbHVnJyBdIH0KIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ2ZvcmNlX3JlZnJlc2gnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiBPT09Pb09PbzBPMCBbICdzbHVnJyBdICE9IHRyYW5zaXN0b3J0dl91dGlscyAuIFdBVENITElTVF9TTFVHIDoKICBpZiBPT09Pb09PbzBPMCBbICdzbHVnJyBdIGluIGtvZGkgLiBnZXRfc2V0dGluZyAoICclc19tYWluJyAlICggc2VjdGlvbiApICkgLiBzcGxpdCAoICd8JyApIDoKICAgaUlpMWlpMUkxID0gaTE4biAoICdyZW1vdmVfZnJvbV9tYWluJyApCiAgIG9Pb29vMCA9ICdyZW1vdmUnCiAgZWxzZSA6CiAgIGlJaTFpaTFJMSA9IGkxOG4gKCAnYWRkX3RvX21haW4nICkKICAgb09vb28wID0gJ2FkZCcKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFRPR0dMRV9UT19NRU5VICwgJ2FjdGlvbicgOiBvT29vbzAgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3NsdWcnIDogT09PT29PT28wTzAgWyAnc2x1ZycgXSB9CiAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGlJaTFpaTFJMSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICBpZiA1OCAtIDU4OiBvT29vT29PME9vME8gLiBJSTFpICsgaWkxSWlJMWkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0hPV19MSVNUICwgJ3NlY3Rpb24nIDogc2VjdGlvbiAsICdzbHVnJyA6IE9PT09vT09vME8wIFsgJ3NsdWcnIF0gfQoga29kaSAuIGNyZWF0ZV9pdGVtICggaWkxSSAsIHVzZXJfbGlzdCBbICduYW1lJyBdICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbGlzdC5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IFRydWUgLAogdG90YWxfaXRlbXMgPSB0b3RhbF9pdGVtcyAsIG1lbnVfaXRlbXMgPSBJSTExaWlpaTFJaSAsIHJlcGxhY2VfbWVudSA9IEZhbHNlICkKIGlmIDY2IC0gNjY6IElJMWkgLyBJaWlJSUkxMTFpSSAqIE9vb29vb29vT08gKyBPb29vb29vb09PICUgaWlJMWkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBMSUtFRF9MSVNUUyAsIFsgJ3NlY3Rpb24nIF0gLCBbICdwYWdlJyBdICkKZGVmIElJaWkxMTExICggc2VjdGlvbiAsIHBhZ2UgPSAxICkgOgogSTFpSSA9IE9vIC4gZ2V0X2xpa2VkX2xpc3RzICggcGFnZSA9IHBhZ2UgKQogb29vME8wbzAwTyA9IGxlbiAoIEkxaUkgKQogZm9yIElJSUlpSWlJaTEgaW4gSTFpSSA6CiAgSTExaWlpaUkxaSA9ICggSUlJSWlJaUlpMSBbICdsaXN0JyBdIFsgJ3VzZXInIF0gWyAndXNlcm5hbWUnIF0gLCBJSUlJaUlpSWkxIFsgJ2xpc3QnIF0gWyAnaWRzJyBdIFsgJ3NsdWcnIF0gKQogIGlJMWkxMSAoIE1PREVTIC4gTElLRURfTElTVFMgLCBzZWN0aW9uICwgSTExaWlpaUkxaSAsIG9vbzBPMG8wME8gKQogIGlmIDY2IC0gNjY6IE8wICUgSTExaUlpMUkgKyBpMTFpSWlpSWlpIC4gaWkxSWlJMWkgLyBvTzBvICsgSTExaUlpMUkKIEkxaWlpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIExJS0VEX0xJU1RTICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9CiBpZiBJMWlpaWkxSSBhbmQgcGFnZSBhbmQgb29vME8wbzAwTyA+PSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnbGlzdF9zaXplJyApICkgOgogIEkxaWlpaTFJIFsgJ3BhZ2UnIF0gPSBpbnQgKCBwYWdlICkgKyAxCiAgaUlpMWlpMUkxID0gJyVzID4+JyAlICggaTE4biAoICduZXh0X3BhZ2UnICkgKQogIGtvZGkgLiBjcmVhdGVfaXRlbSAoIEkxaWlpaTFJICwgaUlpMWlpMUkxICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbmV4dHBhZ2UucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBUcnVlICkKIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBBRERPTlMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA4NiAtIDg2OiBPT29vT09vCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBPVEhFUl9MSVNUUyAsIFsgJ3NlY3Rpb24nIF0gKQpkZWYgaTFJaWkxMUlpMWkxICggc2VjdGlvbiApIDoKIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogTU9ERVMgLiBBRERfT1RIRVJfTElTVCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfSAsIGkxOG4gKCAnYWRkX290aGVyX2xpc3QnICkgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdhZGRfb3RoZXIucG5nJyApICwKIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICwgaXNfZm9sZGVyID0gRmFsc2UgLCBpc19wbGF5YWJsZSA9IEZhbHNlICkKIGlmIDU5IC0gNTk6IG8wICUgT29vb29vb29PTyAuIElJMWkgLyBvMDBvb28wICsgb09vb09vTzBPbzBPCiBPME9vb29PMCA9IGRiX2Nvbm5lY3Rpb24gLiBnZXRfb3RoZXJfbGlzdHMgKCBzZWN0aW9uICkKIG9vbzBPMG8wME8gPSBsZW4gKCBPME9vb29PMCApCiBmb3Igb29PTzBPMG9vT29vTyBpbiBPME9vb29PMCA6CiAgaUkxaTExICggTU9ERVMgLiBPVEhFUl9MSVNUUyAsIHNlY3Rpb24gLCBvb09PME8wb29Pb29PICwgb29vME8wbzAwTyApCiBrb2RpIC4gc2V0X2NvbnRlbnQgKCBDT05URU5UX1RZUEVTIC4gQURET05TICkKIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogaWYgNzYgLSA3NjogT28wb08wb29vCmRlZiBpSTFpMTEgKCBtb2RlICwgc2VjdGlvbiAsIG90aGVyX2xpc3QgLCB0b3RhbF9pdGVtcyA9IDAgKSA6CiB0cnkgOgogIE9PSWkxaUkxMTFJSTFJMSA9IE9vIC4gZ2V0X2xpc3RfaGVhZGVyICggb3RoZXJfbGlzdCBbIDEgXSAsIG90aGVyX2xpc3QgWyAwIF0gLCBib29sICggaUkxICkgKQogZXhjZXB0ICggVHJha3ROb3RGb3VuZEVycm9yICwgVHJha3RBdXRoRXJyb3IgKSBhcyBPb08wTzAwTzBvbzBPIDoKICBvME9PMDAgLiBsb2cgKCAnTGlzdCBBY2Nlc3MgRmFpbHVyZTogJXMnICUgKCBPb08wTzAwTzBvbzBPICkgLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICBPT0lpMWlJMTExSUkxSTEgPSBOb25lCiAgaWYgMzYgLSAzNjogSWkxMTExMWkgKyBPMCAtIG9PMG8gLSBPMCAlIGlpSTFpMSAuIElpaUlJSTExMWlJCiBpZiBPT0lpMWlJMTExSUkxSTEgOgogIGlmIGxlbiAoIG90aGVyX2xpc3QgKSA+PSAzIGFuZCBvdGhlcl9saXN0IFsgMiBdIDoKICAgT09vb29vTzBPbyA9IG90aGVyX2xpc3QgWyAyIF0KICBlbHNlIDoKICAgT09vb29vTzBPbyA9IE9PSWkxaUkxMTFJSTFJMSBbICduYW1lJyBdCiBlbHNlIDoKICBPT29vb29PME9vID0gb3RoZXJfbGlzdCBbIDEgXQogIGlmIDc0IC0gNzQ6IGkxMWlJaWlJaWkgLiBvT29vT29PME9vME8KIElJMTFpaWlpMUlpID0gWyBdCiBpZiBPT0lpMWlJMTExSUkxSTEgOgogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gRk9SQ0VfUkVGUkVTSCAsICdyZWZyZXNoX21vZGUnIDogTU9ERVMgLiBTSE9XX0xJU1QgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3NsdWcnIDogb3RoZXJfbGlzdCBbIDEgXSAsICd1c2VybmFtZScgOiBvdGhlcl9saXN0IFsgMCBdIH0KICBJSTExaWlpaTFJaSAuIGFwcGVuZCAoICggaTE4biAoICdmb3JjZV9yZWZyZXNoJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gQ09QWV9MSVNUICwgJ3NlY3Rpb24nIDogc2VjdGlvbiAsICdzbHVnJyA6IG90aGVyX2xpc3QgWyAxIF0gLCAndXNlcm5hbWUnIDogb3RoZXJfbGlzdCBbIDAgXSB9CiAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnY29weV90b19teV9saXN0JyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogIGlmIDM2IC0gMzY6IE9vb29vb29vT08gLiBpMQogaUlJSUlpMWlpSWkxID0gJyVzQCVzJyAlICggb3RoZXJfbGlzdCBbIDEgXSAsIG90aGVyX2xpc3QgWyAwIF0gKQogaWYgaUlJSUlpMWlpSWkxIGluIGtvZGkgLiBnZXRfc2V0dGluZyAoICclc19tYWluJyAlICggc2VjdGlvbiApICkgLiBzcGxpdCAoICd8JyApIDoKICBpSWkxaWkxSTEgPSBpMThuICggJ3JlbW92ZV9mcm9tX21haW4nICkKICBvT29vbzAgPSAncmVtb3ZlJwogZWxzZSA6CiAgaUlpMWlpMUkxID0gaTE4biAoICdhZGRfdG9fbWFpbicgKQogIG9Pb29vMCA9ICdhZGQnCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFRPR0dMRV9UT19NRU5VICwgJ2FjdGlvbicgOiBvT29vbzAgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3NsdWcnIDogb3RoZXJfbGlzdCBbIDEgXSAsICd1c2VybmFtZScgOiBvdGhlcl9saXN0IFsgMCBdIH0KIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpSWkxaWkxSTEgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiA1NiAtIDU2OiBvMCAuIEkxMWlJaTFJIC4gb09vb09vTzBPbzBPCiBpZiBtb2RlID09IE1PREVTIC4gT1RIRVJfTElTVFMgOgogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gQUREX09USEVSX0xJU1QgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3VzZXJuYW1lJyA6IG90aGVyX2xpc3QgWyAwIF0gfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ2FkZF9tb3JlX2Zyb20nICkgJSAoIG90aGVyX2xpc3QgWyAwIF0gKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFJFTU9WRV9MSVNUICwgJ3NlY3Rpb24nIDogc2VjdGlvbiAsICdzbHVnJyA6IG90aGVyX2xpc3QgWyAxIF0gLCAndXNlcm5hbWUnIDogb3RoZXJfbGlzdCBbIDAgXSB9CiAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAncmVtb3ZlX2xpc3QnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBSRU5BTUVfTElTVCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gLCAnc2x1ZycgOiBvdGhlcl9saXN0IFsgMSBdICwgJ3VzZXJuYW1lJyA6IG90aGVyX2xpc3QgWyAwIF0gLCAnbmFtZScgOiBPT29vb29PME9vIH0KICBJSTExaWlpaTFJaSAuIGFwcGVuZCAoICggaTE4biAoICdyZW5hbWVfbGlzdCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICBpZiAzOSAtIDM5OiBPMCArIG8wMAogaWYgT09JaTFpSTExMUlJMUkxIDoKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNIT1dfTElTVCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gLCAnc2x1ZycgOiBvdGhlcl9saXN0IFsgMSBdICwgJ3VzZXJuYW1lJyA6IG90aGVyX2xpc3QgWyAwIF0gfQogZWxzZSA6CiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBPVEhFUl9MSVNUUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfQogaUlpMWlpMUkxID0gJ1tbQ09MT1IgYmx1ZV0lc1svQ09MT1JdXSAlcycgJSAoIG90aGVyX2xpc3QgWyAwIF0gLCBPT29vb29PME9vICkKIGlmIDkxIC0gOTE6IE9vb29vb29vT08gLSBpSWlpMUkxMUkxSUkxICsgaWkxSWlJMWkgLyBpMSAuIGlpMUlpSTFpICsgTzAKIGtvZGkgLiBjcmVhdGVfaXRlbSAoIGlpMUkgLCBpSWkxaWkxSTEgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdsaXN0LnBuZycgKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQuanBnJyApICwgaXNfZm9sZGVyID0gVHJ1ZSAsIHRvdGFsX2l0ZW1zID0gdG90YWxfaXRlbXMgLCBtZW51X2l0ZW1zID0gSUkxMWlpaWkxSWkgLCByZXBsYWNlX21lbnUgPSBUcnVlICkKIGlmIDI2IC0gMjY6IEkxMWlJaTFJIC0gT29vb29vb29PTwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gVE9HR0xFX1RPX01FTlUgLCBbICdhY3Rpb24nICwgJ3NlY3Rpb24nICwgJ3NsdWcnIF0gLCBbICd1c2VybmFtZScgXSApCmRlZiBpaUkxaUkxMTFpaTFpICggYWN0aW9uICwgc2VjdGlvbiAsIHNsdWcgLCB1c2VybmFtZSA9IE5vbmUgKSA6CiBpZiB1c2VybmFtZSBpcyBOb25lIDoKICBpSUlJSWkxaWlJaTEgPSBzbHVnCiBlbHNlIDoKICBpSUlJSWkxaWlJaTEgPSAnJXNAJXMnICUgKCBzbHVnICwgdXNlcm5hbWUgKQogIGlmIDMyIC0gMzI6IGkxMWkgKiBpaTFJaUkxaSAlIGkxSUlpIC0gSUkxaSArIGlJaWkxSTExSTFJSTEgKyBJMTFpSWkxSQogSTExMTFpID0gJyVzX21haW4nICUgKCBzZWN0aW9uICkKIE9vMG8wMCA9IGtvZGkgLiBnZXRfc2V0dGluZyAoIEkxMTExaSApCiBpZiBPbzBvMDAgOgogIGkxSTExaTFJID0gT28wbzAwIC4gc3BsaXQgKCAnfCcgKQogZWxzZSA6CiAgaTFJMTFpMUkgPSBbIF0KICBpZiA2MCAtIDYwOiBJMTFpSWkxSSAlIGlpMUlpSTFpICogaTEgJSBpMTFpCiBpZiBhY3Rpb24gPT0gJ2FkZCcgOgogIGkxSTExaTFJIC4gYXBwZW5kICggaUlJSUlpMWlpSWkxICkKIGVsc2UgOgogIGZvciBvMDBvMCAsIG9PT09vbzAwIGluIGVudW1lcmF0ZSAoIGkxSTExaTFJICkgOgogICBpZiBvT09Pb28wMCA9PSBpSUlJSWkxaWlJaTEgOgogICAgZGVsIGkxSTExaTFJIFsgbzAwbzAgXQogICAgYnJlYWsKICAgIGlmIDcwIC0gNzA6IGkxICUgSWlpSUlJMTExaUkgKyBJaTExMTExaSAvIG9PMG8gJSBPMAogT28wbzAwID0gJ3wnIC4gam9pbiAoIGkxSTExaTFJICkKIGtvZGkgLiBzZXRfc2V0dGluZyAoIEkxMTExaSAsIE9vMG8wMCApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiAxMDAgLSAxMDA6IE9Pb29PT28gKyBJaTExMTExaSAqIE9Pb29PT28KQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFJFTU9WRV9MSVNUICwgWyAnc2VjdGlvbicgLCAndXNlcm5hbWUnICwgJ3NsdWcnIF0gKQpkZWYgb09PbzBPT09vMDBPICggc2VjdGlvbiAsIHVzZXJuYW1lICwgc2x1ZyApIDoKIGRiX2Nvbm5lY3Rpb24gLiBkZWxldGVfb3RoZXJfbGlzdCAoIHNlY3Rpb24gLCB1c2VybmFtZSAsIHNsdWcgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgNzYgLSA3NjogaTExaUlpaUlpaSArIE9Pb29PT28gLyBJMTFpSWkxSSAtIGkxIC0gb08wbyArIEkxMWlJaTFJCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRU5BTUVfTElTVCAsIFsgJ3NlY3Rpb24nICwgJ3NsdWcnICwgJ3VzZXJuYW1lJyAsICduYW1lJyBdICkKZGVmIG9vICggc2VjdGlvbiAsIHNsdWcgLCB1c2VybmFtZSAsIG5hbWUgKSA6CiBJMWkgPSBrb2RpIC4gZ2V0X2tleWJvYXJkICggaTE4biAoICduZXdfbmFtZV9oZWFkaW5nJyApICwgbmFtZSApCiBpZiBJMWkgaXMgbm90IE5vbmUgOgogIGRiX2Nvbm5lY3Rpb24gLiByZW5hbWVfb3RoZXJfbGlzdCAoIHNlY3Rpb24gLCB1c2VybmFtZSAsIHNsdWcgLCBJMWkgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgMzIgLSAzMjogaWkxSWlJMWkgLyBpMSArIElpMTExMTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBBRERfT1RIRVJfTElTVCAsIFsgJ3NlY3Rpb24nIF0gLCBbICd1c2VybmFtZScgXSApCmRlZiBpaTFJMWkxaWlpSSAoIHNlY3Rpb24gLCB1c2VybmFtZSA9IE5vbmUgKSA6CiBpZiB1c2VybmFtZSBpcyBOb25lIDoKICB1c2VybmFtZSA9IGtvZGkgLiBnZXRfa2V5Ym9hcmQgKCBpMThuICggJ3VzZXJuYW1lX2xpc3Rfb3duZXInICkgKQogIGlmIDk2IC0gOTY6IE9vb29vb29vT08gKyBJaWlJSUkxMTFpSQogaWYgdXNlcm5hbWUgaXMgbm90IE5vbmUgOgogIGlpSUkxaTExaSA9IElpSWkgKCBOb25lICwgc2VjdGlvbiAsIHVzZXJuYW1lICkKICBpZiBpaUlJMWkxMWkgOgogICBkYl9jb25uZWN0aW9uIC4gYWRkX290aGVyX2xpc3QgKCBzZWN0aW9uICwgdXNlcm5hbWUgLCBpaUlJMWkxMWkgKQogICBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiAgIGlmIDg3IC0gODc6IEkxMWlJaTFJIC0gSTExaUlpMUkgLSBJSTFpICsgSWlpSUlJMTExaUkKZGVmIG8wMG9vb08wT28gKCBjYWNoZWQgPSBUcnVlICkgOgogT09vb28gPSBbIF0KIGkxaUlpID0gWyBdCiBpaWlJaSA9IE8waTFJSTFJaWlpMUkxMSAoIFNFQ1RJT05TIC4gVFYgLCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAncmV3YXRjaF9zbHVnJyApICkKIGlmIGlpaUlpIGlzIG5vdCBOb25lIDoKICBpSUlpSWlJMUkxID0gdGltZSAuIHRpbWUgKCApCiAgaTFpMWlJMWlpaUkgPSBkaWN0ICggKCBpdGVtIFsgJ3Nob3cnIF0gWyAnaWRzJyBdIFsgJ3RyYWt0JyBdICwgaXRlbSApIGZvciBpdGVtIGluIE9vIC4gZ2V0X3dhdGNoZWQgKCBTRUNUSU9OUyAuIFRWICwgY2FjaGVkID0gY2FjaGVkICkgKQogIG9vTyA9IGRpY3QgKCAoIGl0ZW0gWyAnaWRzJyBdIFsgJ3RyYWt0JyBdICwgaSApIGZvciBpICwgaXRlbSBpbiBlbnVtZXJhdGUgKCBpaWlJaSApICkKICBpaU9PME8wT29vID0gb09vTzAgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAndHJha3RfdGltZW91dCcgKSApCiAgdHJ5IDoKICAgT28wID0gd29ya2VyX3Bvb2wgLiBXb3JrZXJQb29sICggKQogICBJMTFpID0gbGVuICggaWlpSWkgKQogICBvbzBPMG8wMG8wTyA9IHsgfQogICBmb3IgaWlJaUlJSWlpSSBpbiBpaWlJaSA6CiAgICBJMTFpMUlJID0gaWlJaUlJSWlpSSBbICdpZHMnIF0gWyAndHJha3QnIF0KICAgIE9vbyA9IHV0aWxzMiAuIG1ha2VfcGxheXMgKCBpMWkxaUkxaWlpSSAuIGdldCAoIEkxMWkxSUkgLCB7IH0gKSApCiAgICBPbzAgLiByZXF1ZXN0ICggdHJhbnNpc3RvcnR2X3V0aWxzIC4gcGFyYWxsZWxfZ2V0X3Byb2dyZXNzICwgWyBJMTFpMUlJICwgY2FjaGVkICwgTm9uZSBdICkKICAgIG9vME8wbzAwbzBPIFsgSTExaTFJSSBdID0geyAnc2hvdycgOiBpaUlpSUlJaWlJICwgJ3BsYXlzJyA6IE9vbyB9CiAgICBpZiAyMSAtIDIxOiBvMAogICB3aGlsZSBsZW4gKCBPT29vbyApIDwgSTExaSA6CiAgICB0cnkgOgogICAgIG8wT08wMCAuIGxvZyAoICdXYWl0aW5nIG9uIHByb2dyZXNzIC0gVGltZW91dDogJXMnICUgKCBpaU9PME8wT29vICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgSTFpaTEgPSBPbzAgLiByZWNlaXZlICggaWlPTzBPME9vbyApCiAgICAgSTExaTFJSSA9IEkxaWkxIFsgJ3RyYWt0JyBdCiAgICAgTzAwID0gdXRpbHMyIC4gZ2V0X25leHRfcmV3YXRjaCAoIEkxMWkxSUkgLCBPb28gLCBJMWlpMSApCiAgICAgaWlJaUlJSWlpSSA9IG9vME8wbzAwbzBPIFsgSTExaTFJSSBdIFsgJ3Nob3cnIF0KICAgICBvME9PMDAgLiBsb2cgKCAnTmV4dCBSZXdhdGNoOiAlcyAoJXMpIC0gJXMgLSAlcycgJSAoIGlpSWlJSUlpaUkgWyAndGl0bGUnIF0gLCBpaUlpSUlJaWlJIFsgJ3llYXInIF0gLCBJMTFpMUlJICwgTzAwICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgaWYgTzAwIDoKICAgICAgT28wbzAwMDBPT29PID0geyAnZXBpc29kZScgOiBPMDAgfQogICAgICBPbzBvMDAwME9Pb08gLiB1cGRhdGUgKCBvbzBPMG8wMG8wTyBbIEkxMWkxSUkgXSApCiAgICAgIE9Pb29vIC4gYXBwZW5kICggT28wbzAwMDBPT29PICkKICAgICAgaWYgNDYgLSA0NjogTzAgKiBpMTFpIC0gbzAgKiBPbzBvTzBvb28KICAgICBpZiBvT29PMCA+IDAgOgogICAgICBpaU9PME8wT29vID0gb09vTzAgLSAoIHRpbWUgLiB0aW1lICggKSAtIGlJSWlJaUkxSTEgKQogICAgICBpZiBpaU9PME8wT29vIDwgMCA6IGlpT08wTzBPb28gPSAwCiAgICBleGNlcHQgd29ya2VyX3Bvb2wgLiBFbXB0eSA6CiAgICAgbzBPTzAwIC4gbG9nICggJ0dldCBQcm9ncmVzcyBQcm9jZXNzIFRpbWVvdXQnICwgbG9nX3V0aWxzIC4gTE9HV0FSTklORyApCiAgICAgaWlPTzBPME9vbyA9IFRydWUKICAgICBicmVhawogICBlbHNlIDoKICAgIG8wT08wMCAuIGxvZyAoICdBbGwgcHJvZ3Jlc3MgcmVzdWx0cyByZWNlaXZlZCcgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICBpaU9PME8wT29vID0gRmFsc2UKICAgIGlmIDMzIC0gMzM6IG9PMG8KICAgaWYgaWlPTzBPME9vbyA6CiAgICBPT09vT29PID0gaTE4biAoICdwcm9ncmVzc190aW1lb3V0cycgKSAlICggSTExaSAtIGxlbiAoIE9Pb29vICkgLCBJMTFpICkKICAgIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBPT09vT29PICwgZHVyYXRpb24gPSA1MDAwICkKICAgIG8wT08wMCAuIGxvZyAoIE9PT29Pb08gLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICAgIGlmIDIyIC0gMjI6IG9Pb29Pb08wT28wTyAlIEkxMWlJaTFJCiAgIE9Pb29vIC4gc29ydCAoIGtleSA9IGxhbWJkYSBvMG9vME8gOiBvb08gWyBvMG9vME8gWyAnc2hvdycgXSBbICdpZHMnIF0gWyAndHJha3QnIF0gXSApCiAgZmluYWxseSA6CiAgIGkxaUlpID0gT28wIC4gY2xvc2UgKCApCiAgIGlmIDEzIC0gMTM6IGkxMWlJaWlJaWkgKyBpMUlJaSAqIGlJaWkxSTExSTFJSTEgJSBPb29vb29vb09PIC0gaTExaSAqIElpMTExMTFpCiByZXR1cm4gaTFpSWkgLCBPT29vbwogaWYgMjYgLSAyNjogT29vb29vb29PTyAqIG9Pb29Pb08wT28wTyArIElpMTExMTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTSE9XX1JFV0FUQ0ggKQpkZWYgSWlJaWkxaTExMSAoICkgOgogaWlJSTFpMTFpID0ga29kaSAuIGdldF9zZXR0aW5nICggJ3Jld2F0Y2hfc2x1ZycgKQogaWYgbm90IGlpSUkxaTExaSA6CiAga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFBJQ0tfUkVXQVRDSF9MSVNUICwgJ3NlY3Rpb24nIDogU0VDVElPTlMgLiBUViB9ICwgaTE4biAoICdwaWNrX3Jld2F0Y2hfbGlzdCcgKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiAga29kaSAuIHNldF9jb250ZW50ICggQ09OVEVOVF9UWVBFUyAuIEFERE9OUyApCiAga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBlbHNlIDoKICB0cnkgOgogICBpMWlJaSAsIE9Pb29vID0gbzAwb29vTzBPbyAoICkKICAgb29vME8wbzAwTyA9IGxlbiAoIE9Pb29vICkKICAgZm9yIE9vMG8wMDAwT09vTyBpbiBPT29vbyA6CiAgICBpaUlpSUlJaWlJID0gT28wbzAwMDBPT29PIFsgJ3Nob3cnIF0KICAgIEkxMWkxSUkgPSBpaUlpSUlJaWlJIFsgJ2lkcycgXSBbICd0cmFrdCcgXQogICAgT29vID0gT28wbzAwMDBPT29PIFsgJ3BsYXlzJyBdCiAgICBPMDAgPSBPbzBvMDAwME9Pb08gWyAnZXBpc29kZScgXQogICAgaUkgPSBPbyAuIGdldF9lcGlzb2RlX2RldGFpbHMgKCBJMTFpMUlJICwgTzAwIFsgJ3NlYXNvbicgXSAsIE8wMCBbICdlcGlzb2RlJyBdICkKICAgIGlJIFsgJ3dhdGNoZWQnIF0gPSBPb28gLiBnZXQgKCBPMDAgWyAnc2Vhc29uJyBdICwgeyB9ICkgLiBnZXQgKCBPMDAgWyAnZXBpc29kZScgXSAsIDAgKSA+IDAKICAgIGlmIDc0IC0gNzQ6IG9Pb29Pb08wT28wTwogICAgSUkxMWlpaWkxSWkgPSBbIF0KICAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VBU09OUyAsICd0cmFrdF9pZCcgOiBJMTFpMUlJICwgJ3RpdGxlJyA6IGlpSWlJSUlpaUkgWyAndGl0bGUnIF0gLCAneWVhcicgOiBpaUlpSUlJaWlJIFsgJ3llYXInIF0gLCAndHZkYl9pZCcgOiBpaUlpSUlJaWlJIFsgJ2lkcycgXSBbICd0dmRiJyBdIH0KICAgIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ2Jyb3dzZV9zZWFzb25zJyApICwgJ0NvbnRhaW5lci5VcGRhdGUoJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICAgIGlJaTFpaTFJMSAsIG8wbzBvT29PTzBPID0gdXRpbHMyIC4gZ2V0X25leHRfcmV3YXRjaF9tZXRob2QgKCBJMTFpMUlJICkKICAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gTUFOQUdFX1JFV0FUQ0ggLCAndHJha3RfaWQnIDogSTExaTFJSSAsICduZXdfbWV0aG9kJyA6IG8wbzBvT29PTzBPIH0KICAgIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpSWkxaWkxSTEgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgICBpZiBpSSBbICd3YXRjaGVkJyBdIDoKICAgICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFRPR0dMRV9XQVRDSEVEICwgJ3NlY3Rpb24nIDogU0VDVElPTlMgLiBUViAsICdzZWFzb24nIDogaUkgWyAnc2Vhc29uJyBdICwgJ2VwaXNvZGUnIDogaUkgWyAnbnVtYmVyJyBdICwgJ3dhdGNoZWQnIDogVHJ1ZSB9CiAgICAgaWkxSSAuIHVwZGF0ZSAoIHV0aWxzMiAuIHNob3dfaWQgKCBpaUlpSUlJaWlJICkgKQogICAgIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ21hcmtfYXNfd2F0Y2hlZCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICAgICBpZiAxNiAtIDE2OiBvMDBvb28wICUgaUlpaTFJMTFJMUlJMSAuIG9PMG8KICAgIE8wbzBPbyAsIE9vMDBPT09PTyA9IEkxMWkxICggaWlJaUlJSWlpSSAsIGlJICwgc2hvd19zdWJzID0gRmFsc2UgLCBtZW51X2l0ZW1zID0gSUkxMWlpaWkxSWkgKQogICAgaUlpMWlpMUkxID0gTzBvME9vIC4gZ2V0TGFiZWwgKCApCiAgICBpSWkxaWkxSTEgPSAnJXMgLSAlcycgJSAoIGlpSWlJSUlpaUkgWyAndGl0bGUnIF0gLCBpSWkxaWkxSTEgKQogICAgTzBvME9vIC4gc2V0TGFiZWwgKCBpSWkxaWkxSTEgKQogICAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBPbzAwT09PT08gLCBPMG8wT28gLCBpc0ZvbGRlciA9IEZhbHNlICwgdG90YWxJdGVtcyA9IG9vbzBPMG8wME8gKQogICBrb2RpIC4gc2V0X2NvbnRlbnQgKCBDT05URU5UX1RZUEVTIC4gRVBJU09ERVMgKQogICBrb2RpIC4gZW5kX29mX2RpcmVjdG9yeSAoIGNhY2hlX3RvX2Rpc2MgPSBGYWxzZSApCiAgZmluYWxseSA6CiAgIHRyeSA6IHdvcmtlcl9wb29sIC4gcmVhcF93b3JrZXJzICggaTFpSWkgLCBOb25lICkKICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yIDogcGFzcwogICBpZiA1OSAtIDU5OiBvT29vT29PME9vME8gKiBpMTFpIC4gTzAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIE1BTkFHRV9SRVdBVENIICwgWyAndHJha3RfaWQnICwgJ25ld19tZXRob2QnIF0gKQpkZWYgTzAwME9vT08wICggdHJha3RfaWQgLCBuZXdfbWV0aG9kICkgOgogaTFJaUlJSTExMWkxID0gdXRpbHMyIC4gZ2V0X21pbl9yZXdhdGNoX2xpc3QgKCApCiBvMDAwb29vb28wID0gdXRpbHMyIC4gZ2V0X21heF9yZXdhdGNoX2xpc3QgKCApCiBpZiBuZXdfbWV0aG9kID09IFJFV0FUQ0hfTUVUSE9EUyAuIExFQVNUX1dBVENIRUQgOgogIGlmIHRyYWt0X2lkIG5vdCBpbiBpMUlpSUlJMTExaTEgOiBpMUlpSUlJMTExaTEgLiBhcHBlbmQgKCB0cmFrdF9pZCApCiAgaWYgdHJha3RfaWQgaW4gbzAwMG9vb29vMCA6IG8wMDBvb29vbzAgLiByZW1vdmUgKCB0cmFrdF9pZCApCiBlbGlmIG5ld19tZXRob2QgPT0gUkVXQVRDSF9NRVRIT0RTIC4gTU9TVF9XQVRDSEVEIDoKICBpZiB0cmFrdF9pZCBpbiBpMUlpSUlJMTExaTEgOiBpMUlpSUlJMTExaTEgLiByZW1vdmUgKCB0cmFrdF9pZCApCiAgaWYgdHJha3RfaWQgbm90IGluIG8wMDBvb29vbzAgOiBvMDAwb29vb28wIC4gYXBwZW5kICggdHJha3RfaWQgKQogZWxzZSA6CiAgaWYgdHJha3RfaWQgaW4gaTFJaUlJSTExMWkxIDogaTFJaUlJSTExMWkxIC4gcmVtb3ZlICggdHJha3RfaWQgKQogIGlmIHRyYWt0X2lkIGluIG8wMDBvb29vbzAgOiBvMDAwb29vb28wIC4gcmVtb3ZlICggdHJha3RfaWQgKQoga29kaSAuIHNldF9zZXR0aW5nICggJ3Jld2F0Y2hfbWluX2xpc3QnICwgJ3wnIC4gam9pbiAoIGkxSWlJSUkxMTFpMSApICkKIGtvZGkgLiBzZXRfc2V0dGluZyAoICdyZXdhdGNoX21heF9saXN0JyAsICd8JyAuIGpvaW4gKCBvMDAwb29vb28wICkgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgNTEgLSA1MTogaTEgLSBPMCAlIElpaUlJSTExMWlJIC0gaTExaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0hPV19MSVNUICwgWyAnc2VjdGlvbicgLCAnc2x1ZycgXSAsIFsgJ3VzZXJuYW1lJyBdICkKZGVmIEkxSUkgKCBzZWN0aW9uICwgc2x1ZyAsIHVzZXJuYW1lID0gTm9uZSApIDoKIElpSTExMTExMUlJSUkgPSBPMGkxSUkxSWlpaTFJMTEgKCBzZWN0aW9uICwgc2x1ZyAsIHVzZXJuYW1lICkKIGlmIElpSTExMTExMUlJSUkgaXMgbm90IE5vbmUgOgogIE9Pb08wMDBPME9PICggc2VjdGlvbiAsIElpSTExMTExMUlJSUkgLCBzbHVnICkKICBpZiA2NCAtIDY0OiBPMCAlIGlpSTFpMSAlIE8wICogaTEgLiBJaWlJSUkxMTFpSSArIG9Pb29Pb08wT28wTwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0hPV19XQVRDSExJU1QgLCBbICdzZWN0aW9uJyBdICkKZGVmIE8wMEkxMWlpMWkxICggc2VjdGlvbiApIDoKIEkxSUkgKCBzZWN0aW9uICwgdHJhbnNpc3RvcnR2X3V0aWxzIC4gV0FUQ0hMSVNUX1NMVUcgKQogaWYgNzggLSA3ODogSUkxaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0hPV19DT0xMRUNUSU9OICwgWyAnc2VjdGlvbicgXSApCmRlZiBpSWlJSUlJSWlpICggc2VjdGlvbiApIDoKIElpSTExMTExMUlJSUkgPSBPbyAuIGdldF9jb2xsZWN0aW9uICggc2VjdGlvbiApCiBvTzBvMCA9IGludCAoIGtvZGkgLiBnZXRfc2V0dGluZyAoICdzb3J0X2NvbGxlY3Rpb24nICkgKQogaWYgb08wbzAgPT0gMSA6CiAgSWlJMTExMTExSUlJSSAuIHJldmVyc2UgKCApCiBlbGlmIG9PMG8wID09IDIgOgogIElpSTExMTExMUlJSUkgLiBzb3J0ICgga2V5ID0gbGFtYmRhIG8wb28wTyA6IHV0aWxzMiAuIHRpdGxlX2tleSAoIG8wb28wTyBbICd0aXRsZScgXSApICkKIGVsaWYgb08wbzAgPT0gMyA6CiAgSWlJMTExMTExSUlJSSAuIHNvcnQgKCBrZXkgPSBsYW1iZGEgbzBvbzBPIDogbzBvbzBPIFsgJ3llYXInIF0gKQogIGlmIDU4IC0gNTg6IE9Pb29PT28gLyBvMDBvb28wIC4gaWkxSWlJMWkgLyBPb29vb29vb09PICsgbzAwCiAgaWYgODYgLSA4NjogaWlJMWkxICogb09vb09vTzBPbzBPICsgaWlJMWkxICsgaTExaQogaWYgc2VjdGlvbiA9PSBTRUNUSU9OUyAuIFRWIDoKICBmb3Igb09PT29vMDAgaW4gSWlJMTExMTExSUlJSSA6CiAgIGkxaTExMWlJID0gbGVuICggWyBPb08wTzAwTzBvbzBPIGZvciBJSWlpSSBpbiBvT09Pb28wMCBbICdzZWFzb25zJyBdIGlmIElJaWlJIFsgJ251bWJlcicgXSAhPSAwIGZvciBPb08wTzAwTzBvbzBPIGluIElJaWlJIFsgJ2VwaXNvZGVzJyBdIF0gKQogICBvME9PMDAgLiBsb2cgKCAnJXMvJXM6IENvbGxlY3RlZDogJXMgLSBBaXJlZDogJXMnICUgKCBvT09Pb28wMCBbICdpZHMnIF0gWyAndHJha3QnIF0gLCBvT09Pb28wMCBbICdpZHMnIF0gWyAnc2x1ZycgXSAsIGkxaTExMWlJICwgb09PT29vMDAgWyAnYWlyZWRfZXBpc29kZXMnIF0gKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgaWYgaTFpMTExaUkgPiBvT09Pb28wMCBbICdhaXJlZF9lcGlzb2RlcycgXSA6CiAgICBvT09Pb28wMCBbICdhaXJlZF9lcGlzb2RlcycgXSA9IGkxaTExMWlJCiAgICBpZiAzMSAtIDMxOiBJMTFpSWkxSSArIG9PMG8gKyBvMDAgLyBvTzBvCiBPT29PMDAwTzBPTyAoIHNlY3Rpb24gLCBJaUkxMTExMTFJSUlJICwgQ09MTEVDVElPTl9TTFVHICkKIGlmIDI1IC0gMjU6IGkxCmRlZiBJSTFJICggY2FjaGVkID0gVHJ1ZSApIDoKIGlmIGNhY2hlZCA6CiAgaTExaUkxMWlJaUlpICwgTzAwTzBvb28wID0gZGJfY29ubmVjdGlvbiAuIGdldF9jYWNoZWRfZnVuY3Rpb24gKCBJSTFJIC4gX19uYW1lX18gLCBjYWNoZV9saW1pdCA9IDE1ICogNjAgKQogIGlmIGkxMWlJMTFpSWlJaSA6CiAgIHJldHVybiBbIF0gLCB1dGlsczIgLiBzb3J0X3Byb2dyZXNzICggTzAwTzBvb28wICwgc29ydF9vcmRlciA9IFNPUlRfTUFQIFsgaW50ICgga29kaSAuIGdldF9zZXR0aW5nICggJ3NvcnRfcHJvZ3Jlc3MnICkgKSBdICkKICAgaWYgOCAtIDg6IE9vMG9PMG9vbyArIGkxMWkgLyBJSTFpIC8gaWlJMWkxCiBpMWlJaSA9IFsgXQogb29vME8gPSBbIF0KIHdpdGgga29kaSAuIFByb2dyZXNzRGlhbG9nICggaTE4biAoICdkaXNjb3Zlcl9tbmUnICkgLCBiYWNrZ3JvdW5kID0gVHJ1ZSApIGFzIGlJSTFpaWkgOgogIGlJSWlJaUkxSTEgPSB0aW1lIC4gdGltZSAoICkKICBpaU9PME8wT29vID0gb09vTzAgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAndHJha3RfdGltZW91dCcgKSApCiAgaUlJMWlpaSAuIHVwZGF0ZSAoIDAgLCBsaW5lMSA9IGkxOG4gKCAncmV0cl9oaXN0b3J5JyApICkKICBpMTFpMWlpaUlJID0gT28gLiBnZXRfd2F0Y2hlZCAoIFNFQ1RJT05TIC4gVFYgLCBmdWxsID0gVHJ1ZSAsIG5vc2Vhc29ucyA9IFRydWUgLCBjYWNoZWQgPSBjYWNoZWQgKQogIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdpbmNsdWRlX3dhdGNobGlzdF9uZXh0JyApID09ICd0cnVlJyA6CiAgIGlJSTFpaWkgLiB1cGRhdGUgKCA1ICwgbGluZTEgPSBpMThuICggJ3JldHJfd2F0Y2hsaXN0JyApICkKICAgb29PTzBvTzBvbzAwbyA9IE9vIC4gc2hvd193YXRjaGxpc3QgKCBTRUNUSU9OUyAuIFRWICkKICAgb29PTzBvTzBvbzAwbyA9IFsgeyAnc2hvdycgOiBvT09Pb28wMCB9IGZvciBvT09Pb28wMCBpbiBvb09PMG9PMG9vMDBvIF0KICAgaTExaTFpaWlJSSArPSBvb09PMG9PMG9vMDBvCiAgIGlmIDgzIC0gODM6IElpaUlJSTExMWlJIC0gaTExaSAtIElJMWkKICBpSUkxaWlpIC4gdXBkYXRlICggMTAgLCBsaW5lMSA9IGkxOG4gKCAncmV0cl9oaWRkZW4nICkgKQogIGlJaTExaWlJaUkxSSA9IHNldCAoIFsgb09PT29vMDAgWyAnc2hvdycgXSBbICdpZHMnIF0gWyAndHJha3QnIF0gZm9yIG9PT09vbzAwIGluIE9vIC4gZ2V0X2hpZGRlbl9wcm9ncmVzcyAoIGNhY2hlZCA9IGNhY2hlZCApIF0gKQogIGlmIDMgLSAzOiBpMUlJaSAvIGkxMWkgLyBpMTFpSWlpSWlpICogaTFJSWkgLSBpMTFpCiAgb28wTzBvMDBvME8gPSB7IH0KICBJaSA9IHNldCAoIHV0aWxzMiAuIGdldF9wcm9ncmVzc19za2lwX2xpc3QgKCApICkKICBpSUkxMTExSUlJMUkgPSBzZXQgKCB1dGlsczIgLiBnZXRfZm9yY2VfcHJvZ3Jlc3NfbGlzdCAoICkgKQogIGlpMTFpID0ga29kaSAuIGdldF9zZXR0aW5nICggJ3VzZV9jYWNoZWRfZXhjbHVzaW9uJyApID09ICd0cnVlJwogIE8wMG9PbzAwbzBvID0gbGVuICggaTExaTFpaWlJSSApCiAgdHJ5IDoKICAgT28wID0gd29ya2VyX3Bvb2wgLiBXb3JrZXJQb29sICggbWF4X3dvcmtlcnMgPSA1MCApCiAgIGZvciBvMDBvMCAsIGlpSWlJSUlpaUkgaW4gZW51bWVyYXRlICggaTExaTFpaWlJSSApIDoKICAgIEkxMWkxSUkgPSBpaUlpSUlJaWlJIFsgJ3Nob3cnIF0gWyAnaWRzJyBdIFsgJ3RyYWt0JyBdCiAgICBpZiA4NSAtIDg1OiBJSTFpICsgT29vb29vb29PTyAqIElJMWkgLSBvMDAgJSBpMTFpSWlpSWlpCiAgICBpZiBJMTFpMUlJIGluIGlJaTExaWlJaUkxSSA6CiAgICAgY29udGludWUKICAgICBpZiA3MSAtIDcxOiBJMTFpSWkxSSAtIE9vMG9PMG9vbyAvIGlpMUlpSTFpICogaWkxSWlJMWkgLyBpMUlJaSAuIGkxSUlpCiAgICAgaWYgNTMgLSA1MzogbzAwCiAgICBpZiBpaTExaSBhbmQgc3RyICggSTExaTFJSSApIGluIElpIGFuZCBzdHIgKCBJMTFpMUlJICkgbm90IGluIGlJSTExMTFJSUkxSSA6CiAgICAgbzBPTzAwIC4gbG9nICggJ1NraXBwaW5nICVzICglcykgYXMgY2FjaGVkIE1ORSBlbmRlZCBleGNsdXNpb24nICUgKCBJMTFpMUlJICwgaWlJaUlJSWlpSSBbICdzaG93JyBdIFsgJ3RpdGxlJyBdICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgY29udGludWUKICAgICBpZiAyMSAtIDIxOiBpaUkxaTEKICAgIE9vTzAwID0gKCBvMDBvMCArIDEgKSAqIDI1IC8gTzAwb09vMDBvMG8gKyAxMAogICAgaUlJMWlpaSAuIHVwZGF0ZSAoIE9vTzAwICwgbGluZTEgPSBpMThuICggJ3JlcV9wcm9ncmVzcycgKSAlICggaWlJaUlJSWlpSSBbICdzaG93JyBdIFsgJ3RpdGxlJyBdICkgKQogICAgT28wIC4gcmVxdWVzdCAoIHRyYW5zaXN0b3J0dl91dGlscyAuIHBhcmFsbGVsX2dldF9wcm9ncmVzcyAsIFsgSTExaTFJSSAsIGNhY2hlZCAsIC4wOCBdICkKICAgIG9vME8wbzAwbzBPIFsgSTExaTFJSSBdID0gaWlJaUlJSWlpSSBbICdzaG93JyBdCiAgICBpZiA4NSAtIDg1OiBvMCAqIG8wICogb09vb09vTzBPbzBPIC4gT29vb29vb29PTyAuIG9PMG8gKiBPbzBvTzBvb28KICAgbzAwMG9Pb28wbzAwMCA9IGxlbiAoIG9vME8wbzAwbzBPICkKICAgSWlJMTFpSTFpMWkxaSA9IDAKICAgd2hpbGUgSWlJMTFpSTFpMWkxaSA8IG8wMDBvT29vMG8wMDAgOgogICAgdHJ5IDoKICAgICBvME9PMDAgLiBsb2cgKCAnV2FpdGluZyBmb3IgUHJvZ3Jlc3MgLSBUaW1lb3V0OiAlcycgJSAoIGlpT08wTzBPb28gKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgICBJMWlpMSA9IE9vMCAuIHJlY2VpdmUgKCBpaU9PME8wT29vICkKICAgICBJaUkxMWlJMWkxaTFpICs9IDEKICAgICBJMTFpMUlJID0gSTFpaTEgWyAndHJha3QnIF0KICAgICBpaUlpSUlJaWlJID0gb28wTzBvMDBvME8gWyBJMTFpMUlJIF0KICAgICBPb08wMCA9ICggSWlJMTFpSTFpMWkxaSAqIDY1IC8gbzAwMG9Pb28wbzAwMCApICsgMzUKICAgICBpSUkxaWlpIC4gdXBkYXRlICggT29PMDAgLCBsaW5lMSA9IGkxOG4gKCAncmVjX3Byb2dyZXNzJyApICUgKCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICkgKQogICAgIGlmICduZXh0X2VwaXNvZGUnIGluIEkxaWkxIGFuZCBJMWlpMSBbICduZXh0X2VwaXNvZGUnIF0gOgogICAgICBpSSA9IHsgJ3Nob3cnIDogaWlJaUlJSWlpSSAsICdlcGlzb2RlJyA6IEkxaWkxIFsgJ25leHRfZXBpc29kZScgXSB9CiAgICAgIGlJIFsgJ2xhc3Rfd2F0Y2hlZF9hdCcgXSA9IEkxaWkxIFsgJ2xhc3Rfd2F0Y2hlZF9hdCcgXQogICAgICBpSSBbICdwZXJjZW50X2NvbXBsZXRlZCcgXSA9ICggSTFpaTEgWyAnY29tcGxldGVkJyBdICogMTAwICkgLyBJMWlpMSBbICdhaXJlZCcgXSBpZiBJMWlpMSBbICdhaXJlZCcgXSA+IDAgZWxzZSAwCiAgICAgIGlJIFsgJ2NvbXBsZXRlZCcgXSA9IEkxaWkxIFsgJ2NvbXBsZXRlZCcgXQogICAgICBvb28wTyAuIGFwcGVuZCAoIGlJICkKICAgICBlbHNlIDoKICAgICAgb08wT29vb29vbyA9IGlpSWlJSUlpaUkgWyAnc3RhdHVzJyBdIGFuZCBpaUlpSUlJaWlJIFsgJ3N0YXR1cycgXSAuIHVwcGVyICggKSA9PSAnRU5ERUQnCiAgICAgIEkxSUlJaUkxSTFpaTEgPSBJMWlpMSBbICdjb21wbGV0ZWQnIF0gPT0gSTFpaTEgWyAnYWlyZWQnIF0KICAgICAgaWYgb08wT29vb29vbyBhbmQgSTFJSUlpSTFJMWlpMSBhbmQgc3RyICggSTExaTFJSSApIG5vdCBpbiBJaSBhbmQgc3RyICggSTExaTFJSSApIG5vdCBpbiBpSUkxMTExSUlJMUkgOgogICAgICAgbzBPTzAwIC4gbG9nICggJ0FkZGluZyAlcyAoJXMpICglcyAtICVzKSB0byBNTkUgZXhjbHVzaW9uIGxpc3QnICUgKCBJMTFpMUlJICwgaWlJaUlJSWlpSSBbICd0aXRsZScgXSAsIEkxaWkxIFsgJ2NvbXBsZXRlZCcgXSAsIEkxaWkxIFsgJ2FpcmVkJyBdICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgICBpaWlJMUkxaUlJSWkxICggQUNUSU9OUyAuIEFERCAsIEkxaWkxIFsgJ3RyYWt0JyBdICkKICAgICAgIGlmIDE3IC0gMTc6IGlJaWkxSTExSTFJSTEgLiBPb29vb29vb09PIC8gaWlJMWkxICUgaTExaSAlIGkxSUlpIC8gaTExaUlpaUlpaQogICAgIGlmIG9Pb08wID4gMCA6CiAgICAgIGlpT08wTzBPb28gPSBvT29PMCAtICggdGltZSAuIHRpbWUgKCApIC0gaUlJaUlpSTFJMSApCiAgICAgIGlmIGlpT08wTzBPb28gPCAwIDogaWlPTzBPME9vbyA9IDAKICAgIGV4Y2VwdCB3b3JrZXJfcG9vbCAuIEVtcHR5IDoKICAgICBvME9PMDAgLiBsb2cgKCAnR2V0IFByb2dyZXNzIFByb2Nlc3MgVGltZW91dCcgLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICAgICBpaU9PME8wT29vID0gVHJ1ZQogICAgIGJyZWFrCiAgIGVsc2UgOgogICAgbzBPTzAwIC4gbG9nICggJ0FsbCBwcm9ncmVzcyByZXN1bHRzIHJlY2VpdmVkJyAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgIGlpT08wTzBPb28gPSBGYWxzZQogIGZpbmFsbHkgOgogICBpMWlJaSA9IE9vMCAuIGNsb3NlICggKQogICBpZiA1OCAtIDU4OiBvMCAuIGkxMWkgKyBJaWlJSUkxMTFpSSAtIGkxMWlJaWlJaWkgLyBpMTFpIC8gTzAKICBpZiBpaU9PME8wT29vIDoKICAgb09Pb09vID0gbzAwMG9Pb28wbzAwMCAtIElpSTExaUkxaTFpMWkKICAgT09Pb09vTyA9IGkxOG4gKCAncHJvZ3Jlc3NfdGltZW91dHMnICkgJSAoIG9PT29PbyAsIG8wMDBvT29vMG8wMDAgKQogICBrb2RpIC4gbm90aWZ5ICggbXNnID0gT09Pb09vTyAsIGR1cmF0aW9uID0gNTAwMCApCiAgIG8wT08wMCAuIGxvZyAoIE9PT29Pb08gLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICBlbHNlIDoKICAgaWYgODkgLSA4OTogaTExaSArIGkxSUlpICsgaTExaQogICBkYl9jb25uZWN0aW9uIC4gY2FjaGVfZnVuY3Rpb24gKCBJSTFJIC4gX19uYW1lX18gLCByZXN1bHQgPSBvb28wTyApCiAgIGlmIDcgLSA3OiBPMCAlIE9Pb29PT28gKyBJMTFpSWkxSSAqIElJMWkgLSBJSTFpCiByZXR1cm4gaTFpSWkgLCB1dGlsczIgLiBzb3J0X3Byb2dyZXNzICggb29vME8gLCBzb3J0X29yZGVyID0gU09SVF9NQVAgWyBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc29ydF9wcm9ncmVzcycgKSApIF0gKQogaWYgNDIgLSA0MjogaWkxSWlJMWkgKiBpaTFJaUkxaSAqIG8wMCAuIGlpSTFpMQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0hPV19QUk9HUkVTUyApCmRlZiBPME9vMG8wMDBvTyAoICkgOgogdHJ5IDoKICBpMWlJaSAsIEkxaWkxID0gSUkxSSAoICkKICBmb3IgaUkgaW4gSTFpaTEgOgogICBvME9PMDAgLiBsb2cgKCAnRXBpc29kZTogU29ydCBLZXlzOiBUaWxlOiB8JXN8IExhc3QgV2F0Y2hlZDogfCVzfCBQZXJjZW50OiB8JXMlJXwgQ29tcGxldGVkOiB8JXN8JyAlICggaUkgWyAnc2hvdycgXSBbICd0aXRsZScgXSAsIGlJIFsgJ2xhc3Rfd2F0Y2hlZF9hdCcgXSAsIGlJIFsgJ3BlcmNlbnRfY29tcGxldGVkJyBdICwgaUkgWyAnY29tcGxldGVkJyBdICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgIG9PMG8wMG9PT29vTzAgPSB1dGlscyAuIGlzb18yX3V0YyAoIGlJIFsgJ2VwaXNvZGUnIF0gWyAnZmlyc3RfYWlyZWQnIF0gKQogICBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc2hvd191bmFpcmVkX25leHQnICkgPT0gJ3RydWUnIG9yIG9PMG8wMG9PT29vTzAgPD0gdGltZSAuIHRpbWUgKCApIDoKICAgIGlpSWlJSUlpaUkgPSBpSSBbICdzaG93JyBdCiAgICBPT09vTzAwMCA9IHV0aWxzMiAuIG1ha2VfZGF5ICggdXRpbHMyIC4gbWFrZV9haXJfZGF0ZSAoIGlJIFsgJ2VwaXNvZGUnIF0gWyAnZmlyc3RfYWlyZWQnIF0gKSApCiAgICBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnbW5lX3RpbWUnICkgIT0gJzAnIDoKICAgICBvT09PTyA9ICclc0AlcycgJSAoIE9PT29PMDAwICwgdXRpbHMyIC4gbWFrZV90aW1lICggb08wbzAwb09Pb29PMCAsICdtbmVfdGltZScgKSApCiAgICBlbHNlIDoKICAgICBvT09PTyA9IE9PT29PMDAwCiAgICAgaWYgNDkgLSA0OTogaTExaSAuIElpaUlJSTExMWlJIC4gaTExaUlpaUlpaSAlIG8wMG9vbzAKICAgIElJMTFpaWlpMUlpID0gWyBdCiAgICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFQVNPTlMgLCAndHJha3RfaWQnIDogaWlJaUlJSWlpSSBbICdpZHMnIF0gWyAndHJha3QnIF0gLCAndGl0bGUnIDogaWlJaUlJSWlpSSBbICd0aXRsZScgXSAsICd5ZWFyJyA6IGlpSWlJSUlpaUkgWyAneWVhcicgXSAsICd0dmRiX2lkJyA6IGlpSWlJSUlpaUkgWyAnaWRzJyBdIFsgJ3R2ZGInIF0gfQogICAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnYnJvd3NlX3NlYXNvbnMnICkgLCAnQ29udGFpbmVyLlVwZGF0ZSglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogICAgTzBvME9vICwgT28wME9PT09PID0gSTExaTEgKCBpaUlpSUlJaWlJICwgaUkgWyAnZXBpc29kZScgXSAsIHNob3dfc3VicyA9IEZhbHNlICwgbWVudV9pdGVtcyA9IElJMTFpaWlpMUlpICkKICAgIGlJaTFpaTFJMSA9IE8wbzBPbyAuIGdldExhYmVsICggKQogICAgaUlpMWlpMUkxID0gJ1tbQ09MT1IgZGVlcHBpbmtdJXNbL0NPTE9SXV0gJXMgLSAlcycgJSAoIG9PT09PICwgaWlJaUlJSWlpSSBbICd0aXRsZScgXSAsIGlJaTFpaTFJMSApCiAgICBPMG8wT28gLiBzZXRMYWJlbCAoIGlJaTFpaTFJMSApCiAgICBpZiAzNCAtIDM0OiBvMDAgJSBvMDBvb28wCiAgICB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsIE9vMDBPT09PTyAsIE8wbzBPbyAsIGlzRm9sZGVyID0gRmFsc2UgKQogIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBFUElTT0RFUyApCiAga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCBjYWNoZV90b19kaXNjID0gRmFsc2UgKQogZmluYWxseSA6CiAgdHJ5IDogd29ya2VyX3Bvb2wgLiByZWFwX3dvcmtlcnMgKCBpMWlJaSAsIE5vbmUgKQogIGV4Y2VwdCBVbmJvdW5kTG9jYWxFcnJvciA6IHBhc3MKICBpZiAzIC0gMzogaTExaSAvIElpMTExMTFpICsgbzAwb29vMCAuIE9vMG9PMG9vbyAuIGkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBNQU5BR0VfU1VCUyAsIFsgJ3NlY3Rpb24nIF0gKQpkZWYgb09vbzAwMCAoIHNlY3Rpb24gKSA6CiBpaUlJMWkxMWkgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnJXNfc3ViX3NsdWcnICUgKCBzZWN0aW9uICkgKQogaWYgaWlJSTFpMTFpIDoKICBPb29PbzAwbyA9IHRyYW5zaXN0b3J0dl91dGlscyAuIGdldF9uZXh0X3J1biAoIE1PREVTIC4gVVBEQVRFX1NVQlMgKQogIGlJaTFpaTFJMSA9IGkxOG4gKCAndXBkYXRlX3N1YnMnICkKICBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnYXV0by0nICsgTU9ERVMgLiBVUERBVEVfU1VCUyApID09ICd0cnVlJyA6CiAgIElpSTExaTFJSWlpSSA9ICdncmVlbicKICAgb09PbzAwMG9Pb08wID0gT29vT28wMG8gLiBzdHJmdGltZSAoICIlWS0lbS0lZCAlSTolTTolUyAlcCIgKQogIGVsc2UgOgogICBJaUkxMWkxSUlpaUkgPSAncmVkJwogICBvT09vMDAwb09vTzAgPSBpMThuICggJ2Rpc2FibGVkJyApCiAga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIFVQREFURV9TVUJTICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgaUlpMWlpMUkxICUgKCBJaUkxMWkxSUlpaUkgLCBvT09vMDAwb09vTzAgKSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggJ3VwZGF0ZV9zdWJzY3JpcHRpb25zLnBuZycgKSAsCiBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiAgaWYgc2VjdGlvbiA9PSBTRUNUSU9OUyAuIFRWIDoKICAga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBNT0RFUyAuIENMRUFOX1NVQlMgfSAsIGkxOG4gKCAnY2xlYW51cF9zdWJzJyApICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnY2xlYW5fdXAucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLAogaXNfZm9sZGVyID0gRmFsc2UgLCBpc19wbGF5YWJsZSA9IEZhbHNlICkKIE9vT28wMG8wT08gKCBpaUlJMWkxMWkgLCBpMThuICggJ3BpY2tfc3ViX2xpc3QnICkgLCBNT0RFUyAuIFBJQ0tfU1VCX0xJU1QgLCBzZWN0aW9uICkKIGlmIDEgLSAxOiBvT29vT29PME9vME8gJSBPbzBvTzBvb28KQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFNIT1dfRkFWT1JJVEVTICwgWyAnc2VjdGlvbicgXSApCmRlZiBvT29PMDAgKCBzZWN0aW9uICkgOgogaWlJSTFpMTFpID0ga29kaSAuIGdldF9zZXR0aW5nICggJyVzX2Zhdl9zbHVnJyAlICggc2VjdGlvbiApICkKIE9vT28wMG8wT08gKCBpaUlJMWkxMWkgLCBpMThuICggJ3BpY2tfZmF2X2xpc3QnICkgLCBNT0RFUyAuIFBJQ0tfRkFWX0xJU1QgLCBzZWN0aW9uICkKIGlmIDQwIC0gNDA6IE9Pb29PT28KQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFBJQ0tfU1VCX0xJU1QgLCBbICdtb2RlJyAsICdzZWN0aW9uJyBdICkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFBJQ0tfRkFWX0xJU1QgLCBbICdtb2RlJyAsICdzZWN0aW9uJyBdICkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFBJQ0tfUkVXQVRDSF9MSVNUICwgWyAnbW9kZScgLCAnc2VjdGlvbicgXSApCmRlZiBJaUlpICggbW9kZSAsIHNlY3Rpb24gLCB1c2VybmFtZSA9IE5vbmUgKSA6CiBpaUlJMWkxMWkgLCBPT09vb28gPSB1dGlscyAuIGNob29zZV9saXN0ICggVHJha3RfQVBJICwga29kaSAuIFRyYW5zbGF0aW9ucyAoIHN0cmluZ3MgLiBTVFJJTkdTICkgLCB1c2VybmFtZSApCiBpZiBpaUlJMWkxMWkgOgogIGlmIG1vZGUgPT0gTU9ERVMgLiBQSUNLX0ZBVl9MSVNUIDoKICAgT28wMG9vMDAwME9PICggTU9ERVMgLiBTRVRfRkFWX0xJU1QgLCBpaUlJMWkxMWkgLCBzZWN0aW9uICkKICBlbGlmIG1vZGUgPT0gTU9ERVMgLiBQSUNLX1NVQl9MSVNUIDoKICAgT28wMG9vMDAwME9PICggTU9ERVMgLiBTRVRfU1VCX0xJU1QgLCBpaUlJMWkxMWkgLCBzZWN0aW9uICkKICBlbGlmIG1vZGUgPT0gTU9ERVMgLiBQSUNLX1JFV0FUQ0hfTElTVCA6CiAgIE9vMDBvbzAwMDBPTyAoIE1PREVTIC4gU0VUX1JFV0FUQ0hfTElTVCAsIGlpSUkxaTExaSAsIFNFQ1RJT05TIC4gVFYgKQogIGVsc2UgOgogICByZXR1cm4gaWlJSTFpMTFpCiAga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogIGlmIDY5IC0gNjk6IE9vMG9PMG9vbyAtIGkxIC8gaTExaUlpaUlpaSArIEkxMWlJaTFJICUgT29vb29vb29PTwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0VUX1NVQl9MSVNUICwgWyAnbW9kZScgLCAnc2x1ZycgLCAnc2VjdGlvbicgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTRVRfRkFWX0xJU1QgLCBbICdtb2RlJyAsICdzbHVnJyAsICdzZWN0aW9uJyBdICkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFNFVF9SRVdBVENIX0xJU1QgLCBbICdtb2RlJyAsICdzbHVnJyAsICdzZWN0aW9uJyBdICkKZGVmIE9vMDBvbzAwMDBPTyAoIG1vZGUgLCBzbHVnICwgc2VjdGlvbiApIDoKIGlmIG1vZGUgPT0gTU9ERVMgLiBTRVRfRkFWX0xJU1QgOgogIEkxMTExaSA9ICclc19mYXZfc2x1ZycgJSAoIHNlY3Rpb24gKQogZWxpZiBtb2RlID09IE1PREVTIC4gU0VUX1NVQl9MSVNUIDoKICBJMTExMWkgPSAnJXNfc3ViX3NsdWcnICUgKCBzZWN0aW9uICkKIGVsaWYgbW9kZSA9PSBNT0RFUyAuIFNFVF9SRVdBVENIX0xJU1QgOgogIEkxMTExaSA9ICdyZXdhdGNoX3NsdWcnCiBrb2RpIC4gc2V0X3NldHRpbmcgKCBJMTExMWkgLCBzbHVnICkKIGlmIDczIC0gNzM6IG9PMG8gLSBvMDAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFNFQVJDSCAsIFsgJ3NlY3Rpb24nIF0gKQpkZWYgTzAwb29vbzAwbzBPICggc2VjdGlvbiAsIHNlYXJjaF90ZXh0ID0gTm9uZSApIDoKIE9PbzAwMCA9IHV0aWxzMiAuIGdldF9zZWN0aW9uX3BhcmFtcyAoIHNlY3Rpb24gKQogaWkxaWlpMUkxSSA9ICclcyAlcycgJSAoIGkxOG4gKCAnc2VhcmNoJyApICwgT09vMDAwIFsgJ2xhYmVsX3BsdXJhbCcgXSApCiBzZWFyY2hfdGV4dCA9IGtvZGkgLiBnZXRfa2V5Ym9hcmQgKCBpaTFpaWkxSTFJICkKIGlmIHNlYXJjaF90ZXh0ID09ICcnIDoKICBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdibGFua19zZWFyY2hlcycgKSAsIGR1cmF0aW9uID0gNTAwMCApCiBlbGlmIHNlYXJjaF90ZXh0IGlzIG5vdCBOb25lIDoKICB0cmFuc2lzdG9ydHZfdXRpbHMgLiBrZWVwX3NlYXJjaCAoIHNlY3Rpb24gLCBzZWFyY2hfdGV4dCApCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTRUFSQ0hfUkVTVUxUUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gLCAncXVlcnknIDogc2VhcmNoX3RleHQgfQogIG9PME9vbzBvb09PMCA9IGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIGtvZGkgLiB1cGRhdGVfY29udGFpbmVyICggb08wT29vMG9vT08wICkKICBpZiA0NiAtIDQ2OiBvTzBvICUgaWkxSWlJMWkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFJFQ0VOVF9TRUFSQ0ggLCBbICdzZWN0aW9uJyBdICkKZGVmIG9vbzBvME8wbyAoIHNlY3Rpb24gKSA6CiBPT28wMDAgPSB1dGlsczIgLiBnZXRfc2VjdGlvbl9wYXJhbXMgKCBzZWN0aW9uICkKIE8wT29vTyA9IGludCAoIGtvZGkgLiBnZXRfc2V0dGluZyAoICclc19zZWFyY2hfaGVhZCcgJSAoIHNlY3Rpb24gKSApICkKIGZvciBvMDBvMCBpbiByZXZlcnNlZCAoIHJhbmdlICggMCAsIFNFQVJDSF9ISVNUT1JZICkgKSA6CiAgSTFJSUlJMWkgPSAoIG8wMG8wICsgTzBPb29PICsgMSApICUgU0VBUkNIX0hJU1RPUlkKICBpaTFJaTFJaUlJaSA9IGRiX2Nvbm5lY3Rpb24gLiBnZXRfc2V0dGluZyAoICclc19zZWFyY2hfJXMnICUgKCBzZWN0aW9uICwgSTFJSUlJMWkgKSApCiAgaWYgbm90IGlpMUlpMUlpSUlpIDoKICAgYnJlYWsKICAgaWYgODMgLSA4MzogaWlJMWkxIC8gSTExaUlpMUkKICBJSTExaWlpaTFJaSA9IFsgXQogIElpMSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTQVZFX1NFQVJDSCAsICdzZWN0aW9uJyA6IHNlY3Rpb24gLCAncXVlcnknIDogaWkxSWkxSWlJSWkgfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ3NhdmVfc2VhcmNoJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBJaTEgKSApICkgLCApCiAgSWkxID0geyAnbW9kZScgOiBNT0RFUyAuIERFTEVURV9SRUNFTlQgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ2luZGV4JyA6IEkxSUlJSTFpIH0KICBJSTExaWlpaTFJaSAuIGFwcGVuZCAoICggaTE4biAoICdyZW1vdmVfZnJvbV9yZWNlbnQnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIElpMSApICkgKSAsICkKICBpZiAzNCAtIDM0OiBvT29vT29PME9vME8gKiBvMCAqIG8wMCAvIGkxICogaWlJMWkxIC8gaUlpaTFJMTFJMUlJMQogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VBUkNIX1JFU1VMVFMgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3F1ZXJ5JyA6IGlpMUlpMUlpSUlpIH0KICBpSWkxaWkxSTEgPSAnWyVzICVzXSAlcycgJSAoIE9PbzAwMCBbICdsYWJlbF9zaW5nbGUnIF0gLCBpMThuICggJ3NlYXJjaCcgKSAsIGlpMUlpMUlpSUlpICkKICBrb2RpIC4gY3JlYXRlX2l0ZW0gKCBpaTFJICwgaUlpMWlpMUkxICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCBPT28wMDAgWyAnc2VhcmNoX2ltZycgXSApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5wbmcnICkgLCBpc19mb2xkZXIgPSBUcnVlICwgbWVudV9pdGVtcyA9IElJMTFpaWlpMUlpICkKIGtvZGkgLiBzZXRfY29udGVudCAoIENPTlRFTlRfVFlQRVMgLiBBRERPTlMgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA3NCAtIDc0OiBvMCAvIGkxMWlJaWlJaWkgLSBpMTFpICogT09vb09PbwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0FWRURfU0VBUkNIRVMgLCBbICdzZWN0aW9uJyBdICkKZGVmIElJaTFJSUlJaSAoIHNlY3Rpb24gKSA6CiBPT28wMDAgPSB1dGlsczIgLiBnZXRfc2VjdGlvbl9wYXJhbXMgKCBzZWN0aW9uICkKIGZvciBPMDBvb29vMDBvME8gaW4gZGJfY29ubmVjdGlvbiAuIGdldF9zZWFyY2hlcyAoIHNlY3Rpb24gLCBvcmRlcl9tYXR0ZXJzID0gVHJ1ZSApIDoKICBJSTExaWlpaTFJaSA9IFsgXQogIE8wb09vT09Pb09PID0geyAnbW9kZScgOiBNT0RFUyAuIERFTEVURV9TRUFSQ0ggLCAnc2VhcmNoX2lkJyA6IE8wMG9vb28wMG8wTyBbIDAgXSB9CiAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnZGVsZXRlX3NlYXJjaCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggTzBvT29PT09vT08gKSApICkgLCApCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTRUFSQ0hfUkVTVUxUUyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gLCAncXVlcnknIDogTzAwb29vbzAwbzBPIFsgMSBdIH0KICBpSWkxaWkxSTEgPSAnWyVzICVzXSAlcycgJSAoIE9PbzAwMCBbICdsYWJlbF9zaW5nbGUnIF0gLCBpMThuICggJ3NlYXJjaCcgKSAsIE8wMG9vb28wMG8wTyBbIDEgXSApCiAga29kaSAuIGNyZWF0ZV9pdGVtICggaWkxSSAsIGlJaTFpaTFJMSAsIHRodW1iID0gdXRpbHMyIC4gYXJ0ICggT09vMDAwIFsgJ3NlYXJjaF9pbWcnIF0gKSAsIGZhbmFydCA9IHV0aWxzMiAuIGFydCAoICdmYW5hcnQucG5nJyApICwgaXNfZm9sZGVyID0gVHJ1ZSAsIG1lbnVfaXRlbXMgPSBJSTExaWlpaTFJaSApCiBrb2RpIC4gc2V0X2NvbnRlbnQgKCBDT05URU5UX1RZUEVTIC4gQURET05TICkKIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogaWYgNzAgLSA3MDogSWkxMTExMWkgLyBpMTFpIC0gaUlpaTFJMTFJMUlJMSAtIElJMWkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIENMRUFSX1JFQ0VOVCAsIFsgJ3NlY3Rpb24nIF0gKQpkZWYgSWlpICggc2VjdGlvbiApIDoKIGZvciBvMDBvMCBpbiByYW5nZSAoIDAgLCBTRUFSQ0hfSElTVE9SWSApIDoKICBkYl9jb25uZWN0aW9uIC4gc2V0X3NldHRpbmcgKCAnJXNfc2VhcmNoXyVzJyAlICggc2VjdGlvbiAsIG8wMG8wICkgLCAnJyApCiBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdyZWNlbnRfY2xlYXJlZCcgKSAsIGR1cmF0aW9uID0gMjUwMCApCiBpZiAyMCAtIDIwOiBPT29vT09vIC8gaTFJSWkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIERFTEVURV9SRUNFTlQgLCBbICdzZWN0aW9uJyAsICdpbmRleCcgXSApCmRlZiBvTyAoIHNlY3Rpb24gLCBpbmRleCApIDoKIGluZGV4ID0gaW50ICggaW5kZXggKQogTzBPb29PID0gaW50ICgga29kaSAuIGdldF9zZXR0aW5nICggJyVzX3NlYXJjaF9oZWFkJyAlICggc2VjdGlvbiApICkgKQogbzBPTzAwIC4gbG9nICggJ0hlYWQgaXM6ICVzJyAlICggTzBPb29PICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiBmb3IgbzAwbzAgaW4gcmFuZ2UgKCBTRUFSQ0hfSElTVE9SWSAsIDAgLCAtIDEgKSA6CiAgSWkxMTEgPSAoIG8wMG8wIC0gMSArIGluZGV4ICkgJSBTRUFSQ0hfSElTVE9SWQogIG9PMCA9ICggSWkxMTEgKyAxICkgJSBTRUFSQ0hfSElTVE9SWQogIGlmIElpMTExID09IE8wT29vTyA6CiAgIGJyZWFrCiAgIGlmIDExIC0gMTE6IE9vMG9PMG9vbyAvIGkxMWkKICBpaTFJaTFJaUlJaSA9IGRiX2Nvbm5lY3Rpb24gLiBnZXRfc2V0dGluZyAoICclc19zZWFyY2hfJXMnICUgKCBzZWN0aW9uICwgSWkxMTEgKSApCiAgbzBPTzAwIC4gbG9nICggJ01vdmluZyAlcyB0byBwb3NpdGlvbiAlcycgJSAoIGlpMUlpMUlpSUlpICwgb08wICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgZGJfY29ubmVjdGlvbiAuIHNldF9zZXR0aW5nICggJyVzX3NlYXJjaF8lcycgJSAoIHNlY3Rpb24gLCBvTzAgKSAsIGlpMUlpMUlpSUlpICkKICBpZiA0NyAtIDQ3OiBPb29vb29vb09PCiBvME9PMDAgLiBsb2cgKCAnQmxhbmtpbmcgcG9zaXRpb24gJXMnICUgKCBvTzAgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKIGRiX2Nvbm5lY3Rpb24gLiBzZXRfc2V0dGluZyAoICclc19zZWFyY2hfJXMnICUgKCBzZWN0aW9uICwgb08wICkgLCAnJyApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiA0IC0gNDogb09vb09vTzBPbzBPICUgaWlJMWkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTQVZFX1NFQVJDSCAsIFsgJ3NlY3Rpb24nICwgJ3F1ZXJ5JyBdICkKZGVmIEkxICggc2VjdGlvbiAsIHF1ZXJ5ICkgOgogZGJfY29ubmVjdGlvbiAuIHNhdmVfc2VhcmNoICggc2VjdGlvbiAsIHF1ZXJ5ICkKIGlmIDY3IC0gNjc6IGkxICsgSWlpSUlJMTExaUkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIERFTEVURV9TRUFSQ0ggLCBbICdzZWFyY2hfaWQnIF0gKQpkZWYgb29PMG9PMDBPMG8gKCBzZWFyY2hfaWQgKSA6CiBkYl9jb25uZWN0aW9uIC4gZGVsZXRlX3NlYXJjaCAoIHNlYXJjaF9pZCApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiA3MCAtIDcwOiBvMDAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIENMRUFSX1NBVkVEICwgWyAnc2VjdGlvbicgXSApCmRlZiBpMTFpSUlpMTEgKCBzZWN0aW9uICkgOgogZm9yIE8wMG9vb28wMG8wTyBpbiBkYl9jb25uZWN0aW9uIC4gZ2V0X3NlYXJjaGVzICggc2VjdGlvbiApIDoKICBkYl9jb25uZWN0aW9uIC4gZGVsZXRlX3NlYXJjaCAoIE8wMG9vb28wMG8wTyBbIDAgXSApCiBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdzYXZlZF9jbGVhcmVkJyApICwgZHVyYXRpb24gPSAyNTAwICkKIGlmIDk4IC0gOTg6IG8wMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0VBUkNIX1JFU1VMVFMgLCBbICdzZWN0aW9uJyAsICdxdWVyeScgXSAsIFsgJ3BhZ2UnIF0gKQpkZWYgaWlJMUlJMTFJSTFpICggc2VjdGlvbiAsIHF1ZXJ5ICwgcGFnZSA9IDEgKSA6CiBvME8wTzAgPSBPbyAuIHNlYXJjaCAoIHNlY3Rpb24gLCBxdWVyeSAsIHBhZ2UgKQogT09vTzAwME8wT08gKCBzZWN0aW9uICwgbzBPME8wICwgcXVlcnkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VBUkNIX1JFU1VMVFMgLCAnc2VjdGlvbicgOiBzZWN0aW9uICwgJ3F1ZXJ5JyA6IHF1ZXJ5IH0gLCBwYWdlID0gcGFnZSApCiBpZiA2IC0gNjogSUkxaSAuIG8wMG9vbzAgKiBpaTFJaUkxaSAuIGkxSUlpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTRUFTT05TICwgWyAndHJha3RfaWQnICwgJ3RpdGxlJyAsICd5ZWFyJyBdICwgWyAndHZkYl9pZCcgXSApCmRlZiBvT09vICggdHJha3RfaWQgLCB0aXRsZSAsIHllYXIgLCB0dmRiX2lkID0gTm9uZSApIDoKIEkxSWlJSWkgPSBzb3J0ZWQgKCBPbyAuIGdldF9zZWFzb25zICggdHJha3RfaWQgKSAsIGtleSA9IGxhbWJkYSBvMG9vME8gOiBvMG9vME8gWyAnbnVtYmVyJyBdICkKIElpT09vMDAgPSB7IH0KIGlmIGlJMSA6CiAgSTFpaTEgPSBPbyAuIGdldF9zaG93X3Byb2dyZXNzICggdHJha3RfaWQgLCBoaWRkZW4gPSBUcnVlICwgc3BlY2lhbHMgPSBUcnVlICkKICBJaU9PbzAwID0gdXRpbHMyIC4gbWFrZV9zZWFzb25zX2luZm8gKCBJMWlpMSApCiAgaWYgMzcgLSAzNzogaTFJSWkKIG9vbzBPMG8wME8gPSBsZW4gKCBJMUlpSUlpICkKIGZvciBJSUkxaTFpSTEgaW4gSTFJaUlJaSA6CiAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ3Nob3dfc2Vhc29uMCcgKSA9PSAndHJ1ZScgb3IgSUlJMWkxaUkxIFsgJ251bWJlcicgXSAhPSAwIDoKICAgbzBvb28wMG8gPSBJaU9PbzAwIC4gZ2V0ICggc3RyICggSUlJMWkxaUkxIFsgJ251bWJlcicgXSApICwgeyAnc2Vhc29uJyA6IElJSTFpMWlJMSBbICdudW1iZXInIF0gfSApCiAgIE8wbzBPbyA9IG9PTzAwb08wME8wT08gKCBJSUkxaTFpSTEgLCBvMG9vbzAwbyAsIHRyYWt0X2lkICwgdGl0bGUgLCB5ZWFyICwgdHZkYl9pZCApCiAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gRVBJU09ERVMgLCAndHJha3RfaWQnIDogdHJha3RfaWQgLCAnc2Vhc29uJyA6IElJSTFpMWlJMSBbICdudW1iZXInIF0gLCAncmFuZG9tJyA6IHRpbWUgLiB0aW1lICggKSB9CiAgIGtvZGkgLiBhZGRfaXRlbSAoIGlpMUkgLCBPMG8wT28gLCBpc19mb2xkZXIgPSBUcnVlICwgdG90YWxfaXRlbXMgPSBvb28wTzBvMDBPICkKIGtvZGkgLiBzZXRfdmlldyAoIENPTlRFTlRfVFlQRVMgLiBTRUFTT05TICwgVHJ1ZSApCiBrb2RpIC4gZW5kX29mX2RpcmVjdG9yeSAoICkKIGlmIDk2IC0gOTY6IGlpMUlpSTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBFUElTT0RFUyAsIFsgJ3RyYWt0X2lkJyAsICdzZWFzb24nIF0gKQpkZWYgbzBPTzBvTzBvT08wTyAoIHRyYWt0X2lkICwgc2Vhc29uICkgOgogaWlJaUlJSWlpSSA9IE9vIC4gZ2V0X3Nob3dfZGV0YWlscyAoIHRyYWt0X2lkICkKIG9vbzBPID0gT28gLiBnZXRfZXBpc29kZXMgKCB0cmFrdF9pZCAsIHNlYXNvbiApCiBpZiBpSTEgOgogIEkxaWkxID0gT28gLiBnZXRfc2hvd19wcm9ncmVzcyAoIHRyYWt0X2lkICwgaGlkZGVuID0gVHJ1ZSAsIHNwZWNpYWxzID0gVHJ1ZSApCiAgb29vME8gPSB1dGlsczIgLiBtYWtlX2VwaXNvZGVzX3dhdGNoZWQgKCBvb28wTyAsIEkxaWkxICkKICBpZiAzOSAtIDM5OiBvTzBvICogT28wb08wb29vIC8gaWkxSWlJMWkgKiBpMSAuIGlpSTFpMSAlIGkxMWkKIE9vbzBvT29vbzAgPSBsZW4gKCBvb28wTyApCiBPT09vMDBvbzBvTyA9IHRpbWUgLiB0aW1lICggKQogZm9yIGlJIGluIG9vbzBPIDoKICBPME9vT29PMDBPID0gdXRpbHMgLiBpc29fMl91dGMgKCBpSSBbICdmaXJzdF9haXJlZCcgXSApCiAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ3Nob3dfdW5haXJlZCcgKSA9PSAndHJ1ZScgb3IgTzBPb09vTzAwTyA8PSBPT09vMDBvbzBvTyA6CiAgIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdzaG93X3Vua25vd24nICkgPT0gJ3RydWUnIG9yIE8wT29Pb08wME8gOgogICAgTzBvME9vICwgT28wME9PT09PID0gSTExaTEgKCBpaUlpSUlJaWlJICwgaUkgKQogICAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBPbzAwT09PT08gLCBPMG8wT28gLCBpc0ZvbGRlciA9IEZhbHNlICwgdG90YWxJdGVtcyA9IE9vbzBvT29vbzAgKQoga29kaSAuIHNldF92aWV3ICggQ09OVEVOVF9UWVBFUyAuIEVQSVNPREVTICwgVHJ1ZSApCiBrb2RpIC4gZW5kX29mX2RpcmVjdG9yeSAoICkKIGlmIDk2IC0gOTY6IG9Pb29Pb08wT28wTyAlIG8wIC4gSTExaUlpMUkgKyBJaTExMTExaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gR0VUX1NPVVJDRVMgLCBbICdtb2RlJyAsICd2aWRlb190eXBlJyAsICd0aXRsZScgLCAneWVhcicgLCAndHJha3RfaWQnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnICwgJ2VwX3RpdGxlJyAsICdlcF9haXJkYXRlJyBdICkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIFNFTEVDVF9TT1VSQ0UgLCBbICdtb2RlJyAsICd2aWRlb190eXBlJyAsICd0aXRsZScgLCAneWVhcicgLCAndHJha3RfaWQnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnICwgJ2VwX3RpdGxlJyAsICdlcF9haXJkYXRlJyBdICkKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIERPV05MT0FEX1NPVVJDRSAsIFsgJ21vZGUnICwgJ3ZpZGVvX3R5cGUnICwgJ3RpdGxlJyAsICd5ZWFyJyAsICd0cmFrdF9pZCcgXSAsIFsgJ3NlYXNvbicgLCAnZXBpc29kZScgLCAnZXBfdGl0bGUnICwgJ2VwX2FpcmRhdGUnIF0gKQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gQVVUT1BMQVkgLCBbICdtb2RlJyAsICd2aWRlb190eXBlJyAsICd0aXRsZScgLCAneWVhcicgLCAndHJha3RfaWQnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnICwgJ2VwX3RpdGxlJyAsICdlcF9haXJkYXRlJyBdICkKZGVmIElpMTFJaWkxaTFpaSAoIG1vZGUgLCB2aWRlb190eXBlICwgdGl0bGUgLCB5ZWFyICwgdHJha3RfaWQgLCBzZWFzb24gPSAnJyAsIGVwaXNvZGUgPSAnJyAsIGVwX3RpdGxlID0gJycgLCBlcF9haXJkYXRlID0gJycgKSA6CiBJaTFpMWkxMTExID0ga29kaSAuIGdldF9zZXR0aW5nICggJ2Nvb2xfZG93bicgKSA9PSAndHJ1ZScKIGlmIG5vdCB0cmFuc2lzdG9ydHZfdXRpbHMgLiBpc190cmFuc2lzdG9ydHYgKCApIG9yIElpMWkxaTExMTEgOgogIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBpMThuICggJ3BsYXliYWNrX2xpbWl0ZWQnICkgKQogIHJldHVybiBGYWxzZQogIGlmIDU3IC0gNTc6IG9PMG8gJSBpMTFpCiBpaU9PME8wT29vID0gb09vTzAgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc291cmNlX3RpbWVvdXQnICkgKQogaWYgb09vTzAgPT0gMCA6IGlpT08wTzBPb28gPSBOb25lCiBPMDBvT28gPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc291cmNlX3Jlc3VsdHMnICkgKQogaUlJaUlpSTFJMSA9IHRpbWUgLiB0aW1lICggKQogSTExMTFJMUlJMTEgPSBzZXQgKCApCiBpaWlJSUlJaUlpID0geyB9CiBJaWlJSUlJSTFpaWkgPSBTY3JhcGVyVmlkZW8gKCB2aWRlb190eXBlICwgdGl0bGUgLCB5ZWFyICwgdHJha3RfaWQgLCBzZWFzb24gLCBlcGlzb2RlICwgZXBfdGl0bGUgLCBlcF9haXJkYXRlICkKIElJaWlpaSA9IEZhbHNlIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdwZF9mb3JjZV9kaXNhYmxlJyApID09ICd0cnVlJyBlbHNlIFRydWUKIGlJMTExaTFJMUlJID0gRmFsc2UKIHdpdGgga29kaSAuIFByb2dyZXNzRGlhbG9nICggaTE4biAoICdnZXR0aW5nX3NvdXJjZXMnICkgLCB1dGlsczIgLiBtYWtlX3Byb2dyZXNzX21zZyAoIElpaUlJSUlJMWlpaSApICwgYWN0aXZlID0gSUlpaWlpICkgYXMgaUlJMWlpaSA6CiAgdHJ5IDoKICAgT28wID0gd29ya2VyX3Bvb2wgLiBXb3JrZXJQb29sICggKQogICBpaUlpMUlJaTFJID0gdHJhbnNpc3RvcnR2X3V0aWxzIC4gcmVsZXZhbnRfc2NyYXBlcnMgKCB2aWRlb190eXBlICkKICAgTzAwT08gPSBsZW4gKCBpaUlpMUlJaTFJICkKICAgZm9yIG8wMG8wICwgaWkgaW4gZW51bWVyYXRlICggaWlJaTFJSWkxSSApIDoKICAgIGlmIGlJSTFpaWkgLiBpc19jYW5jZWxlZCAoICkgOiByZXR1cm4gRmFsc2UKICAgIG9PME8wMG9PT29vb08gPSBpaSAoIG9Pb08wICkKICAgIE9vMCAuIHJlcXVlc3QgKCB0cmFuc2lzdG9ydHZfdXRpbHMgLiBwYXJhbGxlbF9nZXRfc291cmNlcyAsIFsgb08wTzAwb09Pb29vTyAsIElpaUlJSUlJMWlpaSBdICkKICAgIEkxaWkxID0gbzAwbzAgKiAyNSAvIE8wME9PCiAgICBpSUkxaWlpIC4gdXBkYXRlICggSTFpaTEgLCBsaW5lMiA9IGkxOG4gKCAncmVxdWVzdGVkX3NvdXJjZXNfZnJvbScgKSAlICggaWkgLiBnZXRfbmFtZSAoICkgKSApCiAgICBJMTExMUkxSUkxMSAuIGFkZCAoIGlpIC4gZ2V0X25hbWUgKCApICkKICAgIGlpaUlJSUlpSWkgWyBpaSAuIGdldF9uYW1lICggKSBdID0gMAogICAgaWYgMjkgLSAyOTogbzAgJSBpMSAlIG8wMG9vbzAgLiBPT29vT09vIC8gT29vb29vb29PTyAqIE9vMG9PMG9vbwogICBvME9vTzAwME8gPSBbIF0KICAgT09vID0gMAogICB3aGlsZSBPT28gPCBPMDBPTyA6CiAgICB0cnkgOgogICAgIG8wT08wMCAuIGxvZyAoICdXYWl0aW5nIG9uIHNvdXJjZXMgLSBUaW1lb3V0OiAlcycgJSAoIGlpT08wTzBPb28gKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgICBPMDBPMG9vbzAgPSBPbzAgLiByZWNlaXZlICggaWlPTzBPME9vbyApCiAgICAgT09vICs9IDEKICAgICBpSUlpaUlJSWkxSSA9IGxlbiAoIE8wME8wb29vMCBbICdob3N0ZXJzJyBdICkKICAgICBpaWlJSUlJaUlpIFsgTzAwTzBvb28wIFsgJ25hbWUnIF0gXSA9IGlJSWlpSUlJaTFJCiAgICAgbzBPTzAwIC4gbG9nICggJ0dvdCAlcyBTb3VyY2UgUmVzdWx0cyBmcm9tICVzJyAlICggaUlJaWlJSUlpMUkgLCBPMDBPMG9vbzAgWyAnbmFtZScgXSApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQogICAgIEkxaWkxID0gKCBPT28gKiA3NSAvIE8wME9PICkgKyAyNQogICAgIG8wT29PMDAwTyArPSBPMDBPMG9vbzAgWyAnaG9zdGVycycgXQogICAgIEkxMTExSTFJSTExIC4gcmVtb3ZlICggTzAwTzBvb28wIFsgJ25hbWUnIF0gKQogICAgIGlmIGlJSTFpaWkgLiBpc19jYW5jZWxlZCAoICkgOgogICAgICBpSTExMWkxSTFJSSA9IFRydWUKICAgICAgYnJlYWsKICAgICAgaWYgNjUgLSA2NTogSTExaUlpMUkgJSBPMCAlIGlJaWkxSTExSTFJSTEgKiBvTzBvCiAgICAgaWYgbGVuICggSTExMTFJMUlJMTEgKSA+IDUgOgogICAgICBpSUlJSUlpSTFJMSA9IGkxOG4gKCAncmVtYWluaW5nX292ZXInICkgJSAoIGxlbiAoIEkxMTExSTFJSTExICkgLCBPMDBPTyApCiAgICAgZWxzZSA6CiAgICAgIGlJSUlJSWlJMUkxID0gaTE4biAoICdyZW1haW5pbmdfdW5kZXInICkgJSAoICcsICcgLiBqb2luICggWyBPT29vb29PME9vIGZvciBPT29vb29PME9vIGluIEkxMTExSTFJSTExIF0gKSApCiAgICAgaUlJMWlpaSAuIHVwZGF0ZSAoIEkxaWkxICwgbGluZTIgPSBpMThuICggJ3JlY2VpdmVkX3NvdXJjZXNfZnJvbScgKSAlICggaUlJaWlJSUlpMUkgLCBsZW4gKCBvME9vTzAwME8gKSAsIE8wME8wb29vMCBbICduYW1lJyBdICkgLCBsaW5lMyA9IGlJSUlJSWlJMUkxICkKICAgICBpZiAxNSAtIDE1OiBvTzBvICogbzAgJSBJMTFpSWkxSSAqIGlJaWkxSTExSTFJSTEgLSBpMTFpSWlpSWlpCiAgICAgaWYgTzAwb09vID4gMCBhbmQgbGVuICggbzBPb08wMDBPICkgPj0gTzAwb09vIDoKICAgICAgbzBPTzAwIC4gbG9nICggJ0V4Y2VlZGVkIG1heCByZXN1bHRzOiAlcy8lcycgJSAoIE8wMG9PbyAsIGxlbiAoIG8wT29PMDAwTyApICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgIEkxMTExSTFJSTExID0geyB9CiAgICAgIGJyZWFrCiAgICAgIGlmIDYwIC0gNjA6IG9Pb29Pb08wT28wTyAqIG8wMCAlIGkxICsgSWlpSUlJMTExaUkKICAgICBpZiBvT29PMCA+IDAgOgogICAgICBpaU9PME8wT29vID0gb09vTzAgLSAoIHRpbWUgLiB0aW1lICggKSAtIGlJSWlJaUkxSTEgKQogICAgICBpZiBpaU9PME8wT29vIDwgMCA6IGlpT08wTzBPb28gPSAwCiAgICBleGNlcHQgd29ya2VyX3Bvb2wgLiBFbXB0eSA6CiAgICAgbzBPTzAwIC4gbG9nICggJ0dldCBTb3VyY2VzIFNjcmFwZXIgVGltZW91dHM6ICVzJyAlICggJywgJyAuIGpvaW4gKCBJMTExMUkxSUkxMSApICkgLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICAgICBicmVhawogICAgIGlmIDUyIC0gNTI6IGkxSUlpCiAgIGVsc2UgOgogICAgbzBPTzAwIC4gbG9nICggJ0FsbCBzb3VyY2UgcmVzdWx0cyByZWNlaXZlZCcgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgZmluYWxseSA6CiAgIGkxaUlpID0gT28wIC4gY2xvc2UgKCApCiAgIGlmIDg0IC0gODQ6IG9PMG8gLyBvMDBvb28wCiAgdHJ5IDoKICAgT09Pb09vTyA9ICcnCiAgIGlmIG5vdCBpSTExMWkxSTFJSSA6CiAgICB1dGlsczIgLiByZWNvcmRfZmFpbHVyZXMgKCBJMTExMUkxSUkxMSAsIGlpaUlJSUlpSWkgKQogICAgb09Pb09vID0gbGVuICggSTExMTFJMUlJMTEgKQogICAgaWYgb09Pb09vID4gNCA6CiAgICAgT09Pb09vTyA9IGkxOG4gKCAnc2NyYXBlcl90aW1lb3V0JyApICUgKCBvT09vT28gLCBPMDBPTyApCiAgICBlbGlmIG9PT29PbyA+IDAgOgogICAgIE9PT29Pb08gPSBpMThuICggJ3NjcmFwZXJfdGltZW91dF9saXN0JyApICUgKCAnLycgLiBqb2luICggWyBPT29vb29PME9vIGZvciBPT29vb29PME9vIGluIEkxMTExSTFJSTExIF0gKSApCiAgICAgaWYgODYgLSA4NjogaWkxSWlJMWkgKiBpMTFpIC0gTzAgLiBpaTFJaUkxaSAlIGlJaWkxSTExSTFJSTEgLyBJaTExMTExaQogICBpZiBub3QgbzBPb08wMDBPIDoKICAgIG8wT08wMCAuIGxvZyAoICdObyBTb3VyY2VzIGZvdW5kIGZvcjogfCVzfCcgJSAoIElpaUlJSUlJMWlpaSApICwgbG9nX3V0aWxzIC4gTE9HV0FSTklORyApCiAgICBJaUlJaUlJSWlJaWkgPSBpMThuICggJ25vX3NvdXJjZXMnICkKICAgIElpSUlpSUlJaUlpaSArPSAnICglcyknICUgT09Pb09vTyBpZiBPT09vT29PIGVsc2UgJycKICAgIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBJaUlJaUlJSWlJaWkgLCBkdXJhdGlvbiA9IDUwMDAgKQogICAgcmV0dXJuIEZhbHNlCiAgICBpZiAyMyAtIDIzOiBJSTFpICsgaWlJMWkxIC4gaWkxSWlJMWkgKiBvT29vT29PME9vME8gKyBJMTFpSWkxSQogICBpZiBPT09vT29PIDoKICAgIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBPT09vT29PICwgZHVyYXRpb24gPSA3NTAwICkKICAgIGlmIDE4IC0gMTg6IG8wMG9vbzAgKiBPT29vT09vIC4gbzAwb29vMCAvIE8wCiAgIGlmIG5vdCBJMTExMUkxSUkxMSA6IGlJSUlJSWlJMUkxID0gJyAnCiAgIGlJSTFpaWkgLiB1cGRhdGUgKCAxMDAgLCBsaW5lMiA9IGkxOG4gKCAnYXBwbHlpbmdfc291cmNlX2ZpbHRlcnMnICkgLCBsaW5lMyA9IGlJSUlJSWlJMUkxICkKICAgbzBPb08wMDBPID0gdXRpbHMyIC4gZmlsdGVyX2V4Y2x1c2lvbnMgKCBvME9vTzAwME8gKQogICBvME9vTzAwME8gPSB1dGlsczIgLiBmaWx0ZXJfcXVhbGl0eSAoIHZpZGVvX3R5cGUgLCBvME9vTzAwME8gKQogICBvME9vTzAwME8gPSBpaUlJSTFJSSAoIG8wT29PMDAwTyApCiAgIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdlbmFibGVfc29ydCcgKSA9PSAndHJ1ZScgOgogICAgU09SVF9LRVlTIFsgJ3NvdXJjZScgXSA9IHRyYW5zaXN0b3J0dl91dGlscyAuIG1ha2Vfc291cmNlX3NvcnRfa2V5ICggKQogICAgbzBPb08wMDBPIC4gc29ydCAoIGtleSA9IHV0aWxzMiAuIGdldF9zb3J0X2tleSApCiAgIGVsc2UgOgogICAgcmFuZG9tIC4gc2h1ZmZsZSAoIG8wT29PMDAwTyApCiAgICBvT28wMG9PT09PTyA9IFsgXQogICAgZm9yIG8wMG8wICwgb09PT29vMDAgaW4gZW51bWVyYXRlICggbzBPb08wMDBPICkgOgogICAgIGlmIGlzaW5zdGFuY2UgKCBvT09Pb28wMCBbICdjbGFzcycgXSAsIGxvY2FsX3NjcmFwZXIgLiBTY3JhcGVyICkgOgogICAgICBvT28wMG9PT09PTyAuIGFwcGVuZCAoIG9PT09vbzAwICkKICAgICAgbzBPb08wMDBPIFsgbzAwbzAgXSA9IE5vbmUKICAgIG8wT29PMDAwTyA9IG9PbzAwb09PT09PICsgWyBvT09Pb28wMCBmb3Igb09PT29vMDAgaW4gbzBPb08wMDBPIGlmIG9PT09vbzAwIGlzIG5vdCBOb25lIF0KICAgIGlmIDg1IC0gODU6IE9vb29vb29vT08gLSBpMSAtIG8wMCAvIE9vMG9PMG9vbyAtIGlpSTFpMQogIGZpbmFsbHkgOgogICBpMWlJaSA9IHdvcmtlcl9wb29sIC4gcmVhcF93b3JrZXJzICggaTFpSWkgKQogICBpZiA0OSAtIDQ5OiBpaTFJaUkxaSAvIG8wIC4gaTExaUlpaUlpaQogdHJ5IDoKICBpZiBub3QgbzBPb08wMDBPIDoKICAgbzBPTzAwIC4gbG9nICggJ05vIFVzYWJsZSBTb3VyY2VzIGZvdW5kIGZvcjogfCVzfCcgJSAoIElpaUlJSUlJMWlpaSApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQogICBJaUlJaUlJSWlJaWkgPSAnICglcyknICUgT09Pb09vTyBpZiBPT09vT29PIGVsc2UgJycKICAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnbm9fdXNlYWJsZV9zb3VyY2VzJyApICUgKCBJaUlJaUlJSWlJaWkgKSAsIGR1cmF0aW9uID0gNTAwMCApCiAgIHJldHVybiBGYWxzZQogICBpZiAyMSAtIDIxOiBpaTFJaUkxaSArIGkxMWlJaWlJaWkgKyBvT29vT29PME9vME8gKiBPT29vT09vICUgSUkxaSAlIGkxMWkKICBvT08wT08wT08gPSB4Ym1jZ3VpIC4gV2luZG93ICggMTAwMDAgKSAuIGdldFByb3BlcnR5ICggJ1BzZXVkb1RWUnVubmluZycgKSAuIGxvd2VyICggKQogIGlmIG9PTzBPTzBPTyA9PSAndHJ1ZScgb3IgKCBtb2RlID09IE1PREVTIC4gR0VUX1NPVVJDRVMgYW5kIGtvZGkgLiBnZXRfc2V0dGluZyAoICdhdXRvLXBsYXknICkgPT0gJ3RydWUnICkgb3IgbW9kZSA9PSBNT0RFUyAuIEFVVE9QTEFZIDoKICAgb09Pb29vTyAoIG8wT29PMDAwTyAsIHZpZGVvX3R5cGUgLCB0cmFrdF9pZCAsIHNlYXNvbiAsIGVwaXNvZGUgKQogIGVsc2UgOgogICBpMWlpMTEgPSB4Ym1jIC4gZ2V0SW5mb0xhYmVsICggJ0NvbnRhaW5lci5QbHVnaW5OYW1lJyApCiAgIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdzb3VyY2Utd2luJyApID09ICdEaWFsb2cnIG9yIGkxaWkxMSA9PSAnJyA6CiAgICBpaTFpICwgSUlpID0gb28wT08gKCBvME9vTzAwME8gKQogICAgcmV0dXJuIElpaUkxMWkxSSAoIG1vZGUgLCBpaTFpICwgSUlpICwgdmlkZW9fdHlwZSAsIHRyYWt0X2lkICwgc2Vhc29uICwgZXBpc29kZSApCiAgIGVsc2UgOgogICAgT09vMCAoIG1vZGUgLCBvME9vTzAwME8gLCB2aWRlb190eXBlICwgdHJha3RfaWQgLCBzZWFzb24gLCBlcGlzb2RlICkKIGZpbmFsbHkgOgogIHRyeSA6IHdvcmtlcl9wb29sIC4gcmVhcF93b3JrZXJzICggaTFpSWkgLCBOb25lICkKICBleGNlcHQgVW5ib3VuZExvY2FsRXJyb3IgOiBwYXNzCiAgaWYgMzUgLSAzNTogaTFJSWkgLSBpSWlpMUkxMUkxSUkxICsgaTFJSWkKZGVmIGlpSUlJMUlJICggaG9zdGVycyApIDoKIE9vb09PbzAgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnZmlsdGVyX3VudXNhYmxlJyApID09ICd0cnVlJwogb29PMDAwTyA9IGtvZGkgLiBnZXRfc2V0dGluZyAoICdzaG93X2RlYnJpZCcgKSA9PSAndHJ1ZScKIGlmIG5vdCBPb29PT28wIGFuZCBub3Qgb29PMDAwTyA6CiAgcmV0dXJuIGhvc3RlcnMKICBpZiA1MyAtIDUzOiBPT29vT09vIC4gSUkxaSAvIG9PMG8KIEkxMWlpSWkxaTEgPSBbIGkxSWlpSTFpSWkgKCApIGZvciBpMUlpaUkxaUlpIGluIHVybHJlc29sdmVyIC4gcmVsZXZhbnRfcmVzb2x2ZXJzICggb3JkZXJfbWF0dGVycyA9IFRydWUgKSBpZiBpMUlpaUkxaUlpIC4gaXNVbml2ZXJzYWwgKCApIF0KIG9PT28wME8wT09PbyA9IFsgXQogaTExSTFJMWlpSSA9IHsgfQogSTFpMWlpaTFJaSA9IHsgfQogaUlPME8wME9PbyA9IHsgfQogZm9yIE9vT09vIGluIGhvc3RlcnMgOgogIGlmICdkaXJlY3QnIGluIE9vT09vIGFuZCBPb09PbyBbICdkaXJlY3QnIF0gaXMgRmFsc2UgYW5kIE9vT09vIFsgJ2hvc3QnIF0gOgogICBpaWkxID0gT29PT28gWyAnaG9zdCcgXQogICBpZiBPb29PT28wIDoKICAgIGlmIGlpaTEgaW4gSTFpMWlpaTFJaSA6CiAgICAgaWYgNzggLSA3ODogSTExaUlpMUkgKyBpaUkxaTEgLSBPMAogICAgIEkxaTFpaWkxSWkgWyBpaWkxIF0gKz0gMQogICAgIGNvbnRpbnVlCiAgICBlbGlmIGlpaTEgaW4gaUlPME8wME9PbyA6CiAgICAgaWYgMTAgLSAxMDogbzAwICUgb09vb09vTzBPbzBPCiAgICAgaUlPME8wME9PbyBbIGlpaTEgXSArPSAxCiAgICAgb09PbzAwTzBPT09vIC4gYXBwZW5kICggT29PT28gKQogICAgZWxzZSA6CiAgICAgb28wT29Pb29vID0gdXJscmVzb2x2ZXIgLiBIb3N0ZWRNZWRpYUZpbGUgKCBob3N0ID0gaWlpMSAsIG1lZGlhX2lkID0gJzEyMzQ1Njc4OTAxJyApCiAgICAgaWYgb28wT29Pb29vIDoKICAgICAgaWYgOTUgLSA5NTogbzAwb29vMCAqIEkxMWlJaTFJICUgT28wb08wb29vICUgb08wbyAtIG9PMG8KICAgICAgaUlPME8wME9PbyBbIGlpaTEgXSA9IGlJTzBPMDBPT28gLiBnZXQgKCBpaWkxICwgMCApICsgMQogICAgICBvT09vMDBPME9PT28gLiBhcHBlbmQgKCBPb09PbyApCiAgICAgZWxzZSA6CiAgICAgIGlmIDk3IC0gOTc6IEkxMWlJaTFJICsgaUlpaTFJMTFJMUlJMSAuIE8wCiAgICAgIEkxaTFpaWkxSWkgWyBpaWkxIF0gPSBJMWkxaWlpMUlpIC4gZ2V0ICggaWlpMSAsIDAgKSArIDEKICAgICAgY29udGludWUKICAgZWxzZSA6CiAgICBvT09vMDBPME9PT28gLiBhcHBlbmQgKCBPb09PbyApCiAgICBpZiA2NCAtIDY0OiBpMUlJaSAlIE9vMG9PMG9vbyAvIGkxMWlJaWlJaWkgLSBpMUlJaSAlIElpMTExMTFpIC4gSUkxaQogICBpZiBpaWkxIGluIGkxMUkxSTFpaUkgOgogICAgaWYgOCAtIDg6IG8wICsgaTExaSAqIElpMTExMTFpICogaWkxSWlJMWkgKiBpaUkxaTEgLyBvMDBvb28wCiAgICBPb09PbyBbICdkZWJyaWQnIF0gPSBpMTFJMUkxaWlJIFsgaWlpMSBdCiAgIGVsc2UgOgogICAgaUlpaSA9IFsgaTFJaWlJMWlJaSAuIG5hbWUgWyA6IDMgXSAuIHVwcGVyICggKSBmb3IgaTFJaWlJMWlJaSBpbiBJMTFpaUlpMWkxIGlmIGkxSWlpSTFpSWkgLiB2YWxpZF91cmwgKCAnJyAsIGlpaTEgKSBdCiAgICBpZiA5MyAtIDkzOiBJaWlJSUkxMTFpSSAtIE9Pb29PT28gJSBpaTFJaUkxaSAuIGlpMUlpSTFpIC0gT28wb08wb29vCiAgICBpMTFJMUkxaWlJIFsgaWlpMSBdID0gaUlpaQogICAgaWYgaUlpaSA6CiAgICAgT29PT28gWyAnZGVicmlkJyBdID0gaUlpaQogIGVsc2UgOgogICBvT09vMDBPME9PT28gLiBhcHBlbmQgKCBPb09PbyApCiAgIGlmIDkwIC0gOTA6IE9vMG9PMG9vbyArIGkxMWkgKiBJMTFpSWkxSSAvIG9PMG8gLiBPT29vT09vICsgT09vb09PbwogbzBPTzAwIC4gbG9nICggJ0Rpc2NhcmRlZCBIb3N0czogJXMnICUgKCBzb3J0ZWQgKCBJMWkxaWlpMUlpIC4gaXRlbXMgKCApICwga2V5ID0gbGFtYmRhIG8wb28wTyA6IG8wb28wTyBbIDEgXSAsIHJldmVyc2UgPSBUcnVlICkgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKIHJldHVybiBvT09vMDBPME9PT28KIGlmIDQwIC0gNDA6IE9vMG9PMG9vbyAvIGlpMUlpSTFpICUgaTExaUlpaUlpaSAlIEkxMWlJaTFJIC8gb09vb09vTzBPbzBPCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRVNPTFZFX1NPVVJDRSAsIFsgJ21vZGUnICwgJ2NsYXNzX3VybCcgLCAnZGlyZWN0JyAsICd2aWRlb190eXBlJyAsICd0cmFrdF9pZCcgLCAnY2xhc3NfbmFtZScgXSAsIFsgJ3NlYXNvbicgLCAnZXBpc29kZScgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBESVJFQ1RfRE9XTkxPQUQgLCBbICdtb2RlJyAsICdjbGFzc191cmwnICwgJ2RpcmVjdCcgLCAndmlkZW9fdHlwZScgLCAndHJha3RfaWQnICwgJ2NsYXNzX25hbWUnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnIF0gKQpkZWYgb29PT09PbzAgKCBtb2RlICwgY2xhc3NfdXJsICwgZGlyZWN0ICwgdmlkZW9fdHlwZSAsIHRyYWt0X2lkICwgY2xhc3NfbmFtZSAsIHNlYXNvbiA9ICcnICwgZXBpc29kZSA9ICcnICkgOgogZm9yIGlpIGluIHRyYW5zaXN0b3J0dl91dGlscyAuIHJlbGV2YW50X3NjcmFwZXJzICggdmlkZW9fdHlwZSApIDoKICBpZiBpaSAuIGdldF9uYW1lICggKSA9PSBjbGFzc19uYW1lIDoKICAgSWlpSWkgPSBpaSAoICkKICAgYnJlYWsKIGVsc2UgOgogIG8wT08wMCAuIGxvZyAoICdVbmFibGUgdG8gbG9jYXRlIHNjcmFwZXIgd2l0aCBuYW1lOiAlcycgJSAoIGNsYXNzX25hbWUgKSAsIGxvZ191dGlscyAuIExPR1dBUk5JTkcgKQogIHJldHVybiBGYWxzZQogIGlmIDEwIC0gMTA6IGkxIC8gbzAKIEkxaUlJMTFpSUlJMWkxSSA9IElpaUlpIC4gcmVzb2x2ZV9saW5rICggY2xhc3NfdXJsICkKIGlmIG1vZGUgPT0gTU9ERVMgLiBESVJFQ1RfRE9XTkxPQUQgOgogIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogcmV0dXJuIElpaUkxMWkxSSAoIG1vZGUgLCBJMWlJSTExaUlJSTFpMUkgLCBkaXJlY3QgLCB2aWRlb190eXBlICwgdHJha3RfaWQgLCBzZWFzb24gLCBlcGlzb2RlICkKIGlmIDYzIC0gNjM6IG8wICsgbzAwIC0gaTExaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUExBWV9UUkFJTEVSICwgWyAnc3RyZWFtX3VybCcgXSApCmRlZiBpMWlJSWkxSTFJMTEgKCBzdHJlYW1fdXJsICkgOgogeGJtYyAuIFBsYXllciAoICkgLiBwbGF5ICggc3RyZWFtX3VybCApCiBpZiAzOSAtIDM5OiBpSWlpMUkxMUkxSUkxIC0gT29vb29vb29PTwpkZWYgb08wb29vb29vICggbGFuZ3VhZ2UgLCB0aXRsZSAsIHllYXIgLCBzZWFzb24gLCBlcGlzb2RlICkgOgogbzBPTzBPbyA9IFNSVF9TY3JhcGVyICggKQogSTExaWlpaTFJID0gbzBPTzBPbyAuIGdldF90dnNob3dfaWQgKCB0aXRsZSAsIHllYXIgKQogaWYgSTExaWlpaTFJIGlzIE5vbmUgOgogIHJldHVybgogIGlmIDMgLSAzOiBPMCAlIE9vb29vb29vT08gLyBJaTExMTExaQogb29PbyA9IG8wT08wT28gLiBnZXRfZXBpc29kZV9zdWJ0aXRsZXMgKCBsYW5ndWFnZSAsIEkxMWlpaWkxSSAsIHNlYXNvbiAsIGVwaXNvZGUgKQogbzBvTzBPb08wID0gWyB1dGlsczIgLiBmb3JtYXRfc3ViX2xhYmVsICggb09PT09Pb09PICkgZm9yIG9PT09PT29PTyBpbiBvb09vIF0KIGlmIDgxIC0gODE6IGkxMWkgKyBpMTFpSWlpSWlpIC8gSUkxaQogSTFJSUlJMWkgPSAwCiBpZiBsZW4gKCBvMG9PME9vTzAgKSA+IDEgYW5kIGtvZGkgLiBnZXRfc2V0dGluZyAoICdzdWJ0aXRsZS1hdXRvcGljaycgKSA9PSAnZmFsc2UnIDoKICBPT09vbzBPTyA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSTFJSUlJMWkgPSBPT09vbzBPTyAuIHNlbGVjdCAoIGkxOG4gKCAnY2hvb3NlX3N1YnRpdGxlJyApICwgbzBvTzBPb08wICkKICBpZiA4NSAtIDg1OiBpMTFpSWlpSWlpICsgbzAwICogaWkxSWlJMWkKIGlmIG9vT28gYW5kIEkxSUlJSTFpID4gLSAxIDoKICByZXR1cm4gbzBPTzBPbyAuIGRvd25sb2FkX3N1YnRpdGxlICggb29PbyBbIEkxSUlJSTFpIF0gWyAndXJsJyBdICkKICBpZiAxIC0gMTogaTFJSWkgLyBvMCAuIGkxCmRlZiBJaWlJMTFpMUkgKCBtb2RlICwgaG9zdGVyX3VybCAsIGRpcmVjdCAsIHZpZGVvX3R5cGUgLCB0cmFrdF9pZCAsIHNlYXNvbiA9ICcnICwgZXBpc29kZSA9ICcnICkgOgogaWYgaG9zdGVyX3VybCBpcyBOb25lIDoKICBpZiBkaXJlY3QgaXMgbm90IE5vbmUgOgogICBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdyZXNvbHZlX2ZhaWxlZCcgKSAlICggaTE4biAoICdub19zdHJlYW1fZm91bmQnICkgKSAsIGR1cmF0aW9uID0gNzUwMCApCiAgcmV0dXJuIEZhbHNlCiAgaWYgNTcgLSA1NzogaWlJMWkxIC4gbzAgKyBpMTFpCiB3aXRoIGtvZGkgLiBXb3JraW5nRGlhbG9nICggKSBhcyBpMTExaTExSTFpaSA6CiAgaWYgZGlyZWN0IDoKICAgbzBPTzAwIC4gbG9nICggJ1RyZWF0aW5nIGhvc3Rlcl91cmwgYXMgZGlyZWN0OiAlcycgJSAoIGhvc3Rlcl91cmwgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgaWkxaSA9IGhvc3Rlcl91cmwKICBlbHNlIDoKICAgaTExMWkxMUkxaWkgLiB1cGRhdGUgKCAyNSApCiAgIG9vME9vT29vbyA9IHVybHJlc29sdmVyIC4gSG9zdGVkTWVkaWFGaWxlICggdXJsID0gaG9zdGVyX3VybCApCiAgIGlmIG5vdCBvbzBPb09vb28gOgogICAgbzBPTzAwIC4gbG9nICggJ0luZGlyZWN0IGhvc3Rlcl91cmwgbm90IHN1cHBvcnRlZCBieSB1cmxyZXNvbHZlcjogJXMnICUgKCBob3N0ZXJfdXJsICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICBpaTFpID0gaG9zdGVyX3VybAogICBlbHNlIDoKICAgIHRyeSA6CiAgICAgaWkxaSA9IG9vME9vT29vbyAuIHJlc29sdmUgKCApCiAgICAgaWYgbm90IGlpMWkgb3Igbm90IGlzaW5zdGFuY2UgKCBpaTFpICwgYmFzZXN0cmluZyApIDoKICAgICAgdHJ5IDogSWlJSWlJSUlpSWlpID0gaWkxaSAuIG1zZwogICAgICBleGNlcHQgOiBJaUlJaUlJSWlJaWkgPSBob3N0ZXJfdXJsCiAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoIElpSUlpSUlJaUlpaSApCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIE9vTzBPMDBPMG9vME8gOgogICAgIHRyeSA6IElpSUlpSUlJaUlpaSA9IHN0ciAoIE9vTzBPMDBPMG9vME8gKQogICAgIGV4Y2VwdCA6IElpSUlpSUlJaUlpaSA9IGhvc3Rlcl91cmwKICAgICBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdyZXNvbHZlX2ZhaWxlZCcgKSAlICggSWlJSWlJSUlpSWlpICkgLCBkdXJhdGlvbiA9IDc1MDAgKQogICAgIHJldHVybiBGYWxzZQogIGkxMTFpMTFJMWlpIC4gdXBkYXRlICggNTAgKQogIGlmIDY0IC0gNjQ6IElpaUlJSTExMWlJIC8gaTExaUlpaUlpaSAvIE9Pb29PT28gLiBPb29vb29vb09PCiBpMWlpSUlpMTFJID0gMAogb09PME9PME9PID0geGJtY2d1aSAuIFdpbmRvdyAoIDEwMDAwICkgLiBnZXRQcm9wZXJ0eSAoICdQc2V1ZG9UVlJ1bm5pbmcnICkgLiBsb3dlciAoICkKIGlmIG9PTzBPTzBPTyAhPSAndHJ1ZScgYW5kIG1vZGUgbm90IGluIFsgTU9ERVMgLiBET1dOTE9BRF9TT1VSQ0UgLCBNT0RFUyAuIERJUkVDVF9ET1dOTE9BRCBdIDoKICBpZiB0cmFuc2lzdG9ydHZfdXRpbHMgLiBib29rbWFya19leGlzdHMgKCB0cmFrdF9pZCAsIHNlYXNvbiAsIGVwaXNvZGUgKSA6CiAgIGlmIHRyYW5zaXN0b3J0dl91dGlscyAuIGdldF9yZXN1bWVfY2hvaWNlICggdHJha3RfaWQgLCBzZWFzb24gLCBlcGlzb2RlICkgOgogICAgaTFpaUlJaTExSSA9IHRyYW5zaXN0b3J0dl91dGlscyAuIGdldF9ib29rbWFyayAoIHRyYWt0X2lkICwgc2Vhc29uICwgZXBpc29kZSApCiAgICBvME9PMDAgLiBsb2cgKCAnUmVzdW1lIFBvaW50OiAlcycgJSAoIGkxaWlJSWkxMUkgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgIGlmIDgwIC0gODA6IE9vMG9PMG9vbyAqIE8wCiB3aXRoIGtvZGkgLiBXb3JraW5nRGlhbG9nICggKSBhcyBpMTExaTExSTFpaSA6CiAgb28wMDBvMCA9IHhibWMgLiBnZXRJbmZvTGFiZWwgKCAnQ29udGFpbmVyLlBsdWdpbk5hbWUnICkgPT0gJycKICBpMTExaTExSTFpaSAuIHVwZGF0ZSAoIDUwICkKICBJMWlJMUkxID0geGJtY2d1aSAuIFdpbmRvdyAoIDEwMDAwICkKICBJMWlJMUkxIC4gc2V0UHJvcGVydHkgKCAndHJhbnNpc3RvcnR2LnBsYXlpbmcnICwgJ1RydWUnICkKICBJMWlJMUkxIC4gc2V0UHJvcGVydHkgKCAndHJhbnNpc3RvcnR2LnBsYXlpbmcudHJha3RfaWQnICwgc3RyICggdHJha3RfaWQgKSApCiAgSTFpSTFJMSAuIHNldFByb3BlcnR5ICggJ3RyYW5zaXN0b3J0di5wbGF5aW5nLnNlYXNvbicgLCBzdHIgKCBzZWFzb24gKSApCiAgSTFpSTFJMSAuIHNldFByb3BlcnR5ICggJ3RyYW5zaXN0b3J0di5wbGF5aW5nLmVwaXNvZGUnICwgc3RyICggZXBpc29kZSApICkKICBJMWlJMUkxIC4gc2V0UHJvcGVydHkgKCAndHJhbnNpc3RvcnR2LnBsYXlpbmcubGlicmFyeScgLCBzdHIgKCBvbzAwMG8wICkgKQogIGlmIGkxaWlJSWkxMUkgPiAwIDoKICAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ3RyYWt0X2Jvb2ttYXJrJyApID09ICd0cnVlJyA6CiAgICBJMWlJMUkxIC4gc2V0UHJvcGVydHkgKCAndHJhbnNpc3RvcnR2LnBsYXlpbmcudHJha3RfcmVzdW1lJyAsIHN0ciAoIGkxaWlJSWkxMUkgKSApCiAgIGVsc2UgOgogICAgSTFpSTFJMSAuIHNldFByb3BlcnR5ICggJ3RyYW5zaXN0b3J0di5wbGF5aW5nLnRyYW5zaXN0b3J0dl9yZXN1bWUnICwgc3RyICggaTFpaUlJaTExSSApICkKICAgIGlmIDQ4IC0gNDg6IG9Pb29Pb08wT28wTyAvIGkxMWlJaWlJaWkgLSBPT29vT09vICogSWlpSUlJMTExaUkgLyBPb29vb29vb09PCiAgT29PbyA9IHsgJ3RodW1iJyA6ICcnICwgJ2ZhbmFydCcgOiAnJyB9CiAgSWlPT28wMCA9IHsgfQogIGkxaSA9IHsgfQogIHRyeSA6CiAgIGlmIHZpZGVvX3R5cGUgPT0gVklERU9fVFlQRVMgLiBFUElTT0RFIDoKICAgIGlJMWlpMUlpID0ga29kaSAuIGdldF9zZXR0aW5nICggJ3R2LWRvd25sb2FkLWZvbGRlcicgKQogICAgSUlJaWlpSSA9IHV0aWxzMiAuIGZpbGVuYW1lX2Zyb21fdGl0bGUgKCB0cmFrdF9pZCAsIFZJREVPX1RZUEVTIC4gVFZTSE9XICkKICAgIElJSWlpaUkgPSBJSUlpaWlJICUgKCAnJTAyZCcgJSBpbnQgKCBzZWFzb24gKSAsICclMDJkJyAlIGludCAoIGVwaXNvZGUgKSApCiAgICBpZiA5NCAtIDk0OiBPMCAtIGlpSTFpMSAtIGlJaWkxSTExSTFJSTEgJSBPbzBvTzBvb28gLyBvTzBvICUgSUkxaQogICAgaUlpMUlJaTFpaSA9IE9vIC4gZ2V0X2VwaXNvZGVfZGV0YWlscyAoIHRyYWt0X2lkICwgc2Vhc29uICwgZXBpc29kZSApCiAgICBpMWkgPSBPbyAuIGdldF9zaG93X2RldGFpbHMgKCB0cmFrdF9pZCApCiAgICBJMWlJMUkxIC4gc2V0UHJvcGVydHkgKCAnc2NyaXB0LnRyYWt0LmlkcycgLCBqc29uIC4gZHVtcHMgKCBpMWkgWyAnaWRzJyBdICkgKQogICAgSTExSWkgPSBPbyAuIGdldF9wZW9wbGUgKCBTRUNUSU9OUyAuIFRWICwgdHJha3RfaWQgKSBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnaW5jbHVkZV9wZW9wbGUnICkgPT0gJ3RydWUnIGVsc2UgTm9uZQogICAgSWlPT28wMCA9IHRyYW5zaXN0b3J0dl91dGlscyAuIG1ha2VfaW5mbyAoIGlJaTFJSWkxaWkgLCBpMWkgLCBJMTFJaSApCiAgICBPb09vID0gaW1hZ2Vfc2NyYXBlciAuIGdldF9pbWFnZXMgKCBWSURFT19UWVBFUyAuIEVQSVNPREUgLCBpMWkgWyAnaWRzJyBdICwgc2Vhc29uICwgZXBpc29kZSApCiAgICBpZiAxNiAtIDE2OiBvMCAvIGkxMWlJaWlJaWkKICAgIGlJMWlpMUlpID0gb28wMCAoIGlJMWlpMUlpICwgVklERU9fVFlQRVMgLiBUVlNIT1cgLCBpMWkgWyAndGl0bGUnIF0gLCBzZWFzb24gPSBzZWFzb24gKQogICAgSUlJaWlpSSA9IHV0aWxzMiAuIGZpbGVuYW1lX2Zyb21fdGl0bGUgKCBpMWkgWyAndGl0bGUnIF0gLCBWSURFT19UWVBFUyAuIFRWU0hPVyApCiAgICBJSUlpaWlJID0gSUlJaWlpSSAlICggJyUwMmQnICUgaW50ICggc2Vhc29uICkgLCAnJTAyZCcgJSBpbnQgKCBlcGlzb2RlICkgKQogICBlbHNlIDoKICAgIGlJMWlpMUlpID0ga29kaSAuIGdldF9zZXR0aW5nICggJ21vdmllLWRvd25sb2FkLWZvbGRlcicgKQogICAgSUlJaWlpSSA9IHV0aWxzMiAuIGZpbGVuYW1lX2Zyb21fdGl0bGUgKCB0cmFrdF9pZCAsIHZpZGVvX3R5cGUgKQogICAgaWYgMjQgLSAyNDogT09vb09PbyAtIE9Pb29PT28gKyBJMTFpSWkxSSArIG9Pb29Pb08wT28wTyAtIElpaUlJSTExMWlJCiAgICBJMUlJaUkgPSBPbyAuIGdldF9tb3ZpZV9kZXRhaWxzICggdHJha3RfaWQgKQogICAgSTFpSTFJMSAuIHNldFByb3BlcnR5ICggJ3NjcmlwdC50cmFrdC5pZHMnICwganNvbiAuIGR1bXBzICggSTFJSWlJIFsgJ2lkcycgXSApICkKICAgIEkxMUlpID0gT28gLiBnZXRfcGVvcGxlICggU0VDVElPTlMgLiBNT1ZJRVMgLCB0cmFrdF9pZCApIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdpbmNsdWRlX3Blb3BsZScgKSA9PSAndHJ1ZScgZWxzZSBOb25lCiAgICBJaU9PbzAwID0gdHJhbnNpc3RvcnR2X3V0aWxzIC4gbWFrZV9pbmZvICggSTFJSWlJICwgcGVvcGxlID0gSTExSWkgKQogICAgT29PbyA9IGltYWdlX3NjcmFwZXIgLiBnZXRfaW1hZ2VzICggVklERU9fVFlQRVMgLiBNT1ZJRSAsIEkxSUlpSSBbICdpZHMnIF0gKQogICAgaWYgODQgLSA4NDogaWlJMWkxIC0gbzAgLyBPMCAtIG8wMAogICAgaUkxaWkxSWkgPSBvbzAwICggaUkxaWkxSWkgLCB2aWRlb190eXBlICwgSTFJSWlJIFsgJ3RpdGxlJyBdICwgSTFJSWlJIFsgJ3llYXInIF0gKQogICAgSUlJaWlpSSA9IHV0aWxzMiAuIGZpbGVuYW1lX2Zyb21fdGl0bGUgKCBJMUlJaUkgWyAndGl0bGUnIF0gLCB2aWRlb190eXBlICwgSTFJSWlJIFsgJ3llYXInIF0gKQogIGV4Y2VwdCBUcmFuc2llbnRUcmFrdEVycm9yIGFzIE9vTzBPMDBPMG9vME8gOgogICBvME9PMDAgLiBsb2cgKCAnRHVyaW5nIFBsYXliYWNrOiAlcycgJSAoIHN0ciAoIE9vTzBPMDBPMG9vME8gKSApICwgbG9nX3V0aWxzIC4gTE9HV0FSTklORyApCiAgaTExMWkxMUkxaWkgLiB1cGRhdGUgKCA3NSApCiAgaWYgMjEgLSAyMTogTzAgKiBPMCAlIEkxMWlJaTFJCiBpZiBtb2RlIGluIFsgTU9ERVMgLiBET1dOTE9BRF9TT1VSQ0UgLCBNT0RFUyAuIERJUkVDVF9ET1dOTE9BRCBdIDoKICB1dGlscyAuIGRvd25sb2FkX21lZGlhICggaWkxaSAsIGlJMWlpMUlpICwgSUlJaWlpSSAsIGtvZGkgLiBUcmFuc2xhdGlvbnMgKCBzdHJpbmdzIC4gU1RSSU5HUyApICkKICByZXR1cm4gVHJ1ZQogIGlmIDk0IC0gOTQ6IGlpSTFpMSArIGkxMWkgJSBpMTFpSWlpSWlpCiB3aXRoIGtvZGkgLiBXb3JraW5nRGlhbG9nICggKSBhcyBpMTExaTExSTFpaSA6CiAgaTExMWkxMUkxaWkgLiB1cGRhdGUgKCA3NSApCiAgaWYgdmlkZW9fdHlwZSA9PSBWSURFT19UWVBFUyAuIEVQSVNPREUgYW5kIHV0aWxzMiAuIHNydF9kb3dubG9hZF9lbmFibGVkICggKSBhbmQgaTFpIDoKICAgaTFpMUlpSWlJaTFJaSA9IG9PMG9vb29vbyAoIGtvZGkgLiBnZXRfc2V0dGluZyAoICdzdWJ0aXRsZS1sYW5nJyApICwgaTFpIFsgJ3RpdGxlJyBdICwgaTFpIFsgJ3llYXInIF0gLCBzZWFzb24gLCBlcGlzb2RlICkKICAgaWYgdXRpbHMyIC4gc3J0X3Nob3dfZW5hYmxlZCAoICkgYW5kIGkxaTFJaUlpSWkxSWkgOgogICAgbzBPTzAwIC4gbG9nICggJ1NldHRpbmcgc3J0IHBhdGg6ICVzJyAlICggaTFpMUlpSWlJaTFJaSApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQogICAgSTFpSTFJMSAuIHNldFByb3BlcnR5ICggJ3RyYW5zaXN0b3J0di5wbGF5aW5nLnNydCcgLCBpMWkxSWlJaUlpMUlpICkKICAgIGlmIDY0IC0gNjQ6IElpMTExMTFpICsgT29vb29vb29PTyAqIE9vb29vb29vT08KICBpMUkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBwYXRoID0gaWkxaSAsIGljb25JbWFnZSA9IE9vT28gWyAndGh1bWInIF0gLCB0aHVtYm5haWxJbWFnZSA9IE9vT28gWyAndGh1bWInIF0gKQogIGkxSSAuIHNldFByb3BlcnR5ICggJ2ZhbmFydF9pbWFnZScgLCBPb09vIFsgJ2ZhbmFydCcgXSApCiAgdHJ5IDogaTFJIC4gc2V0QXJ0ICggT29PbyApCiAgZXhjZXB0IDogcGFzcwogIGkxSSAuIHNldFBhdGggKCBpaTFpICkKICBpMUkgLiBzZXRJbmZvICggJ3ZpZGVvJyAsIElpT09vMDAgKQogIGkxMTFpMTFJMWlpIC4gdXBkYXRlICggMTAwICkKICBpZiAzNiAtIDM2OiBvT29vT29PME9vME8gKiBvMAogaWYgbW9kZSA9PSBNT0RFUyAuIFJFU09MVkVfU09VUkNFIG9yIG9vMDAwbzAgb3IgdXRpbHMyIC4gZnJvbV9wbGF5bGlzdCAoICkgOgogIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsIFRydWUgLCBpMUkgKQogZWxzZSA6CiAgeGJtYyAuIFBsYXllciAoICkgLiBwbGF5ICggaWkxaSAsIGkxSSApCiByZXR1cm4gVHJ1ZQogaWYgNzcgLSA3NzogSWlpSUlJMTExaUkgJSBpMUlJaSAtIG9PMG8KZGVmIG9PT29vb08gKCBob3N0ZXJzICwgdmlkZW9fdHlwZSAsIHRyYWt0X2lkICwgc2Vhc29uICwgZXBpc29kZSApIDoKIG9PTzAwT08wb29vMG8gPSBsZW4gKCBob3N0ZXJzICkKIElJaWlpaSA9IEZhbHNlIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdwZF9mb3JjZV9kaXNhYmxlJyApID09ICd0cnVlJyBlbHNlIFRydWUKIHdpdGgga29kaSAuIFByb2dyZXNzRGlhbG9nICggaTE4biAoICd0cnlpbmdfYXV0b3BsYXknICkgLCBhY3RpdmUgPSBJSWlpaWkgKSBhcyBpSUkxaWlpIDoKICBPT08wbyA9ICcnCiAgZm9yIG8wMG8wICwgb09PT29vMDAgaW4gZW51bWVyYXRlICggaG9zdGVycyApIDoKICAgaWYgb09PT29vMDAgWyAnbXVsdGktcGFydCcgXSA6CiAgICBjb250aW51ZQogICAgaWYgNCAtIDQ6IG8wIC4gaTFJSWkgLSBJSTFpCiAgIE9vTzAwID0gbzAwbzAgKiAxMDAgLyBvT08wME9PMG9vbzBvCiAgIGkxMTFpMTFJMUlpMUkgPSBpMThuICggJ3RyeWluZ19zb3VyY2UnICkgJSAoIG9PT09vbzAwIFsgJ3F1YWxpdHknIF0gLCBvT09Pb28wMCBbICdob3N0JyBdICwgb09PT29vMDAgWyAnY2xhc3MnIF0gLiBnZXRfbmFtZSAoICkgKQogICBpSUkxaWlpIC4gdXBkYXRlICggT29PMDAgLCBpMTExaTExSTFJaTFJICwgT09PMG8gKQogICBpZiBpSUkxaWlpIC4gaXNfY2FuY2VsZWQgKCApIDogcmV0dXJuIEZhbHNlCiAgIEkxaUlJMTFpSUlJMWkxSSA9IG9PT09vbzAwIFsgJ2NsYXNzJyBdIC4gcmVzb2x2ZV9saW5rICggb09PT29vMDAgWyAndXJsJyBdICkKICAgbzBPTzAwIC4gbG9nICggJ0F1dG8gUGxheWluZzogJXMnICUgKCBJMWlJSTExaUlJSTFpMUkgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgaWYgSWlpSTExaTFJICggTU9ERVMgLiBHRVRfU09VUkNFUyAsIEkxaUlJMTFpSUlJMWkxSSAsIG9PT09vbzAwIFsgJ2RpcmVjdCcgXSAsIHZpZGVvX3R5cGUgLCB0cmFrdF9pZCAsIHNlYXNvbiAsIGVwaXNvZGUgKSA6CiAgICByZXR1cm4gVHJ1ZQogICBpZiBpSUkxaWlpIC4gaXNfY2FuY2VsZWQgKCApIDogcmV0dXJuIEZhbHNlCiAgIE9PTzBvID0gaTE4biAoICdmYWlsZWRfc291cmNlJyApICUgKCBvT09Pb28wMCBbICdxdWFsaXR5JyBdICwgb09PT29vMDAgWyAnaG9zdCcgXSAsIG9PT09vbzAwIFsgJ2NsYXNzJyBdIC4gZ2V0X25hbWUgKCApICkKICBlbHNlIDoKICAgSWlJSWlJSUlpSWlpID0gaTE4biAoICdhbGxfc291cmNlc19mYWlsZWQnICkKICAgbzBPTzAwIC4gbG9nICggSWlJSWlJSUlpSWlpICwgbG9nX3V0aWxzIC4gTE9HRVJST1IgKQogICBrb2RpIC4gbm90aWZ5ICggbXNnID0gSWlJSWlJSUlpSWlpICwgZHVyYXRpb24gPSA1MDAwICkKICAgaWYgOCAtIDg6IG9PMG8KZGVmIG9vME9PICggaG9zdGVycyApIDoKIGZvciBvT09Pb28wMCBpbiBob3N0ZXJzIDoKICBpZiBvT09Pb28wMCBbICdtdWx0aS1wYXJ0JyBdIDoKICAgY29udGludWUKICBvT09Pb28wMCBbICdsYWJlbCcgXSA9IHV0aWxzMiAuIGZvcm1hdF9zb3VyY2VfbGFiZWwgKCBvT09Pb28wMCApCiAgaWYgMzUgLSAzNTogbzAwb29vMCArIGkxSUlpICogSWlpSUlJMTExaUkgLSBvTzBvIC4gbzAKIE9PT29vME9PID0geGJtY2d1aSAuIERpYWxvZyAoICkKIEkxSUlJSTFpID0gT09Pb28wT08gLiBzZWxlY3QgKCBpMThuICggJ2Nob29zZV9zdHJlYW0nICkgLCBbIG9PT09vbzAwIFsgJ2xhYmVsJyBdIGZvciBvT09Pb28wMCBpbiBob3N0ZXJzIGlmICdsYWJlbCcgaW4gb09PT29vMDAgXSApCiBpZiBJMUlJSUkxaSA+IC0gMSA6CiAgdHJ5IDoKICAgT29PT28gPSBob3N0ZXJzIFsgSTFJSUlJMWkgXQogICBpZiBPb09PbyBbICd1cmwnIF0gOgogICAgSTFpSUkxMWlJSUkxaTFJID0gT29PT28gWyAnY2xhc3MnIF0gLiByZXNvbHZlX2xpbmsgKCBPb09PbyBbICd1cmwnIF0gKQogICAgbzBPTzAwIC4gbG9nICggJ0F0dGVtcHRpbmcgdG8gcGxheSB1cmw6ICVzIGFzIGRpcmVjdDogJXMgZnJvbTogJXMnICUgKCBJMWlJSTExaUlJSTFpMUkgLCBPb09PbyBbICdkaXJlY3QnIF0gLCBPb09PbyBbICdjbGFzcycgXSAuIGdldF9uYW1lICggKSApICwgbG9nX3V0aWxzIC4gTE9HTk9USUNFICkKICAgIHJldHVybiBJMWlJSTExaUlJSTFpMUkgLCBPb09PbyBbICdkaXJlY3QnIF0KICBleGNlcHQgRXhjZXB0aW9uIGFzIE9vTzBPMDBPMG9vME8gOgogICBvME9PMDAgLiBsb2cgKCAnRXJyb3IgKCVzKSB3aGlsZSB0cnlpbmcgdG8gcmVzb2x2ZSAlcycgJSAoIHN0ciAoIE9vTzBPMDBPMG9vME8gKSAsIE9vT09vIFsgJ3VybCcgXSApICwgbG9nX3V0aWxzIC4gTE9HRVJST1IgKQogICBpZiAzMSAtIDMxOiBPT29vT09vCiByZXR1cm4gTm9uZSAsIE5vbmUKIGlmIDE1IC0gMTU6IE8wIC8gbzAgJSBJMTFpSWkxSSArIE9Pb29PT28KZGVmIE9PbzAgKCBwcmV2X21vZGUgLCBob3N0ZXJzICwgdmlkZW9fdHlwZSAsIHRyYWt0X2lkICwgc2Vhc29uICwgZXBpc29kZSApIDoKIGRiX2Nvbm5lY3Rpb24gLiBjYWNoZV9zb3VyY2VzICggaG9zdGVycyApCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIEJVSUxEX1NPVVJDRV9ESVIgLCAncHJldl9tb2RlJyA6IHByZXZfbW9kZSAsICd2aWRlb190eXBlJyA6IHZpZGVvX3R5cGUgLCAndHJha3RfaWQnIDogdHJha3RfaWQgLCAnc2Vhc29uJyA6IHNlYXNvbiAsICdlcGlzb2RlJyA6IGVwaXNvZGUgfQogb08wT29vMG9vT08wID0ga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApCiBrb2RpIC4gdXBkYXRlX2NvbnRhaW5lciAoIG9PME9vbzBvb09PMCApCiBpZiAyMyAtIDIzOiBpSWlpMUkxMUkxSUkxICsgTzAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIEJVSUxEX1NPVVJDRV9ESVIgLCBbICdwcmV2X21vZGUnICwgJ3ZpZGVvX3R5cGUnICwgJ3RyYWt0X2lkJyBdICwgWyAnc2Vhc29uJyAsICdlcGlzb2RlJyBdICkKZGVmIG9vTzBvbyAoIHByZXZfbW9kZSAsIHZpZGVvX3R5cGUgLCB0cmFrdF9pZCAsIHNlYXNvbiA9ICcnICwgZXBpc29kZSA9ICcnICkgOgogaWYgcHJldl9tb2RlID09IE1PREVTIC4gRE9XTkxPQURfU09VUkNFIDoKICBvb08wb28wbzAgPSBNT0RFUyAuIERJUkVDVF9ET1dOTE9BRAogIElJaUlpaTEgPSBGYWxzZQogZWxzZSA6CiAgb29PMG9vMG8wID0gTU9ERVMgLiBSRVNPTFZFX1NPVVJDRQogIElJaUlpaTEgPSBUcnVlCiAgaWYgNjIgLSA2MjogaUlpaTFJMTFJMUlJMSArIElJMWkgLiBvMCAvIG8wMG9vbzAgJSBPMCAuIG8wMAogaWlJaTFJSWkxSSA9IHRyYW5zaXN0b3J0dl91dGlscyAuIHJlbGV2YW50X3NjcmFwZXJzICggdmlkZW9fdHlwZSAsIGFzX2RpY3QgPSBUcnVlICkKIG8wT29PMDAwTyA9IGRiX2Nvbm5lY3Rpb24gLiBnZXRfY2FjaGVkX3NvdXJjZXMgKCApCiBPbzBvT29vT29PbyA9IGxlbiAoIG8wT29PMDAwTyApCiBmb3Igb09PT29vMDAgaW4gbzBPb08wMDBPIDoKICBpZiBvT09Pb28wMCBbICduYW1lJyBdIGluIGlpSWkxSUlpMUkgOgogICBvT09Pb28wMCBbICdjbGFzcycgXSA9IGlpSWkxSUlpMUkgWyBvT09Pb28wMCBbICduYW1lJyBdIF0gKCApCiAgZWxzZSA6CiAgIG8wT08wMCAuIGxvZyAoICdTa2lwcGluZyBob3N0ZXIgd2l0aCB1bmtub3duIG5hbWU6ICVzJyAlICggb09PT29vMDAgKSApCiAgIGNvbnRpbnVlCiAgIGlmIDQ5IC0gNDk6IElpMTExMTFpIC4gSTExaUlpMUkgLiBpMTFpSWlpSWlpIC0gaTExaSAvIG9PMG8KICBpZiBvT09Pb28wMCBbICdtdWx0aS1wYXJ0JyBdIDoKICAgY29udGludWUKICAgaWYgNjIgLSA2MjogSWkxMTExMWkKICBJSTExaWlpaTFJaSA9IFsgXQogIG9PT09vbzAwIFsgJ2xhYmVsJyBdID0gdXRpbHMyIC4gZm9ybWF0X3NvdXJjZV9sYWJlbCAoIG9PT09vbzAwICkKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFVF9WSUVXICwgJ2NvbnRlbnRfdHlwZScgOiBDT05URU5UX1RZUEVTIC4gRklMRVMgfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ3NldF9hc19zb3VyY2VzX3ZpZXcnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgaWYgb29PMG9vMG8wID09IE1PREVTIC4gUkVTT0xWRV9TT1VSQ0UgOgogICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIERJUkVDVF9ET1dOTE9BRCAsICdjbGFzc191cmwnIDogb09PT29vMDAgWyAndXJsJyBdICwgJ2RpcmVjdCcgOiBvT09Pb28wMCBbICdkaXJlY3QnIF0gLCAndmlkZW9fdHlwZScgOiB2aWRlb190eXBlICwgJ3RyYWt0X2lkJyA6IHRyYWt0X2lkICwKICdzZWFzb24nIDogc2Vhc29uICwgJ2VwaXNvZGUnIDogZXBpc29kZSAsICdjbGFzc19uYW1lJyA6IG9PT09vbzAwIFsgJ2NsYXNzJyBdIC4gZ2V0X25hbWUgKCApIH0KICAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnZG93bmxvYWRfc291cmNlJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogICBpZiAxIC0gMTogbzAwb29vMCAvIG8wMG9vbzAgLSBpMTFpSWlpSWlpCiAgaWkxSSA9IHsgJ21vZGUnIDogb29PMG9vMG8wICwgJ2NsYXNzX3VybCcgOiBvT09Pb28wMCBbICd1cmwnIF0gLCAnZGlyZWN0JyA6IG9PT09vbzAwIFsgJ2RpcmVjdCcgXSAsICd2aWRlb190eXBlJyA6IHZpZGVvX3R5cGUgLCAndHJha3RfaWQnIDogdHJha3RfaWQgLAogJ3NlYXNvbicgOiBzZWFzb24gLCAnZXBpc29kZScgOiBlcGlzb2RlICwgJ2NsYXNzX25hbWUnIDogb09PT29vMDAgWyAnY2xhc3MnIF0gLiBnZXRfbmFtZSAoICkgfQogIGtvZGkgLiBjcmVhdGVfaXRlbSAoIGlpMUkgLCB1dGlsczIgLiBjbGVhbnNlX3RpdGxlICggb09PT29vMDAgWyAnbGFiZWwnIF0gKSAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBJSWlJaWkxICwgdG90YWxfaXRlbXMgPSBPbzBvT29vT29PbyAsIG1lbnVfaXRlbXMgPSBJSTExaWlpaTFJaSApCiBrb2RpIC4gc2V0X3ZpZXcgKCBDT05URU5UX1RZUEVTIC4gRklMRVMgLCBUcnVlICkKIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogaWYgODcgLSA4NzogbzAgLyBPMCAqIG8wMG9vbzAgLyBPT29vT09vCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBTRVRfVVJMX01BTlVBTCAsIFsgJ21vZGUnICwgJ3ZpZGVvX3R5cGUnICwgJ3RpdGxlJyAsICd5ZWFyJyAsICd0cmFrdF9pZCcgXSAsIFsgJ3NlYXNvbicgLCAnZXBpc29kZScgLCAnZXBfdGl0bGUnICwgJ2VwX2FpcmRhdGUnIF0gKQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gU0VUX1VSTF9TRUFSQ0ggLCBbICdtb2RlJyAsICd2aWRlb190eXBlJyAsICd0aXRsZScgLCAneWVhcicgLCAndHJha3RfaWQnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnICwgJ2VwX3RpdGxlJyAsICdlcF9haXJkYXRlJyBdICkKZGVmIEkxaWlJSUkgKCBtb2RlICwgdmlkZW9fdHlwZSAsIHRpdGxlICwgeWVhciAsIHRyYWt0X2lkICwgc2Vhc29uID0gJycgLCBlcGlzb2RlID0gJycgLCBlcF90aXRsZSA9ICcnICwgZXBfYWlyZGF0ZSA9ICcnICkgOgogdHJ5IDoKICBJaWlJSUlJSTFpaWkgPSBTY3JhcGVyVmlkZW8gKCB2aWRlb190eXBlICwgdGl0bGUgLCB5ZWFyICwgdHJha3RfaWQgLCBzZWFzb24gLCBlcGlzb2RlICwgZXBfdGl0bGUgLCBlcF9haXJkYXRlICkKICBpMWlJaSAsIGlJaTFJMSA9IE8wb09vbzBPb08wTyAoIElpaUlJSUlJMWlpaSApCiAgd2hpbGUgVHJ1ZSA6CiAgIE9PT29vME9PID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgaWYgbW9kZSA9PSBNT0RFUyAuIFNFVF9VUkxfU0VBUkNIIDoKICAgIG9vMDBJaUkxID0gWyAoICcqKiolcycgJSAoIGkxOG4gKCAnbWFudWFsX3NlYXJjaF9hbGwnICkgKSApIF0KICAgIG9PbzAwbzAwb08gPSAyCiAgIGVsc2UgOgogICAgb09vMDBvMDBvTyA9IDEKICAgIG9vMDBJaUkxID0gWyBdCiAgIG9vMDBJaUkxICs9IFsgJyoqKiVzJyAlICggaTE4biAoICdyZXNjcmFwZV9hbGwnICkgKSBdCiAgIG9vMDBJaUkxICs9IFsgbzAwMDAgWyAnbGFiZWwnIF0gZm9yIG8wMDAwIGluIGlJaTFJMSBdCiAgIGlmIDQyIC0gNDI6IG8wMCArIG8wMCAqIGkxMWkKICAgSTFJSUlJMWkgPSBPT09vbzBPTyAuIHNlbGVjdCAoIGkxOG4gKCAndXJsX3RvX2NoYW5nZScgKSAlICggdmlkZW9fdHlwZSApICwgb28wMElpSTEgKQogICBpZiBJMUlJSUkxaSA9PSAwIDoKICAgIGlmIG1vZGUgPT0gTU9ERVMgLiBTRVRfVVJMX1NFQVJDSCA6CiAgICAgaUlpMUkxID0gbzBPbyAoIElpaUlJSUlJMWlpaSAsIGlJaTFJMSApCiAgICBlbHNlIDoKICAgICBpSWkxSTEgPSBvME8wICggSWlpSUlJSUkxaWlpICwgaUlpMUkxICkKICAgZWxpZiBJMUlJSUkxaSA9PSAxIGFuZCBtb2RlID09IE1PREVTIC4gU0VUX1VSTF9TRUFSQ0ggOgogICAgaUlpMUkxID0gbzBPMCAoIElpaUlJSUlJMWlpaSAsIGlJaTFJMSApCiAgIGVsaWYgSTFJSUlJMWkgPiBvT28wMG8wMG9PIC0gMSA6CiAgICBJMUlJSUkxaSA9IEkxSUlJSTFpIC0gb09vMDBvMDBvTwogICAgaWYgbW9kZSA9PSBNT0RFUyAuIFNFVF9VUkxfTUFOVUFMIDoKICAgICBvMDAwMCA9IGlJaTFJMSBbIEkxSUlJSTFpIF0KICAgICBpaTFpaWkxSTFJID0gaTE4biAoICdyZWxfdXJsX2F0JyApICUgKCB2aWRlb190eXBlICwgbzAwMDAgWyAnbmFtZScgXSApCiAgICAgSTFJMUlpaWkxID0ga29kaSAuIGdldF9rZXlib2FyZCAoIGlpMWlpaTFJMUkgLCBvMDAwMCBbICd1cmwnIF0gKQogICAgIGlmIEkxSTFJaWlpMSBpcyBub3QgTm9uZSA6CiAgICAgIHRyYW5zaXN0b3J0dl91dGlscyAuIHVwZGF0ZV91cmwgKCBJaWlJSUlJSTFpaWkgLCBvMDAwMCBbICduYW1lJyBdICwgbzAwMDAgWyAndXJsJyBdICwgSTFJMUlpaWkxICkKICAgICAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAncmVsX3VybF9zZXQnICkgJSAoIG8wMDAwIFsgJ25hbWUnIF0gKSAsIGR1cmF0aW9uID0gNTAwMCApCiAgICAgIG8wMDAwIFsgJ2xhYmVsJyBdID0gJ1slc10gJXMnICUgKCBvMDAwMCBbICduYW1lJyBdICwgSTFJMUlpaWkxICkKICAgIGVsaWYgbW9kZSA9PSBNT0RFUyAuIFNFVF9VUkxfU0VBUkNIIDoKICAgICBpMTExaTEgKCBJaWlJSUlJSTFpaWkgLCBpSWkxSTEgWyBJMUlJSUkxaSBdICkKICAgZWxzZSA6CiAgICBicmVhawogZmluYWxseSA6CiAgdHJ5IDogd29ya2VyX3Bvb2wgLiByZWFwX3dvcmtlcnMgKCBpMWlJaSAsIE5vbmUgKQogIGV4Y2VwdCBVbmJvdW5kTG9jYWxFcnJvciA6IHBhc3MKICBpZiA5OSAtIDk5OiBvT29vT29PME9vME8gKyBpMUlJaSArIGkxMWlJaWlJaWkgKyBvMCAlIElpaUlJSTExMWlJIC8gaWlJMWkxCmRlZiBvME9vICggdmlkZW8gLCByZWxhdGVkX2xpc3QgKSA6CiBPME9PMG8wT08wT08gPSBbIG8wMDAwIGZvciBvMDAwMCBpbiByZWxhdGVkX2xpc3QgaWYgbm90IG8wMDAwIFsgJ3VybCcgXSBdCiBpZiBub3QgTzBPTzBvME9PME9PIDogcmV0dXJuIHJlbGF0ZWRfbGlzdAogaWYgNjQgLSA2NDogaTExaQogaUlJSWlJaTFJMWkgLCBPb09Pb08wb09vICwgTzBvb09PT08wTzAgPSBpMUlJaTFpMUlpMSAoIHZpZGVvIC4gdmlkZW9fdHlwZSAsIHZpZGVvIC4gdGl0bGUgLCB2aWRlbyAuIHllYXIgLCB2aWRlbyAuIHNlYXNvbiApCiBpaU9PME8wT29vID0gb09vTzAgPSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc291cmNlX3RpbWVvdXQnICkgKQogaWYgb09vTzAgPT0gMCA6IGlpT08wTzBPb28gPSBOb25lCiBpSUlpSWlJMUkxID0gdGltZSAuIHRpbWUgKCApCiB3aXRoIGtvZGkgLiBQcm9ncmVzc0RpYWxvZyAoIGkxOG4gKCAnc2V0X3JlbGF0ZWRfdXJsJyApICwgdXRpbHMyIC4gbWFrZV9wcm9ncmVzc19tc2cgKCB2aWRlbyApICkgYXMgaUlJMWlpaSA6CiAgdHJ5IDoKICAgT28wID0gd29ya2VyX3Bvb2wgLiBXb3JrZXJQb29sICggKQogICBPMDBPTyA9IGxlbiAoIE8wT08wbzBPTzBPTyApCiAgIGZvciBvMDBvMCAsIG8wMDAwIGluIGVudW1lcmF0ZSAoIE8wT08wbzBPTzBPTyApIDoKICAgIG8wT08wMCAuIGxvZyAoICdTZWFyY2hpbmcgZm9yOiB8JXN8JXN8JXN8JXN8JyAlICggbzAwMDAgWyAnbmFtZScgXSAsIGlJSUlpSWkxSTFpICwgT29PT29PMG9PbyAsIE8wb29PT09PME8wICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICBPbzAgLiByZXF1ZXN0ICggdHJhbnNpc3RvcnR2X3V0aWxzIC4gcGFyYWxsZWxfc2VhcmNoICwgWyBvMDAwMCBbICdjbGFzcycgXSAsIHZpZGVvIC4gdmlkZW9fdHlwZSAsIGlJSUlpSWkxSTFpICwgT29PT29PMG9PbyAsIE8wb29PT09PME8wIF0gKQogICAgSTFpaTEgPSBvMDBvMCAqIDUwIC8gTzAwT08KICAgIGlJSTFpaWkgLiB1cGRhdGUgKCBJMWlpMSAsIGxpbmUyID0gaTE4biAoICdyZXFfcmVzdWx0JyApICUgKCBvMDAwMCBbICduYW1lJyBdICkgKQogICAgaWYgNDUgLSA0NTogaUlpaTFJMTFJMUlJMSAuIElpaUlJSTExMWlJIC8gaWkxSWlJMWkgLyBvMDBvb28wCiAgIEkxMTExSTFJSTExID0gc2V0ICggWyBvT09Pb28wMCBbICduYW1lJyBdIGZvciBvT09Pb28wMCBpbiBPME9PMG8wT08wT08gXSApCiAgIE9PbyA9IDAKICAgd2hpbGUgT09vIDwgTzAwT08gOgogICAgdHJ5IDoKICAgICBvME9PMDAgLiBsb2cgKCAnV2FpdGluZyBmb3IgVXJscyAtIFRpbWVvdXQ6ICVzJyAlICggaWlPTzBPME9vbyApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQogICAgIG8wTzBPMCA9IE9vMCAuIHJlY2VpdmUgKCBpaU9PME8wT29vICkKICAgICBJMTExMUkxSUkxMSAuIHJlbW92ZSAoIG8wTzBPMCBbICduYW1lJyBdICkKICAgICBPT28gKz0gMQogICAgIG8wT08wMCAuIGxvZyAoICdHb3QgcmVzdWx0OiAlcycgJSAoIG8wTzBPMCApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQogICAgIGlmIG8wTzBPMCBbICdyZXN1bHRzJyBdIDoKICAgICAgZm9yIG8wMG8wICwgb09PT29vMDAgaW4gZW51bWVyYXRlICggcmVsYXRlZF9saXN0ICkgOgogICAgICAgaWYgb09PT29vMDAgWyAnbmFtZScgXSA9PSBvME8wTzAgWyAnbmFtZScgXSA6CiAgICAgICAgb29PT09vT29PT08wID0gbzBPME8wIFsgJ3Jlc3VsdHMnIF0gWyAwIF0KICAgICAgICB0cmFuc2lzdG9ydHZfdXRpbHMgLiB1cGRhdGVfdXJsICggdmlkZW8gLCBvT09Pb28wMCBbICduYW1lJyBdICwgb09PT29vMDAgWyAndXJsJyBdICwgb29PT09vT29PT08wIFsgJ3VybCcgXSApCiAgICAgICAgb09PT29vMDAgWyAndXJsJyBdID0gb29PT09vT29PT08wIFsgJ3VybCcgXQogICAgICAgIG9PT09vbzAwIFsgJ2xhYmVsJyBdID0gJ1slc10gJXMnICUgKCBvT09Pb28wMCBbICduYW1lJyBdICwgb29PT09vT29PT08wIFsgJ3VybCcgXSApCiAgICAgICAgaWYgNSAtIDU6IElpMTExMTFpCiAgICAgSTFpaTEgPSAoIE9PbyAqIDUwIC8gTzAwT08gKSArIDUwCiAgICAgaWYgbGVuICggSTExMTFJMUlJMTEgKSA+IDUgOgogICAgICBpSUlJSUlpSTFJMSA9IGkxOG4gKCAncmVtYWluaW5nX292ZXInICkgJSAoIGxlbiAoIEkxMTExSTFJSTExICkgLCBPMDBPTyApCiAgICAgZWxzZSA6CiAgICAgIGlJSUlJSWlJMUkxID0gaTE4biAoICdyZW1haW5pbmdfdW5kZXInICkgJSAoICcsICcgLiBqb2luICggSTExMTFJMUlJMTEgKSApCiAgICAgaUlJMWlpaSAuIHVwZGF0ZSAoIEkxaWkxICwgbGluZTIgPSBpMThuICggJ3JlY3ZfcmVzdWx0JyApICUgKCBvME8wTzAgWyAnbmFtZScgXSApICwgbGluZTMgPSBpSUlJSUlpSTFJMSApCiAgICAgaWYgNCAtIDQ6IElJMWkgJSBvMDAgLyBpMSAuIElpMTExMTFpIC8gSWkxMTExMWkgLSBJMTFpSWkxSQogICAgIGlmIG9Pb08wID4gMCA6CiAgICAgIGlpT08wTzBPb28gPSBvT29PMCAtICggdGltZSAuIHRpbWUgKCApIC0gaUlJaUlpSTFJMSApCiAgICAgIGlmIGlpT08wTzBPb28gPCAwIDogaWlPTzBPME9vbyA9IDAKICAgIGV4Y2VwdCB3b3JrZXJfcG9vbCAuIEVtcHR5IDoKICAgICBvME9PMDAgLiBsb2cgKCAnR2V0IFVybCBUaW1lb3V0JyAsIGxvZ191dGlscyAuIExPR1dBUk5JTkcgKQogICAgIGJyZWFrCiAgIGVsc2UgOgogICAgbzBPTzAwIC4gbG9nICggJ0FsbCBzb3VyY2UgcmVzdWx0cyByZWNlaXZlZCcgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgZmluYWxseSA6CiAgIGkxaUlpID0gT28wIC4gY2xvc2UgKCApCiAgIGlmIDc5IC0gNzk6IEkxMWlJaTFJICsgbzAwCiB0cmFuc2lzdG9ydHZfdXRpbHMgLiByZWNvcmRfc3J1X2ZhaWx1cmVzICggSTExMTFJMUlJMTEgLCBPMDBPTyAsIHJlbGF0ZWRfbGlzdCApCiB3b3JrZXJfcG9vbCAuIHJlYXBfd29ya2VycyAoIGkxaUlpICwgTm9uZSApCiByZXR1cm4gcmVsYXRlZF9saXN0CiBpZiAxMCAtIDEwOiBvMCArIE8wCmRlZiBvME8wICggdmlkZW8gLCByZWxhdGVkX2xpc3QgKSA6CiBmb3IgbzAwMDAgaW4gcmVsYXRlZF9saXN0IDoKICB0cmFuc2lzdG9ydHZfdXRpbHMgLiB1cGRhdGVfdXJsICggdmlkZW8gLCBvMDAwMCBbICduYW1lJyBdICwgbzAwMDAgWyAndXJsJyBdICwgJycgKQogIGlmIDQzIC0gNDM6IGlJaWkxSTExSTFJSTEgLyBpMTFpICUgT09vb09PbyAtIElpMTExMTFpCiB0cnkgOgogIGkxaUlpICwgcmVsYXRlZF9saXN0ID0gTzBvT29vME9vTzBPICggdmlkZW8gKQogIHJldHVybiByZWxhdGVkX2xpc3QKIGZpbmFsbHkgOgogIHRyeSA6IHdvcmtlcl9wb29sIC4gcmVhcF93b3JrZXJzICggaTFpSWkgLCBOb25lICkKICBleGNlcHQgVW5ib3VuZExvY2FsRXJyb3IgOiBwYXNzCiAgaWYgNjIgLSA2MjogaWlJMWkxCmRlZiBPMG9Pb28wT29PME8gKCB2aWRlbyApIDoKIGlpT08wTzBPb28gPSBvT29PMCA9IGludCAoIGtvZGkgLiBnZXRfc2V0dGluZyAoICdzb3VyY2VfdGltZW91dCcgKSApCiBpZiBvT29PMCA9PSAwIDogaWlPTzBPME9vbyA9IE5vbmUKIGlJSWlJaUkxSTEgPSB0aW1lIC4gdGltZSAoICkKIHdpdGgga29kaSAuIFByb2dyZXNzRGlhbG9nICggaTE4biAoICdzZXRfcmVsYXRlZF91cmwnICkgLCB1dGlsczIgLiBtYWtlX3Byb2dyZXNzX21zZyAoIHZpZGVvICkgKSBhcyBpSUkxaWlpIDoKICB0cnkgOgogICBPbzAgPSB3b3JrZXJfcG9vbCAuIFdvcmtlclBvb2wgKCApCiAgIGlpSWkxSUlpMUkgPSB0cmFuc2lzdG9ydHZfdXRpbHMgLiByZWxldmFudF9zY3JhcGVycyAoIHZpZGVvIC4gdmlkZW9fdHlwZSAsIG9yZGVyX21hdHRlcnMgPSBUcnVlICkKICAgaUlpMUkxID0gWyBdCiAgIE8wME9PID0gbGVuICggaWlJaTFJSWkxSSApCiAgIGZvciBvMDBvMCAsIGlpIGluIGVudW1lcmF0ZSAoIGlpSWkxSUlpMUkgKSA6CiAgICBvTzBPMDBvT09vb29PID0gaWkgKCBvT29PMCApCiAgICBPbzAgLiByZXF1ZXN0ICggdHJhbnNpc3RvcnR2X3V0aWxzIC4gcGFyYWxsZWxfZ2V0X3VybCAsIFsgb08wTzAwb09Pb29vTyAsIHZpZGVvIF0gKQogICAgaUlpMUkxIC4gYXBwZW5kICggeyAnY2xhc3MnIDogb08wTzAwb09Pb29vTyAsICd1cmwnIDogJycgLCAnbmFtZScgOiBpaSAuIGdldF9uYW1lICggKSAsICdsYWJlbCcgOiAnWyVzXScgJSAoIGlpIC4gZ2V0X25hbWUgKCApICkgfSApCiAgICBJMWlpMSA9IG8wMG8wICogNTAgLyBPMDBPTwogICAgaUlJMWlpaSAuIHVwZGF0ZSAoIEkxaWkxICwgbGluZTIgPSBpMThuICggJ3JlcV9yZXN1bHQnICkgJSAoIGlpIC4gZ2V0X25hbWUgKCApICkgKQogICAgaWYgNjMgLSA2MzogSWkxMTExMWkgKyBPbzBvTzBvb28gKiBJaWlJSUkxMTFpSSAvIE9Pb29PT28gLyBvMCAqIGlJaWkxSTExSTFJSTEKICAgSTExMTFJMUlJMTEgPSBzZXQgKCBbIG9PT09vbzAwIFsgJ25hbWUnIF0gZm9yIG9PT09vbzAwIGluIGlJaTFJMSBdICkKICAgT09vID0gMAogICB3aGlsZSBPT28gPCBPMDBPTyA6CiAgICB0cnkgOgogICAgIG8wT08wMCAuIGxvZyAoICdXYWl0aW5nIGZvciBVcmxzIC0gVGltZW91dDogJXMnICUgKCBpaU9PME8wT29vICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgTzAwTzBvb28wID0gT28wIC4gcmVjZWl2ZSAoIGlpT08wTzBPb28gKQogICAgIE9PbyArPSAxCiAgICAgbzBPTzAwIC4gbG9nICggJ0dvdCByZXN1bHQ6ICVzJyAlICggTzAwTzBvb28wICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgZm9yIG8wMG8wICwgb09PT29vMDAgaW4gZW51bWVyYXRlICggaUlpMUkxICkgOgogICAgICBpZiBvT09Pb28wMCBbICduYW1lJyBdID09IE8wME8wb29vMCBbICduYW1lJyBdIDoKICAgICAgIGlJaTFJMSBbIG8wMG8wIF0gPSBPMDBPMG9vbzAKICAgICAgIEkxMTExSTFJSTExIC4gcmVtb3ZlICggTzAwTzBvb28wIFsgJ25hbWUnIF0gKQogICAgIEkxaWkxID0gKCBPT28gKiA1MCAvIE8wME9PICkgKyA1MAogICAgIGlmIGxlbiAoIEkxMTExSTFJSTExICkgPiA1IDoKICAgICAgaUlJSUlJaUkxSTEgPSBpMThuICggJ3JlbWFpbmluZ19vdmVyJyApICUgKCBsZW4gKCBJMTExMUkxSUkxMSApICwgTzAwT08gKQogICAgIGVsc2UgOgogICAgICBpSUlJSUlpSTFJMSA9IGkxOG4gKCAncmVtYWluaW5nX3VuZGVyJyApICUgKCAnLCAnIC4gam9pbiAoIEkxMTExSTFJSTExICkgKQogICAgIGlJSTFpaWkgLiB1cGRhdGUgKCBJMWlpMSAsIGxpbmUyID0gaTE4biAoICdyZWN2X3Jlc3VsdCcgKSAlICggTzAwTzBvb28wIFsgJ25hbWUnIF0gKSAsIGxpbmUzID0gaUlJSUlJaUkxSTEgKQogICAgIGlmIDU3IC0gNTc6IGlpMUlpSTFpIC0gSWlpSUlJMTExaUkgLyBPbzBvTzBvb28gJSBpMTFpSWlpSWlpCiAgICAgaWYgb09vTzAgPiAwIDoKICAgICAgaWlPTzBPME9vbyA9IG9Pb08wIC0gKCB0aW1lIC4gdGltZSAoICkgLSBpSUlpSWlJMUkxICkKICAgICAgaWYgaWlPTzBPME9vbyA8IDAgOiBpaU9PME8wT29vID0gMAogICAgZXhjZXB0IHdvcmtlcl9wb29sIC4gRW1wdHkgOgogICAgIG8wT08wMCAuIGxvZyAoICdHZXQgVXJsIFRpbWVvdXQnICwgbG9nX3V0aWxzIC4gTE9HV0FSTklORyApCiAgICAgYnJlYWsKICAgZWxzZSA6CiAgICBvME9PMDAgLiBsb2cgKCAnQWxsIHNvdXJjZSByZXN1bHRzIHJlY2VpdmVkJyAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgIGlmIDMgLSAzOiBJSTFpIC4gT28wb08wb29vICUgb09vb09vTzBPbzBPICsgSTExaUlpMUkKICBmaW5hbGx5IDoKICAgaTFpSWkgPSBPbzAgLiBjbG9zZSAoICkKICAgaWYgNjQgLSA2NDogaTFJSWkKIHRyYW5zaXN0b3J0dl91dGlscyAuIHJlY29yZF9zcnVfZmFpbHVyZXMgKCBJMTExMUkxSUkxMSAsIE8wME9PICwgaUlpMUkxICkKIHJldHVybiBpMWlJaSAsIGlJaTFJMQogaWYgMjkgLSAyOTogT09vb09PbyAvIGkxMWlJaWlJaWkgLyBvT29vT29PME9vME8gJSBJaWlJSUkxMTFpSSAlIGkxMWlJaWlJaWkKZGVmIGkxMTFpMSAoIHZpZGVvICwgcmVsYXRlZCApIDoKIGlJSUlpSWkxSTFpICwgT29PT29PMG9PbyAsIE8wb29PT09PME8wID0gdmlkZW8gLiB0aXRsZSAsIHZpZGVvIC4geWVhciAsIHZpZGVvIC4gc2Vhc29uCiB3aGlsZSBUcnVlIDoKICBPT09vbzBPTyA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgaTExMUlJID0gWyBpMThuICggJ21hbnVhbF9zZWFyY2gnICkgLCAnW0NPTE9SIGdyZWVuXSVzWy9DT0xPUl0nICUgKCBpMThuICggJ2ZvcmNlX25vX21hdGNoJyApICkgXQogIHRyeSA6CiAgIG8wT08wMCAuIGxvZyAoICdTZWFyY2hpbmcgZm9yOiB8JXN8JXN8JXN8JyAlICggaUlJSWlJaTFJMWkgLCBPb09Pb08wb09vICwgTzBvb09PT08wTzAgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgbzBPME8wID0gcmVsYXRlZCBbICdjbGFzcycgXSAuIHNlYXJjaCAoIHZpZGVvIC4gdmlkZW9fdHlwZSAsIGlJSUlpSWkxSTFpICwgT29PT29PMG9PbyAsIE8wb29PT09PME8wICkKICAgaTExMUlJICs9IFsgJyVzICglcyknICUgKCBPMDBPMG9vbzAgWyAndGl0bGUnIF0gLCBPMDBPMG9vbzAgWyAneWVhcicgXSApIGlmIE8wME8wb29vMCBbICd5ZWFyJyBdIGVsc2UgTzAwTzBvb28wIFsgJ3RpdGxlJyBdIGZvciBPMDBPMG9vbzAgaW4gbzBPME8wIF0KICAgT08wTzAwbzAgPSBPT09vbzBPTyAuIHNlbGVjdCAoIGkxOG4gKCAnc2VsZWN0X3JlbGF0ZWQnICkgLCBpMTExSUkgKQogICBpZiBPTzBPMDBvMCA9PSAwIDoKICAgIGlJSUlpSWkxSTFpICwgT29PT29PMG9PbyAsIE8wb29PT09PME8wID0gaTFJSWkxaTFJaTEgKCB2aWRlbyAuIHZpZGVvX3R5cGUgLCBpSUlJaUlpMUkxaSAsIE9vT09vTzBvT28gLCBPMG9vT09PTzBPMCApCiAgIGVsaWYgT08wTzAwbzAgPj0gMSA6CiAgICBpZiBPTzBPMDBvMCA9PSAxIDoKICAgICB0cmFuc2lzdG9ydHZfdXRpbHMgLiB1cGRhdGVfdXJsICggdmlkZW8gLCByZWxhdGVkIFsgJ25hbWUnIF0gLCByZWxhdGVkIFsgJ3VybCcgXSAsIEZPUkNFX05PX01BVENIICkKICAgICByZWxhdGVkIFsgJ2xhYmVsJyBdID0gJ1slc10gW0NPTE9SIGdyZWVuXSVzWy9DT0xPUl0nICUgKCByZWxhdGVkIFsgJ25hbWUnIF0gLCBpMThuICggJ2ZvcmNlX25vX21hdGNoJyApICkKICAgIGVsc2UgOgogICAgIHRyYW5zaXN0b3J0dl91dGlscyAuIHVwZGF0ZV91cmwgKCB2aWRlbyAsIHJlbGF0ZWQgWyAnbmFtZScgXSAsIHJlbGF0ZWQgWyAndXJsJyBdICwgbzBPME8wIFsgT08wTzAwbzAgLSAyIF0gWyAndXJsJyBdICkKICAgICByZWxhdGVkIFsgJ2xhYmVsJyBdID0gJ1slc10gJXMnICUgKCByZWxhdGVkIFsgJ25hbWUnIF0gLCBvME8wTzAgWyBPTzBPMDBvMCAtIDIgXSBbICd1cmwnIF0gKQogICAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAncmVsX3VybF9zZXQnICkgJSAoIHJlbGF0ZWQgWyAnbmFtZScgXSApICwgZHVyYXRpb24gPSA1MDAwICkKICAgIGJyZWFrCiAgIGVsc2UgOgogICAgYnJlYWsKICBleGNlcHQgTm90SW1wbGVtZW50ZWRFcnJvciA6CiAgIG8wT08wMCAuIGxvZyAoICclcyBTY3JhcGVyIGRvZXMgbm90IHN1cHBvcnQgc2VhcmNoaW5nLicgJSAoIHJlbGF0ZWQgWyAnY2xhc3MnIF0gLiBnZXRfbmFtZSAoICkgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnc2NyYXBlcl9ub19zZWFyY2gnICkgLCBkdXJhdGlvbiA9IDUwMDAgKQogICBicmVhawogICBpZiAzMiAtIDMyOiBJaTExMTExaSAvIG8wMG9vbzAgJSBPbzBvTzBvb28gKyBpMTFpCmRlZiBpMUlJaTFpMUlpMSAoIHZpZGVvX3R5cGUgLCBzZWFyY2hfdGl0bGUgLCBzZWFyY2hfeWVhciAsIHNlYXJjaF9zZWFzb24gKSA6CiBJMUlJSTExMWkgPSBzZWFyY2hfdGl0bGUKIGlmIHNlYXJjaF95ZWFyIDogSTFJSUkxMTFpID0gJyVzICglcyknICUgKCBJMUlJSTExMWkgLCBzZWFyY2hfeWVhciApCiBpZiB2aWRlb190eXBlID09IFZJREVPX1RZUEVTIC4gU0VBU09OIGFuZCBzZWFyY2hfc2Vhc29uIDoKICBJMUlJSTExMWkgKz0gJyBTZWFzb24gJXMnICUgKCBzZWFyY2hfc2Vhc29uICkKIGlpMUlpMUlpSUlpID0ga29kaSAuIGdldF9rZXlib2FyZCAoIGkxOG4gKCAnZW50ZXJfc2VhcmNoJyApICwgSTFJSUkxMTFpICkKIGlmIGlpMUlpMUlpSUlpIGlzIG5vdCBOb25lIDoKICBpaUkxaWlpID0gcmUgLiBtYXRjaCAoICcoLio/KVwoPyhcZHs0fSlcKT8nICwgaWkxSWkxSWlJSWkgKQogIGlmIGlpSTFpaWkgOgogICBzZWFyY2hfdGl0bGUgLCBzZWFyY2hfeWVhciA9IGlpSTFpaWkgLiBncm91cHMgKCApCiAgIHNlYXJjaF90aXRsZSA9IHNlYXJjaF90aXRsZSAuIHN0cmlwICggKQogIGVsc2UgOgogICBzZWFyY2hfdGl0bGUgPSBpaTFJaTFJaUlJaQogICBzZWFyY2hfeWVhciA9ICcnCiAgIGlmIDc5IC0gNzk6IGkxICogaWkxSWlJMWkgLiBPb29vb29vb09PIC0gaWlJMWkxICogT09vb09PbwogIGlpSTFpaWkgPSByZSAuIHNlYXJjaCAoICdTZWFzb25ccysoXGQrKScgLCBpaTFJaTFJaUlJaSApCiAgdHJ5IDogc2VhcmNoX3NlYXNvbiA9IGlpSTFpaWkgLiBncm91cCAoIDEgKQogIGV4Y2VwdCA6IHNlYXJjaF9zZWFzb24gPSAnJwogcmV0dXJuIHNlYXJjaF90aXRsZSAsIHNlYXJjaF95ZWFyICwgc2VhcmNoX3NlYXNvbgogaWYgNzggLSA3ODogbzAwb29vMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUkFURSAsIFsgJ3NlY3Rpb24nICwgJ2lkX3R5cGUnICwgJ3Nob3dfaWQnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnIF0gKQpkZWYgT28wTzBPbzAwTyAoIHNlY3Rpb24gLCBpZF90eXBlICwgc2hvd19pZCAsIHNlYXNvbiA9ICcnICwgZXBpc29kZSA9ICcnICkgOgogaWYgOSAtIDk6IE9Pb29PT28gLiBvT29vT29PME9vME8gLSBJMTFpSWkxSQogaWYgaWRfdHlwZSA9PSAnaW1kYicgYW5kIHhibWMgLiBnZXRDb25kVmlzaWJpbGl0eSAoICdTeXN0ZW0uSGFzQWRkb24oc2NyaXB0LnRyYWt0KScgKSA6CiAgSWlpaUkgPSAnUnVuU2NyaXB0KHNjcmlwdC50cmFrdCwgYWN0aW9uPXJhdGUsIG1lZGlhX3R5cGU9JXMsIHJlbW90ZWlkPSVzJwogIGlmIHNlY3Rpb24gPT0gU0VDVElPTlMgLiBNT1ZJRVMgOgogICBJaWlpSSA9ICggSWlpaUkgKyAnKScgKSAlICggJ21vdmllJyAsIHNob3dfaWQgKQogIGVsc2UgOgogICBpZiBzZWFzb24gYW5kIGVwaXNvZGUgOgogICAgSWlpaUkgPSAoIElpaWlJICsgJywgc2Vhc29uPSVzLCBlcGlzb2RlPSVzKScgKSAlICggJ2VwaXNvZGUnICwgc2hvd19pZCAsIHNlYXNvbiAsIGVwaXNvZGUgKQogICBlbGlmIHNlYXNvbiA6CiAgICBJaWlpSSA9ICggSWlpaUkgKyAnLCBzZWFzb249JXMpJyApICUgKCAnc2Vhc29uJyAsIHNob3dfaWQgLCBzZWFzb24gKQogICBlbHNlIDoKICAgIElpaWlJID0gKCBJaWlpSSArICcpJyApICUgKCAnc2hvdycgLCBzaG93X2lkICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCBJaWlpSSApCiBlbHNlIDoKICBvT09Pb28wMCA9IHsgaWRfdHlwZSA6IHNob3dfaWQgfQogIHdoaWxlIFRydWUgOgogICBpaUlJaSA9IGtvZGkgLiBnZXRfa2V5Ym9hcmQgKCBpMThuICggJ2VudGVyX3JhdGluZycgKSApCiAgIGlmIGlpSUlpIGlzIG5vdCBOb25lIDoKICAgIGlpSUlpID0gaWlJSWkgLiBsb3dlciAoICkKICAgIGlmIGlpSUlpIGluIFsgJ3VucmF0ZScgXSArIFsgc3RyICggbzAwbzAgKSBmb3IgbzAwbzAgaW4gcmFuZ2UgKCAxICwgMTEgKSBdIDoKICAgICBicmVhawogICBlbHNlIDoKICAgIHJldHVybgogICAgaWYgMzYgLSAzNjogaWlJMWkxIC4gaTExaQogIGlmIGlpSUlpID09ICd1bnJhdGUnIDogaWlJSWkgPSBOb25lCiAgT28gLiByYXRlICggc2VjdGlvbiAsIG9PT09vbzAwICwgaWlJSWkgLCBzZWFzb24gLCBlcGlzb2RlICkKICBpZiAyNSAtIDI1OiBJaWlJSUkxMTFpSQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gRURJVF9UVlNIT1dfSUQgLCBbICd0aXRsZScgXSAsIFsgJ3llYXInIF0gKQpkZWYgaUkxaWlJSTExSSAoIHRpdGxlICwgeWVhciA9ICcnICkgOgogSTExaWlpaTFJID0gU1JUX1NjcmFwZXIgKCApIC4gZ2V0X3R2c2hvd19pZCAoIHRpdGxlICwgeWVhciApCiBJMUkxMUlpMTFJID0ga29kaSAuIGdldF9rZXlib2FyZCAoIGkxOG4gKCAnaW5wdXRfdHZzaG93X2lkJyApICwgSTExaWlpaTFJICkKIGlmIEkxSTExSWkxMUkgaXMgbm90IE5vbmUgOgogIGRiX2Nvbm5lY3Rpb24gLiBzZXRfcmVsYXRlZF91cmwgKCBWSURFT19UWVBFUyAuIFRWU0hPVyAsIHRpdGxlICwgeWVhciAsIFNSVF9TT1VSQ0UgLCBJMUkxMUlpMTFJICkKICBpZiA0NiAtIDQ2OiBpaTFJaUkxaSAlIGkxSUlpIC8gSWlpSUlJMTExaUkgKiBvMCAqIElpMTExMTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRU1fRlJPTV9MSVNUICwgWyAnc2x1ZycgLCAnc2VjdGlvbicgLCAnaWRfdHlwZScgLCAnc2hvd19pZCcgXSApCmRlZiBPT29PT09vME9vbzAgKCBzbHVnICwgc2VjdGlvbiAsIGlkX3R5cGUgLCBzaG93X2lkICkgOgogb09PT29vMDAgPSB7ICd0eXBlJyA6IFRSQUtUX1NFQ1RJT05TIFsgc2VjdGlvbiBdIFsgOiAtIDEgXSAsIGlkX3R5cGUgOiBzaG93X2lkIH0KIG8wT09PT08wTyAoIHNlY3Rpb24gLCBvT09Pb28wMCAsIHNsdWcgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgMzUgLSAzNTogb08wbyAtIG9PMG8gKyBpMUlJaSAtIE8wIC0gbzAwCmRlZiBvME9PT09PME8gKCBzZWN0aW9uICwgaXRlbXMgLCBzbHVnICkgOgogaWYgc2x1ZyA9PSB1dGlscyAuIFdBVENITElTVF9TTFVHIDoKICBvT08wbzBvbzAgPSBPbyAuIHJlbW92ZV9mcm9tX3dhdGNobGlzdCAoIHNlY3Rpb24gLCBpdGVtcyApCiBlbHNlIDoKICBvT08wbzBvbzAgPSBPbyAuIHJlbW92ZV9mcm9tX2xpc3QgKCBzZWN0aW9uICwgc2x1ZyAsIGl0ZW1zICkKIHJldHVybiBvT08wbzBvbzAKIGlmIDc4IC0gNzg6IElpMTExMTFpICsgSUkxaSAuIG8wMG9vbzAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIEFERF9UT19DT0xMICwgWyAnbW9kZScgLCAnc2VjdGlvbicgLCAnaWRfdHlwZScgLCAnc2hvd19pZCcgXSApCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBSRU1fRlJPTV9DT0xMICwgWyAnbW9kZScgLCAnc2VjdGlvbicgLCAnaWRfdHlwZScgLCAnc2hvd19pZCcgXSApCmRlZiBPb0lJaTFpSSAoIG1vZGUgLCBzZWN0aW9uICwgaWRfdHlwZSAsIHNob3dfaWQgKSA6CiBvT09Pb28wMCA9IHsgaWRfdHlwZSA6IHNob3dfaWQgfQogaWYgbW9kZSA9PSBNT0RFUyAuIEFERF9UT19DT0xMIDoKICBPbyAuIGFkZF90b19jb2xsZWN0aW9uICggc2VjdGlvbiAsIG9PT09vbzAwICkKICBJaUlJaUlJSWlJaWkgPSBpMThuICggJ2l0ZW1fdG9fY29sbGVjdGlvbicgKQogZWxzZSA6CiAgT28gLiByZW1vdmVfZnJvbV9jb2xsZWN0aW9uICggc2VjdGlvbiAsIG9PT09vbzAwICkKICBJaUlJaUlJSWlJaWkgPSBpMThuICggJ2l0ZW1fZnJvbV9jb2xsZWN0aW9uJyApCiBrb2RpIC4gbm90aWZ5ICggbXNnID0gSWlJSWlJSUlpSWlpICkKIGtvZGkgLiByZWZyZXNoX2NvbnRhaW5lciAoICkKIGlmIDkyIC0gOTI6IGkxICogT28wb08wb29vCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBBRERfVE9fTElTVCAsIFsgJ3NlY3Rpb24nICwgJ2lkX3R5cGUnICwgJ3Nob3dfaWQnIF0gLCBbICdzbHVnJyBdICkKZGVmIGkxaUlJaTFvMG8wT29PT09PT28gKCBzZWN0aW9uICwgaWRfdHlwZSAsIHNob3dfaWQgLCBzbHVnID0gTm9uZSApIDoKIG9PTzBvMG9vMCA9IElpMTFpaWkxSUkxaSAoIHNlY3Rpb24gLCB7IGlkX3R5cGUgOiBzaG93X2lkIH0gLCBzbHVnICkKIGlmIG9PTzBvMG9vMCBpcyBub3QgTm9uZSA6CiAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnaXRlbV90b19saXN0JyApICkKICBpZiA2NSAtIDY1OiBvTzBvICsgaTEgLSBPb29vb29vb09PCmRlZiBJaTExaWlpMUlJMWkgKCBzZWN0aW9uICwgaXRlbXMgLCBzbHVnID0gTm9uZSApIDoKIGlmIG5vdCBzbHVnIDoKICBPMDBPMG9vbzAgPSB1dGlscyAuIGNob29zZV9saXN0ICggVHJha3RfQVBJICwga29kaSAuIFRyYW5zbGF0aW9ucyAoIHN0cmluZ3MgLiBTVFJJTkdTICkgKQogIGlmIE8wME8wb29vMCA6CiAgIHNsdWcgLCBPT09vb28gPSBPMDBPMG9vbzAKICAgaWYgNTEgLSA1MTogbzAgKyBJaWlJSUkxMTFpSSAvIElJMWkgLSBpMUlJaQogaWYgc2x1ZyA9PSB1dGlscyAuIFdBVENITElTVF9TTFVHIDoKICBvT08wbzBvbzAgPSBPbyAuIGFkZF90b193YXRjaGxpc3QgKCBzZWN0aW9uICwgaXRlbXMgKQogZWxpZiBzbHVnIDoKICBvT08wbzBvbzAgPSBPbyAuIGFkZF90b19saXN0ICggc2VjdGlvbiAsIHNsdWcgLCBpdGVtcyApCiBlbHNlIDoKICBvT08wbzBvbzAgPSBOb25lCiByZXR1cm4gb09PMG8wb28wCiBpZiA1MSAtIDUxOiBvMCAtIEkxMWlJaTFJICogaWlJMWkxCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBDT1BZX0xJU1QgLCBbICdzZWN0aW9uJyAsICdzbHVnJyBdICwgWyAndXNlcm5hbWUnICwgJ3RhcmdldF9zbHVnJyBdICkKZGVmIGlpMTExMUlpMWkgKCBzZWN0aW9uICwgc2x1ZyAsIHVzZXJuYW1lID0gTm9uZSAsIHRhcmdldF9zbHVnID0gTm9uZSApIDoKIGlmIHNsdWcgPT0gQ09MTEVDVElPTl9TTFVHIDoKICBJaUkxMTExMTFJSUlJID0gT28gLiBnZXRfY29sbGVjdGlvbiAoIHNlY3Rpb24gKQogZWxzZSA6CiAgSWlJMTExMTExSUlJSSA9IE9vIC4gc2hvd19saXN0ICggc2x1ZyAsIHNlY3Rpb24gLCB1c2VybmFtZSApCiBJaUkxaWlJMUlJSTFJID0gWyBdCiBmb3Igb09PT29vMDAgaW4gSWlJMTExMTExSUlJSSA6CiAgSTFpaWlpMUkgPSB1dGlsczIgLiBzaG93X2lkICggb09PT29vMDAgKQogIE9vMDAwID0geyAndHlwZScgOiBUUkFLVF9TRUNUSU9OUyBbIHNlY3Rpb24gXSBbIDogLSAxIF0gLCBJMWlpaWkxSSBbICdpZF90eXBlJyBdIDogSTFpaWlpMUkgWyAnc2hvd19pZCcgXSB9CiAgSWlJMWlpSTFJSUkxSSAuIGFwcGVuZCAoIE9vMDAwICkKIG9PTzBvMG9vMCA9IElpMTFpaWkxSUkxaSAoIHNlY3Rpb24gLCBJaUkxaWlJMUlJSTFJICwgdGFyZ2V0X3NsdWcgKQogaWYgb09PMG8wb28wIDoKICBvb28wME9vID0gc3VtICggb09PMG8wb28wIFsgJ2FkZGVkJyBdIC4gdmFsdWVzICggKSApCiAgSWlpaTFpaWlJaUkxID0gc3VtICggb09PMG8wb28wIFsgJ2V4aXN0aW5nJyBdIC4gdmFsdWVzICggKSApCiAgSTExSWlpMSA9IHN1bSAoIFsgbGVuICggb09PT29vMDAgKSBmb3Igb09PT29vMDAgaW4gb09PMG8wb28wIFsgJ25vdF9mb3VuZCcgXSAuIHZhbHVlcyAoICkgXSApCiAga29kaSAuIG5vdGlmeSAoIG1zZyA9IGkxOG4gKCAnbGlzdF9jb3BpZWQnICkgJSAoIG9vbzAwT28gLCBJaWlpMWlpaUlpSTEgLCBJMTFJaWkxICkgLCBkdXJhdGlvbiA9IDUwMDAgKQogIGlmIDE2IC0gMTY6IG9PMG8gKiBpMSAvIElpaUlJSTExMWlJCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBUT0dHTEVfVElUTEUgLCBbICd0cmFrdF9pZCcgXSApCmRlZiBJSTFpaUkgKCB0cmFrdF9pZCApIDoKIHRyYWt0X2lkID0gc3RyICggdHJha3RfaWQgKQogSWkgPSB1dGlsczIgLiBnZXRfZm9yY2VfdGl0bGVfbGlzdCAoICkKIGlmIHRyYWt0X2lkIGluIElpIDoKICBkZWwgSWkgWyBJaSAuIGluZGV4ICggdHJha3RfaWQgKSBdCiBlbHNlIDoKICBJaSAuIGFwcGVuZCAoIHRyYWt0X2lkICkKIElJSTFJaTFpMUkxID0gJ3wnIC4gam9pbiAoIElpICkKIGtvZGkgLiBzZXRfc2V0dGluZyAoICdmb3JjZV90aXRsZV9tYXRjaCcgLCBJSUkxSWkxaTFJMSApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiA5NyAtIDk3OiBvMDAgLiBPbzBvTzBvb28gLSBvMDAgKyBvT29vT29PME9vME8gKiBpMTFpCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBNQU5BR0VfUFJPR1JFU1MgLCBbICdhY3Rpb24nICwgJ3RyYWt0X2lkJyBdICkKZGVmIGlpaUkxSTFpSUlJaTEgKCBhY3Rpb24gLCB0cmFrdF9pZCApIDoKIHRyYWt0X2lkID0gc3RyICggdHJha3RfaWQgKQogSWkgPSB1dGlsczIgLiBnZXRfcHJvZ3Jlc3Nfc2tpcF9saXN0ICggKQogaUlJMTExMUlJSTFJID0gdXRpbHMyIC4gZ2V0X2ZvcmNlX3Byb2dyZXNzX2xpc3QgKCApCiBJMTExSWkgPSB0cmFrdF9pZCBpbiBJaQogSUkxMSA9IHRyYWt0X2lkIGluIGlJSTExMTFJSUkxSQogaWYgMiAtIDI6IGlJaWkxSTExSTFJSTEKIGlmIGFjdGlvbiA9PSBBQ1RJT05TIC4gUkVNT1ZFIGFuZCBJMTExSWkgOgogIGRlbCBJaSBbIElpIC4gaW5kZXggKCB0cmFrdF9pZCApIF0KICBpSUkxMTExSUlJMUkgLiBhcHBlbmQgKCB0cmFrdF9pZCApCiBlbGlmIGFjdGlvbiA9PSBBQ1RJT05TIC4gQUREIGFuZCBub3QgSTExMUlpIGFuZCBub3QgSUkxMSA6CiAgSWkgLiBhcHBlbmQgKCB0cmFrdF9pZCApCiAgaWYgNDUgLSA0NTogT29vb29vb29PTyAvIGkxMWlJaWlJaWkKIElJSTFJaTFpMUkxID0gJ3wnIC4gam9pbiAoIElpICkKIGtvZGkgLiBzZXRfc2V0dGluZyAoICdwcm9ncmVzc19za2lwX2NhY2hlJyAsIElJSTFJaTFpMUkxICkKIEkxMUkxaTFpSSA9ICd8JyAuIGpvaW4gKCBpSUkxMTExSUlJMUkgKQoga29kaSAuIHNldF9zZXR0aW5nICggJ2ZvcmNlX2luY2x1ZGVfcHJvZ3Jlc3MnICwgSTExSTFpMWlJICkKIGlmIGFjdGlvbiA9PSBBQ1RJT05TIC4gUkVNT1ZFIDoKICBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiAgaWYgOTAgLSA5MDogbzAwb29vMCAqIGkxMWkgJSBvMDAgKyBJaWlJSUkxMTFpSQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gVE9HR0xFX1dBVENIRUQgLCBbICdzZWN0aW9uJyAsICdpZF90eXBlJyAsICdzaG93X2lkJyBdICwgWyAnd2F0Y2hlZCcgLCAnc2Vhc29uJyAsICdlcGlzb2RlJyBdICkKZGVmIG8wMG9vbzBpMSAoIHNlY3Rpb24gLCBpZF90eXBlICwgc2hvd19pZCAsIHdhdGNoZWQgPSBUcnVlICwgc2Vhc29uID0gJycgLCBlcGlzb2RlID0gJycgKSA6CiBvME9PMDAgLiBsb2cgKCAnSW4gV2F0Y2hlZDogfCVzfCVzfCVzfCVzfCVzfCVzfCcgJSAoIHNlY3Rpb24gLCBpZF90eXBlICwgc2hvd19pZCAsIHNlYXNvbiAsIGVwaXNvZGUgLCB3YXRjaGVkICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiBvT09Pb28wMCA9IHsgaWRfdHlwZSA6IHNob3dfaWQgfQogT28gLiBzZXRfd2F0Y2hlZCAoIHNlY3Rpb24gLCBvT09Pb28wMCAsIHNlYXNvbiAsIGVwaXNvZGUgLCB3YXRjaGVkICkKIGkxSWlJaTEgPSBpMThuICggJ3dhdGNoZWQnICkgaWYgd2F0Y2hlZCBlbHNlIGkxOG4gKCAndW53YXRjaGVkJyApCiBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICdtYXJrZWRfYXMnICkgJSAoIGkxSWlJaTEgKSAsIGR1cmF0aW9uID0gNTAwMCApCiBrb2RpIC4gcmVmcmVzaF9jb250YWluZXIgKCApCiBpZiAyMiAtIDIyOiBpaUkxaTEgKiBPMCAuIGkxMWkgLSBpMQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gVVJMX0VYSVNUUyAsIFsgJ3RyYWt0X2lkJyBdICkKZGVmIG8wT28wME9PMCAoIHRyYWt0X2lkICkgOgogdHJha3RfaWQgPSBzdHIgKCB0cmFrdF9pZCApCiBpMTFJaTExSUkxSTEgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnZXhpc3RzX2xpc3QnICkKIGlmIGkxMUlpMTFJSTFJMSA6CiAgSTFJSSA9IGkxMUlpMTFJSTFJMSAuIHNwbGl0ICggJ3wnICkKIGVsc2UgOgogIEkxSUkgPSBbIF0KICBpZiA0MSAtIDQxOiBPMCAqIE9vMG9PMG9vbyAtIGlpMUlpSTFpIC4gb08wbwogaWYgdHJha3RfaWQgaW4gSTFJSSA6CiAgSTFJSSAuIHJlbW92ZSAoIHRyYWt0X2lkICkKIGVsc2UgOgogIEkxSUkgLiBhcHBlbmQgKCB0cmFrdF9pZCApCiAgaWYgNjUgLSA2NTogbzAgLiBPb29vb29vb09PCiBpMTFJaTExSUkxSTEgPSAnfCcgLiBqb2luICggSTFJSSApCiBrb2RpIC4gc2V0X3NldHRpbmcgKCAnZXhpc3RzX2xpc3QnICwgaTExSWkxMUlJMUkxICkKIGtvZGkgLiByZWZyZXNoX2NvbnRhaW5lciAoICkKIGlmIDcwIC0gNzA6IG8wIC0gSWlpSUlJMTExaUkgLiBpSWlpMUkxMUkxSUkxICUgaWlJMWkxIC8gaWkxSWlJMWkgLSBPMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gVVBEQVRFX1NVQlMgKQpkZWYgbzBPMG9vMG8gKCApIDoKIG8wT08wMCAuIGxvZyAoICdVcGRhdGluZyBTdWJzY3JpcHRpb25zJyAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKIElJaWlpaSA9IGtvZGkgLiBnZXRfc2V0dGluZyAoIE1PREVTIC4gVVBEQVRFX1NVQlMgKyAnLW5vdGlmeScgKSA9PSAndHJ1ZScKIHdpdGgga29kaSAuIFByb2dyZXNzRGlhbG9nICgga29kaSAuIGdldF9uYW1lICggKSAsIGxpbmUxID0gaTE4biAoICd1cGRhdGluZ19zdWJzY3JpcHRpb25zJyApICwgYmFja2dyb3VuZCA9IFRydWUgLCBhY3RpdmUgPSBJSWlpaWkgKSBhcyBpSUkxaWlpIDoKICBJSTExaUkxaWlJICggU0VDVElPTlMgLiBUViAsIGlJSTFpaWkgKQogIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdpbmNsdWRlX21vdmllcycgKSA9PSAndHJ1ZScgOgogICBJSTExaUkxaWlJICggU0VDVElPTlMgLiBNT1ZJRVMgLCBpSUkxaWlpICkKICBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnbGlicmFyeS11cGRhdGUnICkgPT0gJ3RydWUnIDoKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggJ1VwZGF0ZUxpYnJhcnkodmlkZW8pJyApCiAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ2NsZWFudXAtc3Vic2NyaXB0aW9ucycgKSA9PSAndHJ1ZScgOgogICBJMWlpICggKQogICBpZiA4MCAtIDgwOiBJMTFpSWkxSSAvIGlJaWkxSTExSTFJSTEgJSBpaTFJaUkxaQogIE9PT28wMG9vMG9PID0gZGF0ZXRpbWUgLiBkYXRldGltZSAuIG5vdyAoICkKICBkYl9jb25uZWN0aW9uIC4gc2V0X3NldHRpbmcgKCAnJXMtbGFzdF9ydW4nICUgTU9ERVMgLiBVUERBVEVfU1VCUyAsIE9PT28wMG9vMG9PIC4gc3RyZnRpbWUgKCAiJVktJW0tJWQgJUg6JU06JVMuJWYiICkgKQogIGlmIDgwIC0gODA6IGkxICUgSUkxaQogIGlmIElJaWlpaSBhbmQga29kaSAuIGdldF9zZXR0aW5nICggJ2F1dG8tJyArIE1PREVTIC4gVVBEQVRFX1NVQlMgKSA9PSAndHJ1ZScgOgogICBrb2RpIC4gbm90aWZ5ICggbXNnID0gaTE4biAoICduZXh0X3VwZGF0ZScgKSAlICggZmxvYXQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCBNT0RFUyAuIFVQREFURV9TVUJTICsgJy1pbnRlcnZhbCcgKSApICkgLCBkdXJhdGlvbiA9IDUwMDAgKQoga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogaWYgOTkgLSA5OTogT28wb08wb29vIC8gaUlpaTFJMTFJMUlJMSAtIG9PMG8gKiBJMTFpSWkxSSAlIG9Pb29Pb08wT28wTwpkZWYgSUkxMWlJMWlpSSAoIHNlY3Rpb24gLCBkaWFsb2cgPSBOb25lICkgOgogT09vMDAwID0gdXRpbHMyIC4gZ2V0X3NlY3Rpb25fcGFyYW1zICggc2VjdGlvbiApCiBpaUlJMWkxMWkgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnJXNfc3ViX3NsdWcnICUgKCBzZWN0aW9uICkgKQogaWYgbm90IGlpSUkxaTExaSA6CiAgcmV0dXJuCiBlbGlmIGlpSUkxaTExaSA9PSB1dGlscyAuIFdBVENITElTVF9TTFVHIDoKICBJaUkxMTExMTFJSUlJID0gT28gLiBzaG93X3dhdGNobGlzdCAoIHNlY3Rpb24gKQogZWxzZSA6CiAgSWlJMTExMTExSUlJSSA9IE9vIC4gc2hvd19saXN0ICggaWlJSTFpMTFpICwgc2VjdGlvbiApCiAgaWYgMTMgLSAxMzogaTEKIE8wb28wTzAgPSBsZW4gKCBJaUkxMTExMTFJSUlJICkKIGZvciBvMDBvMCAsIG9PT09vbzAwIGluIGVudW1lcmF0ZSAoIElpSTExMTExMUlJSUkgKSA6CiAgaWlJSTExMWlJSUkxSWkgPSAoIG8wMG8wICsgMSApICogMTAwIC8gTzBvbzBPMAogIGlJMUlpaWlJaUkxSWkgPSByZSAuIHN1YiAoICdccytcKFxkezR9XCkkJyAsICcnICwgb09PT29vMDAgWyAndGl0bGUnIF0gKQogIGlmIDc4IC0gNzg6IE9vb29vb29vT08gLyBJaTExMTExaSAlIGlpMUlpSTFpICogT29vb29vb29PTwogIGRpYWxvZyAuIHVwZGF0ZSAoIGlpSUkxMTFpSUlJMUlpICwgJyVzICVzOiAlcyAoJXMpJyAlICggaTE4biAoICd1cGRhdGluZycgKSAsIHNlY3Rpb24gLCBpSTFJaWlpSWlJMUlpICwgb09PT29vMDAgWyAneWVhcicgXSApICkKICB0cnkgOgogICBvb09PMDBvMDAgKCBPT28wMDAgWyAndmlkZW9fdHlwZScgXSAsIG9PT09vbzAwIFsgJ3RpdGxlJyBdICwgb09PT29vMDAgWyAneWVhcicgXSAsIG9PT09vbzAwIFsgJ2lkcycgXSBbICd0cmFrdCcgXSApCiAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBPb08wTzAwTzBvbzBPIDoKICAgbzBPTzAwIC4gbG9nICggJ1N1YnNjcmlwdGlvbiBVcGRhdGUgRXhjZXB0aW9uOiB8JXN8JXN8JXN8JXN8IC0gJXMnICUgKCBPT28wMDAgWyAndmlkZW9fdHlwZScgXSAsIG9PT09vbzAwIFsgJ3RpdGxlJyBdICwgb09PT29vMDAgWyAneWVhcicgXSAsIG9PT09vbzAwIFsgJ2lkcycgXSBbICd0cmFrdCcgXSAsIE9vTzBPMDBPMG9vME8gKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgaWYgMTggLSAxODogaUlpaTFJMTFJMUlJMSArIGlpSTFpMSAqIG9Pb29Pb08wT28wTyAtIElpMTExMTFpIC8gb09vb09vTzBPbzBPCkAgSWlJSSAuIHJlZ2lzdGVyICggTU9ERVMgLiBDTEVBTl9TVUJTICkKZGVmIEkxaWkgKCApIDoKIGlpSUkxaTExaSA9IGtvZGkgLiBnZXRfc2V0dGluZyAoICdUVl9zdWJfc2x1ZycgKQogaWYgbm90IGlpSUkxaTExaSA6CiAgcmV0dXJuCiBlbGlmIGlpSUkxaTExaSA9PSB1dGlscyAuIFdBVENITElTVF9TTFVHIDoKICBJaUkxMTExMTFJSUlJID0gT28gLiBzaG93X3dhdGNobGlzdCAoIFNFQ1RJT05TIC4gVFYgKQogZWxzZSA6CiAgSWlJMTExMTExSUlJSSA9IE9vIC4gc2hvd19saXN0ICggaWlJSTFpMTFpICwgU0VDVElPTlMgLiBUViApCiAgaWYgNzggLSA3ODogaWlJMWkxIC4gbzAwb29vMAogaUkxaTFJSSA9IFsgXQogZm9yIG9PT09vbzAwIGluIElpSTExMTExMUlJSUkgOgogIGlpSWlJSUlpaUkgPSBPbyAuIGdldF9zaG93X2RldGFpbHMgKCBvT09Pb28wMCBbICdpZHMnIF0gWyAndHJha3QnIF0gKQogIGlmIGlpSWlJSUlpaUkgWyAnc3RhdHVzJyBdIC4gdXBwZXIgKCApIGluIFsgJ0VOREVEJyAsICdDQU5DRUxFRCcgLCAnQ0FOQ0VMTEVEJyBdIDoKICAgSTFpaTFpaTFJID0gdXRpbHMyIC4gc2hvd19pZCAoIG9PT09vbzAwICkKICAgaUkxaTFJSSAuIGFwcGVuZCAoIHsgSTFpaTFpaTFJIFsgJ2lkX3R5cGUnIF0gOiBJMWlpMWlpMUkgWyAnc2hvd19pZCcgXSB9ICkKICAgaWYgMTggLSAxODogSWlpSUlJMTExaUkgKiBJaWlJSUkxMTFpSSAlIElpaUlJSTExMWlJCiBpZiBpSTFpMUlJIDoKICBpZiBpaUlJMWkxMWkgPT0gdXRpbHMgLiBXQVRDSExJU1RfU0xVRyA6CiAgIE9vIC4gcmVtb3ZlX2Zyb21fd2F0Y2hsaXN0ICggU0VDVElPTlMgLiBUViAsIGlJMWkxSUkgKQogIGVsc2UgOgogICBPbyAuIHJlbW92ZV9mcm9tX2xpc3QgKCBTRUNUSU9OUyAuIFRWICwgaWlJSTFpMTFpICwgaUkxaTFJSSApCiAgIGlmIDE3IC0gMTc6IE8wICogaWkxSWlJMWkgKiBJMTFpSWkxSSAqIGkxMWkgKiBpaUkxaTEgJSBpMUlJaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUkVGUkVTSF9JTUFHRVMgLCBbICd2aWRlb190eXBlJyAsICdpZHMnIF0gLCBbICdzZWFzb24nICwgJ2VwaXNvZGUnIF0gKQpkZWYgSUlpSWkxaUkxaUlJICggdmlkZW9fdHlwZSAsIGlkcyAsIHNlYXNvbiA9ICcnICwgZXBpc29kZSA9ICcnICkgOgogaWRzID0ganNvbiAuIGxvYWRzICggaWRzICkKIE9vT28wMG8gPSBpbWFnZV9zY3JhcGVyIC4gZ2V0X2ltYWdlcyAoIHZpZGVvX3R5cGUgLCBpZHMgLCBzZWFzb24gLCBlcGlzb2RlICkKIHRyYW5zaXN0b3J0dl91dGlscyAuIGNsZWFyX3RodW1ibmFpbHMgKCBPb09vMDBvICkKIGltYWdlX3NjcmFwZXIgLiBjbGVhcl9jYWNoZSAoIHZpZGVvX3R5cGUgLCBpZHMgLCBzZWFzb24gLCBlcGlzb2RlICkKIGlmIDMwIC0gMzA6IGlpMUlpSTFpIC4gaWlJMWkxIC8gaWlJMWkxICogaTExaUlpaUlpaQogaW1hZ2Vfc2NyYXBlciAuIGdldF9pbWFnZXMgKCB2aWRlb190eXBlICwgaWRzICwgc2Vhc29uICwgZXBpc29kZSAsIGNhY2hlZCA9IEZhbHNlICkKIGtvZGkgLiByZWZyZXNoX2NvbnRhaW5lciAoICkKIGlmIDQ2IC0gNDY6IGkxICogbzAgJSBJaWlJSUkxMTFpSSArIE8wICogbzAwb29vMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gRkxVU0hfQ0FDSEUgKQpkZWYgaWkxSTExaSAoICkgOgogb29vbzAwMCA9IHhibWNndWkgLiBEaWFsb2cgKCApCiBPME9PTyA9IGkxOG4gKCAnZmx1c2hfY2FjaGVfbGluZTEnICkKIGlpMWkxaWlJID0gaTE4biAoICdmbHVzaF9jYWNoZV9saW5lMicgKQogT28wb09vMG9vT09PbyA9ICcnCiBPb08wMDAwbyA9IGkxOG4gKCAna2VlcCcgKQogbzBJaTEgPSBpMThuICggJ2RlbGV0ZScgKQogaWYgb29vbzAwMCAuIHllc25vICggaTE4biAoICdmbHVzaF93ZWJfY2FjaGUnICkgLCBPME9PTyAsIGlpMWkxaWlJICwgT28wb09vMG9vT09PbyAsIE9vTzAwMDBvICwgbzBJaTEgKSA6CiAgd2l0aCBrb2RpIC4gV29ya2luZ0RpYWxvZyAoICkgYXMgaTExMWkxMUkxaWkgOgogICBJSWkxSWlJSSA9IE5vbmUKICAgd2hpbGUgbm90IHhibWMgLiBhYm9ydFJlcXVlc3RlZCA6CiAgICBvMElJSUlpSTExSSA9IGRiX2Nvbm5lY3Rpb24gLiBwcnVuZV9jYWNoZSAoIHBydW5lX2FnZSA9IDAgKQogICAgaWYgSUlpMUlpSUkgaXMgTm9uZSA6IElJaTFJaUlJID0gbzBJSUlJaUkxMUkKICAgIGlmIG8wSUlJSWlJMTFJIDoKICAgICBpMTExaTExSTFpaSAuIHVwZGF0ZSAoIDEwMCAqICggSUlpMUlpSUkgLSBvMElJSUlpSTExSSApIC8gSUlpMUlpSUkgKQogICAgZWxzZSA6CiAgICAgaWYgMzEgLSAzMTogb08wbwogICAgIGkxMTFpMTFJMWlpIC4gdXBkYXRlICggMTAwICkKICAgICBkYl9jb25uZWN0aW9uIC4gZmx1c2hfY2FjaGUgKCApCiAgICAgYnJlYWsKICAgICBpZiAxOCAtIDE4OiBPbzBvTzBvb28gKyBvTzBvCiAga29kaSAuIHJlZnJlc2hfY29udGFpbmVyICggKQogIGlmIDUgLSA1OiBPb29vb29vb09PICsgaWlJMWkxICogaTExaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gRkxVU0hfSU1BR0VTICkKZGVmIE9Pb29vb29vb08gKCApIDoKIG9vb28wMDAgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogTzBPT08gPSBpMThuICggJ2ZsdXNoX2ltYWdlX2xpbmUxJyApCiBpaTFpMWlpSSA9IGkxOG4gKCAnZmx1c2hfaW1hZ2VfbGluZTInICkKIE9vMG9PbzBvb09PT28gPSAnJwogT29PMDAwMG8gPSBpMThuICggJ2tlZXAnICkKIG8wSWkxID0gaTE4biAoICdkZWxldGUnICkKIGlmIG9vb28wMDAgLiB5ZXNubyAoIGkxOG4gKCAnZmx1c2hfaW1hZ2VfY2FjaGUnICkgLCBPME9PTyAsIGlpMWkxaWlJICwgT28wb09vMG9vT09PbyAsIE9vTzAwMDBvICwgbzBJaTEgKSA6CiAgd2l0aCBrb2RpIC4gV29ya2luZ0RpYWxvZyAoICkgOgogICBkYl9jb25uZWN0aW9uIC4gZmx1c2hfaW1hZ2VfY2FjaGUgKCApCiAgIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBpMThuICggJ2ZsdXNoX2NvbXBsZXRlJyApICkKICAgaWYgNCAtIDQ6IG8wICsgT09vb09PbwpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUFJVTkVfQ0FDSEUgKQpkZWYgaUlJaUlpaTExaTFJaSAoICkgOgogT29PME8wMDAgPSB4Ym1jIC4gTW9uaXRvciAoICkKIHdoaWxlIG5vdCBPb08wTzAwMCAuIGFib3J0UmVxdWVzdGVkICggKSA6CiAgaWYgeGJtYyAuIGdldEluZm9MYWJlbCAoICdDb250YWluZXIuUGx1Z2luTmFtZScgKSAhPSBrb2RpIC4gZ2V0X2lkICggKSA6CiAgIGlmIG5vdCBkYl9jb25uZWN0aW9uIC4gcHJ1bmVfY2FjaGUgKCApIDoKICAgIE9PT28wMG9vMG9PID0gZGF0ZXRpbWUgLiBkYXRldGltZSAuIG5vdyAoICkgLiBzdHJmdGltZSAoICIlWS0lbS0lZCAlSDolTTolUy4lZiIgKQogICAgZGJfY29ubmVjdGlvbiAuIHNldF9zZXR0aW5nICggJyVzLWxhc3RfcnVuJyAlICggTU9ERVMgLiBQUlVORV9DQUNIRSApICwgT09PbzAwb28wb08gKQogICAgbzBPTzAwIC4gbG9nICggJ1BydW5lIENvbXBsZXRlZCBTdWNjZXNzZnVsbHkgQCAlcycgJSAoIE9PT28wMG9vMG9PICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICBicmVhawogIGVsc2UgOgogICBvME9PMDAgLiBsb2cgKCAndHJhbnNpc3RvcnR2IEFjdGl2ZS4uLiBCdXN5Li4uIFBvc3Rwb25pbmcgWyVzXScgJSAoIE1PREVTIC4gUFJVTkVfQ0FDSEUgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgaWYgT29PME8wMDAgLiB3YWl0Rm9yQWJvcnQgKCAzMDAwMCApIDoKICAgIGJyZWFrCiAgICBpZiAxNCAtIDE0OiBpMSAvIGkxICogTzAgLiBJaWlJSUkxMTFpSQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gUkVTRVRfREIgKQpkZWYgb29vT08wb09vb08wMCAoICkgOgogaWYgZGJfY29ubmVjdGlvbiAuIHJlc2V0X2RiICggKSA6CiAgaUlJaUkxMWkxSTExID0gaTE4biAoICdkYl9yZXNldF9zdWNjZXNzJyApCiBlbHNlIDoKICBpSUlpSTExaTFJMTEgPSBpMThuICggJ2RiX29uX3NxbGl0ZScgKQoga29kaSAuIG5vdGlmeSAoIG1zZyA9IGlJSWlJMTFpMUkxMSApCiBpZiAyOSAtIDI5OiBpMSAqIGlJaWkxSTExSTFJSTEgKiBPMCAtIGlpMUlpSTFpIC8gbzAwb29vMApAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gRVhQT1JUX0RCICkKZGVmIG8wb08wT08wMG9vT08gKCApIDoKIHRyeSA6CiAgT09Pb28wT08gPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogIElpSUlpaWkxMUlJMSA9IE9PT29vME9PIC4gYnJvd3NlICggMCAsIGkxOG4gKCAnc2VsZWN0X2V4cG9ydF9kaXInICkgLCAnZmlsZXMnICkgLiBlbmNvZGUgKCAndXRmLTgnICkKICBpZiBJaUlJaWlpMTFJSTEgOgogICBJaUlJaWlpMTFJSTEgPSBrb2RpIC4gdHJhbnNsYXRlX3BhdGggKCBJaUlJaWlpMTFJSTEgKQogICBpaWlpMWkxSUkxID0ga29kaSAuIGdldF9rZXlib2FyZCAoIGkxOG4gKCAnZW50ZXJfZXhwb3J0X25hbWUnICkgLCAnZXhwb3J0LmNzdicgKQogICBpZiBpaWlpMWkxSUkxIGlzIG5vdCBOb25lIDoKICAgIG9vT08wb29vMG8gPSBJaUlJaWlpMTFJSTEgKyBpaWlpMWkxSUkxCiAgICBkYl9jb25uZWN0aW9uIC4gZXhwb3J0X2Zyb21fZGIgKCBvb09PMG9vbzBvICkKICAgIGtvZGkgLiBub3RpZnkgKCBoZWFkZXIgPSBpMThuICggJ2V4cG9ydF9zdWNjZXNzZnVsJyApICwgbXNnID0gaTE4biAoICdleHBvcnRlZF90bycgKSAlICggb29PTzBvb28wbyApICwgZHVyYXRpb24gPSA1MDAwICkKIGV4Y2VwdCBFeGNlcHRpb24gYXMgT29PME8wME8wb28wTyA6CiAgbzBPTzAwIC4gbG9nICggJ0V4cG9ydCBGYWlsZWQ6ICVzJyAlICggT29PME8wME8wb28wTyApICwgbG9nX3V0aWxzIC4gTE9HRVJST1IgKQogIGtvZGkgLiBub3RpZnkgKCBoZWFkZXIgPSBpMThuICggJ2V4cG9ydCcgKSAsIG1zZyA9IGkxOG4gKCAnZXhwb3J0X2ZhaWxlZCcgKSApCiAgaWYgMTcgLSAxNzogbzAwICsgbzAKQCBJaUlJIC4gcmVnaXN0ZXIgKCBNT0RFUyAuIElNUE9SVF9EQiApCmRlZiBJSTFpaTFJMTExaTExICggKSA6CiB0cnkgOgogIE9PT29vME9PID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaUlJSUkxaWlpaSA9IE9PT29vME9PIC4gYnJvd3NlICggMSAsIGkxOG4gKCAnc2VsZWN0X2ltcG9ydF9maWxlJyApICwgJ2ZpbGVzJyApIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgaWYgSWlJSUlJMWlpaWkgOgogICBJaUlJSUkxaWlpaSA9IGtvZGkgLiB0cmFuc2xhdGVfcGF0aCAoIElpSUlJSTFpaWlpICkKICAgZGJfY29ubmVjdGlvbiAuIGltcG9ydF9pbnRvX2RiICggSWlJSUlJMWlpaWkgKQogICBrb2RpIC4gbm90aWZ5ICggaGVhZGVyID0gaTE4biAoICdpbXBvcnRfc3VjY2VzcycgKSAsIG1zZyA9IGkxOG4gKCAnaW1wb3J0ZWRfZnJvbScgKSAlICggSWlJSUlJMWlpaWkgKSApCiBleGNlcHQgRXhjZXB0aW9uIGFzIE9vTzBPMDBPMG9vME8gOgogIG8wT08wMCAuIGxvZyAoICdJbXBvcnQgRmFpbGVkOiAlcycgJSAoIE9vTzBPMDBPMG9vME8gKSAsIGxvZ191dGlscyAuIExPR0VSUk9SICkKICBrb2RpIC4gbm90aWZ5ICggaGVhZGVyID0gaTE4biAoICdpbXBvcnQnICkgLCBtc2cgPSBpMThuICggJ2ltcG9ydF9mYWlsZWQnICkgKQogIGlmIDkwIC0gOTA6IE9Pb29PT28gJSBJMTFpSWkxSSAtIGlJaWkxSTExSTFJSTEgJSBpaTFJaUkxaQpAIElpSUkgLiByZWdpc3RlciAoIE1PREVTIC4gQUREX1RPX0xJQlJBUlkgLCBbICd2aWRlb190eXBlJyAsICd0aXRsZScgLCAneWVhcicgLCAndHJha3RfaWQnIF0gKQpkZWYgSUlpSTExSTFJMWkxaSAoIHZpZGVvX3R5cGUgLCB0aXRsZSAsIHllYXIgLCB0cmFrdF9pZCApIDoKIHRyeSA6CiAgaWYgdmlkZW9fdHlwZSA9PSBWSURFT19UWVBFUyAuIE1PVklFIGFuZCB5ZWFyIDoKICAgSWlJSWlJSUlpSWlpID0gJyVzICglcyknICUgKCB0aXRsZSAsIHllYXIgKQogIGVsc2UgOgogICBJaUlJaUlJSWlJaWkgPSB0aXRsZQogIG9vT08wMG8wMCAoIHZpZGVvX3R5cGUgLCB0aXRsZSAsIHllYXIgLCB0cmFrdF9pZCApCiBleGNlcHQgRXhjZXB0aW9uIGFzIE9vTzBPMDBPMG9vME8gOgogIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBpMThuICggJ25vdF9hZGRlZF90b19saWInICkgJSAoIElpSUlpSUlJaUlpaSAsIE9vTzBPMDBPMG9vME8gKSAsIGR1cmF0aW9uID0gNTAwMCApCiAgcmV0dXJuCiAgaWYgODYgLSA4NjogaTFJSWkKIGtvZGkgLiBub3RpZnkgKCBtc2cgPSBpMThuICggJ2FkZGVkX3RvX2xpYicgKSAlICggSWlJSWlJSUlpSWlpICkgLCBkdXJhdGlvbiA9IDUwMDAgKQogaWYgMTMgLSAxMzogTzAKZGVmIG9vT08wMG8wMCAoIHZpZGVvX3R5cGUgLCB0aXRsZSAsIHllYXIgLCB0cmFrdF9pZCApIDoKIG8wT08wMCAuIGxvZyAoICdDcmVhdGluZyAuc3RybSBmb3IgfCVzfCVzfCVzfCVzfCcgJSAoIHZpZGVvX3R5cGUgLCB0aXRsZSAsIHllYXIgLCB0cmFrdF9pZCApICwgbG9nX3V0aWxzIC4gTE9HREVCVUcgKQogb08wTzAwb09Pb29vTyA9IGxvY2FsX3NjcmFwZXIgLiBTY3JhcGVyICggKQogTzBvME8gPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnZXhjbHVkZV9sb2NhbCcgKSA9PSAndHJ1ZScKIGlpMTExID0gaW50ICgga29kaSAuIGdldF9zZXR0aW5nICggJ2NyZWF0ZV9uZm8nICkgKQogaWYgOTMgLSA5MzogT29vb29vb29PTyAqIG8wCiBpZiB2aWRlb190eXBlID09IFZJREVPX1RZUEVTIC4gVFZTSE9XIDoKICBJMUlpSTFpSWlJaWlpID0ga29kaSAuIGdldF9zZXR0aW5nICggJ3R2c2hvdy1mb2xkZXInICkKICBJMUlpSTFpSWlJaWlpID0ga29kaSAuIHRyYW5zbGF0ZV9wYXRoICggSTFJaUkxaUlpSWlpaSApCiAgaWlJaUlJSWlpSSA9IE9vIC4gZ2V0X3Nob3dfZGV0YWlscyAoIHRyYWt0X2lkICkKICBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdID0gcmUgLiBzdWIgKCAnIFwoXGR7NH1cKSQnICwgJycgLCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICkKICBJMUlpSUlpID0gT28gLiBnZXRfc2Vhc29ucyAoIHRyYWt0X2lkICkKICBJMWlpSTFJSSA9IGtvZGkgLiBnZXRfc2V0dGluZyAoICdpbmNsdWRlX3Vua25vd24nICkgPT0gJ3RydWUnCiAgaWYgNDQgLSA0NDogbzAgLyBpMUlJaSArIGlJaWkxSTExSTFJSTEgLyBpSWlpMUkxMUkxSUkxICogaUlpaTFJMTFJMUlJMSAuIG9PMG8KICBpZiBub3QgSTFJaUlJaSA6CiAgIG8wT08wMCAuIGxvZyAoICdObyBTZWFzb25zIGZvdW5kIGZvciAlcyAoJXMpJyAlICggaWlJaUlJSWlpSSBbICd0aXRsZScgXSAsIGlpSWlJSUlpaUkgWyAneWVhcicgXSApICwgbG9nX3V0aWxzIC4gTE9HRVJST1IgKQogIGVsc2UgOgogICBpZiBpaTExMSA+IDAgOgogICAgT29paTFJSWkxaWkgPSBvbzAwICggSTFJaUkxaUlpSWlpaSAsIHZpZGVvX3R5cGUgLCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICwgaWlJaUlJSWlpSSBbICd5ZWFyJyBdICkKICAgIGlmICggKCBpaTExMSA9PSAxICkgYW5kICggaWlJaUlJSWlpSSBbICd0aXRsZScgXSBub3QgaW4gT29paTFJSWkxaWkgKSApIG9yIGlpMTExID09IDIgOgogICAgIG9vME9vT09vb08gKCBPb2lpMUlJaTFpaSAsIHZpZGVvX3R5cGUgLCBpaUlpSUlJaWlJIFsgJ2lkcycgXSApCiAgICAgaWYgNjAgLSA2MDogbzAwCiAgZm9yIElJSTFpMWlJMSBpbiBJMUlpSUlpIDoKICAgb09PMG8wMG8wT28wTyA9IElJSTFpMWlJMSBbICdudW1iZXInIF0KICAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ2luY2x1ZGVfc3BlY2lhbHMnICkgPT0gJ3RydWUnIG9yIG9PTzBvMDBvME9vME8gIT0gMCA6CiAgICBvb28wTyA9IE9vIC4gZ2V0X2VwaXNvZGVzICggdHJha3RfaWQgLCBvT08wbzAwbzBPbzBPICkKICAgIGZvciBpSSBpbiBvb28wTyA6CiAgICAgaUlJaTFpaUlJID0gaUkgWyAnbnVtYmVyJyBdCiAgICAgaWlPMG9Pb28gPSB1dGlsczIgLiBtYWtlX2Fpcl9kYXRlICggaUkgWyAnZmlyc3RfYWlyZWQnIF0gKQogICAgIGlmIE8wbzBPIDoKICAgICAgT29PT29PME8wb08gPSBvTzBPMDBvT09vb29PIC4gZ2V0X3VybCAoIFNjcmFwZXJWaWRlbyAoIFZJREVPX1RZUEVTIC4gRVBJU09ERSAsIHRpdGxlICwgeWVhciAsIHRyYWt0X2lkICwgb09PMG8wMG8wT28wTyAsIGlJSWkxaWlJSSAsIGlJIFsgJ3RpdGxlJyBdICwgaWlPMG9Pb28gKSApCiAgICAgIGlmIE9vT09vTzBPMG9PIGFuZCBPb09Pb08wTzBvTyAhPSBGT1JDRV9OT19NQVRDSCA6CiAgICAgICBjb250aW51ZQogICAgICAgaWYgOTIgLSA5MjogbzAgLyBpMTFpSWlpSWlpICsgSTExaUlpMUkKICAgICBpZiB1dGlsczIgLiBzaG93X3JlcXVpcmVzX3NvdXJjZSAoIHRyYWt0X2lkICkgOgogICAgICBvT28wT28wTzBPID0gVHJ1ZQogICAgIGVsc2UgOgogICAgICBpZiAoIGlJIFsgJ2ZpcnN0X2FpcmVkJyBdIGlzIG5vdCBOb25lIGFuZCB1dGlscyAuIGlzb18yX3V0YyAoIGlJIFsgJ2ZpcnN0X2FpcmVkJyBdICkgPD0gdGltZSAuIHRpbWUgKCApICkgb3IgKCBJMWlpSTFJSSBhbmQgaUkgWyAnZmlyc3RfYWlyZWQnIF0gaXMgTm9uZSApIDoKICAgICAgIG9PbzBPbzBPME8gPSBGYWxzZQogICAgICBlbHNlIDoKICAgICAgIGNvbnRpbnVlCiAgICAgICBpZiA0OCAtIDQ4OiBvMCAtIE9vMG9PMG9vbyArIG8wIC0gb09vb09vTzBPbzBPICogaTExaUlpaUlpaSAuIElJMWkKICAgICBJMWlJSUlpSSA9IHV0aWxzMiAuIGZpbGVuYW1lX2Zyb21fdGl0bGUgKCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICwgdmlkZW9fdHlwZSApICsgJy5zdHJtJwogICAgIEkxaUlJSWlJID0gSTFpSUlJaUkgJSAoICclMDJkJyAlIGludCAoIG9PTzBvMDBvME9vME8gKSAsICclMDJkJyAlIGludCAoIGlJSWkxaWlJSSApICkKICAgICBPb2lJMUkxID0gb3MgLiBwYXRoIC4gam9pbiAoIG9vMDAgKCBJMUlpSTFpSWlJaWlpICwgdmlkZW9fdHlwZSAsIGlpSWlJSUlpaUkgWyAndGl0bGUnIF0gLCBpaUlpSUlJaWlJIFsgJ3llYXInIF0gLCBzZWFzb24gPSBvT08wbzAwbzBPbzBPICkgLCBJMWlJSUlpSSApCiAgICAgSTFJSUkxaTFJID0ga29kaSAuIGdldF9wbHVnaW5fdXJsICggeyAnbW9kZScgOiBNT0RFUyAuIEdFVF9TT1VSQ0VTICwgJ3ZpZGVvX3R5cGUnIDogVklERU9fVFlQRVMgLiBFUElTT0RFICwgJ3RpdGxlJyA6IGlpSWlJSUlpaUkgWyAndGl0bGUnIF0gLCAneWVhcicgOiB5ZWFyICwgJ3NlYXNvbicgOiBvT08wbzAwbzBPbzBPICwKICdlcGlzb2RlJyA6IGlJSWkxaWlJSSAsICd0cmFrdF9pZCcgOiB0cmFrdF9pZCAsICdlcF90aXRsZScgOiBpSSBbICd0aXRsZScgXSAsICdlcF9haXJkYXRlJyA6IGlpTzBvT29vIH0gKQogICAgIE9PT09PMCAoIEkxSUlJMWkxSSAsIE9vaUkxSTEgLCBWSURFT19UWVBFUyAuIEVQSVNPREUgLCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICwgaWlJaUlJSWlpSSBbICd5ZWFyJyBdICwgdHJha3RfaWQgLCBvT08wbzAwbzBPbzBPICwgaUlJaTFpaUlJICwgcmVxdWlyZV9zb3VyY2UgPSBvT28wT28wTzBPICkKICAgICBpZiA3OSAtIDc5OiBpMTFpIC0gT28wb08wb29vIC4gaTFJSWkgKyBPMCAlIE8wICogb09vb09vTzBPbzBPCiBlbGlmIHZpZGVvX3R5cGUgPT0gVklERU9fVFlQRVMgLiBNT1ZJRSA6CiAgaWYgTzBvME8gOgogICBJaTFJaTFJID0gb08wTzAwb09Pb29vTyAuIGdldF91cmwgKCBTY3JhcGVyVmlkZW8gKCB2aWRlb190eXBlICwgdGl0bGUgLCB5ZWFyICwgdHJha3RfaWQgKSApCiAgIGlmIElpMUlpMUkgYW5kIElpMUlpMUkgIT0gRk9SQ0VfTk9fTUFUQ0ggOgogICAgcmFpc2UgRXhjZXB0aW9uICggaTE4biAoICdsb2NhbF9leGlzdHMnICkgKQogICAgaWYgNTQgLSA1NDogSWlpSUlJMTExaUkgKyBpaTFJaUkxaQogIEkxSWlJMWlJaUlpaWkgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnbW92aWUtZm9sZGVyJyApCiAgSTFJaUkxaUlpSWlpaSA9IGtvZGkgLiB0cmFuc2xhdGVfcGF0aCAoIEkxSWlJMWlJaUlpaWkgKQogIGlmIGlpMTExID4gMCA6CiAgIG8wTzAwTyA9IG9vMDAgKCBJMUlpSTFpSWlJaWlpICwgdmlkZW9fdHlwZSAsIHRpdGxlICwgeWVhciApCiAgIGlmICggKCBpaTExMSA9PSAxICkgYW5kICggdGl0bGUgbm90IGluIG8wTzAwTyApICkgb3IgaWkxMTEgPT0gMiA6CiAgICBPME9PT09Pb28gPSBPbyAuIGdldF9tb3ZpZV9kZXRhaWxzICggdHJha3RfaWQgKQogICAgb28wT29PT29vTyAoIG8wTzAwTyAsIHZpZGVvX3R5cGUgLCBPME9PT09Pb28gWyAnaWRzJyBdICkKICBJMUlJSTFpMUkgPSBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCB7ICdtb2RlJyA6IE1PREVTIC4gR0VUX1NPVVJDRVMgLCAndmlkZW9fdHlwZScgOiB2aWRlb190eXBlICwgJ3RpdGxlJyA6IHRpdGxlICwgJ3llYXInIDogeWVhciAsICd0cmFrdF9pZCcgOiB0cmFrdF9pZCB9ICkKICBJMWlJSUlpSSA9IHV0aWxzMiAuIGZpbGVuYW1lX2Zyb21fdGl0bGUgKCB0aXRsZSAsIFZJREVPX1RZUEVTIC4gTU9WSUUgLCB5ZWFyICkgKyAnLnN0cm0nCiAgT29pSTFJMSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBvbzAwICggSTFJaUkxaUlpSWlpaSAsIHZpZGVvX3R5cGUgLCB0aXRsZSAsIHllYXIgKSAsIEkxaUlJSWlJICkKICBPT09PTzAgKCBJMUlJSTFpMUkgLCBPb2lJMUkxICwgVklERU9fVFlQRVMgLiBNT1ZJRSAsIHRpdGxlICwgeWVhciAsIHRyYWt0X2lkICwgcmVxdWlyZV9zb3VyY2UgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAncmVxdWlyZV9zb3VyY2UnICkgPT0gJ3RydWUnICkKICBpZiA2OSAtIDY5OiBvT29vT29PME9vME8gKyBJSTFpCmRlZiBvbzAwICggYmFzZV9wYXRoICwgdmlkZW9fdHlwZSAsIHRpdGxlICwgeWVhciA9ICcnICwgc2Vhc29uID0gJycgKSA6CiBpMUlpSUkgPSByZSAuIHN1YiAoIHInW15cd1wtX1wuIF0nICwgJ18nICwgdGl0bGUgKQogaTFJaUlJID0gJyVzICglcyknICUgKCBpMUlpSUkgLCB5ZWFyICkgaWYgeWVhciBlbHNlIGkxSWlJSQogaUkxaWkxSWkgPSBvcyAuIHBhdGggLiBqb2luICggYmFzZV9wYXRoICwgaTFJaUlJICkKIGlmICggdmlkZW9fdHlwZSA9PSBWSURFT19UWVBFUyAuIFRWU0hPVyApIGFuZCBzZWFzb24gOgogIGlJMWlpMUlpID0gb3MgLiBwYXRoIC4gam9pbiAoIGlJMWlpMUlpICwgJ1NlYXNvbiAlcycgJSAoIHNlYXNvbiApICkKIHJldHVybiBpSTFpaTFJaQogaWYgMTIgLSAxMjogSUkxaSAvIGlpMUlpSTFpCmRlZiBvb29vbzBPbzAgKCB2aWRlb190eXBlICwgaWRzICkgOgogbzBJMUlJSWkxMWlpMTEgPSAnaHR0cDovL3RoZXR2ZGIuY29tLz90YWI9c2VyaWVzJmlkPSVzJwogTzBvMG9vMG9PTzBvTyA9ICdodHRwczovL3d3dy50aGVtb3ZpZWRiLm9yZy8lcy8lcycKIGlJaUlJSTFpSTExMTEgPSAnaHR0cDovL3d3dy5pbWRiLmNvbS90aXRsZS8lcy8nCiBpZiAzNyAtIDM3OiBpMTFpSWlpSWlpICUgSWlpSUlJMTExaUkgKiBJaTExMTExaSAqIElpMTExMTFpICogb08wbwogaWYgJ3R2ZGInIGluIGlkcyA6CiAgcmV0dXJuIG8wSTFJSUlpMTFpaTExICUgKCBzdHIgKCBpZHMgWyAndHZkYicgXSApICkKIGVsaWYgJ3RtZGInIGluIGlkcyA6CiAgaWYgdmlkZW9fdHlwZSA9PSBWSURFT19UWVBFUyAuIFRWU0hPVyA6CiAgIEkxSTFpID0gJ3R2JwogIGVsc2UgOgogICBJMUkxaSA9ICdtb3ZpZScKICByZXR1cm4gTzBvMG9vMG9PTzBvTyAlICggSTFJMWkgLCBzdHIgKCBpZHMgWyAndG1kYicgXSApICkKIGVsaWYgJ2ltZGInIGluIGlkcyA6CiAgcmV0dXJuIGlJaUlJSTFpSTExMTEgJSAoIHN0ciAoIGlkcyBbICdpbWRiJyBdICkgKQogZWxzZSA6CiAgcmV0dXJuICcnCiAgaWYgODcgLSA4NzogbzAwICsgT28wb08wb29vICsgTzAgLyBpMUlJaSAlIG8wMG9vbzAgLyBvMDAKZGVmIG9vME9vT09vb08gKCBwYXRoICwgdmlkZW9fdHlwZSAsIG1ldGFfaWRzICkgOgogT09vMDAwT08wMDAgPSBvb29vbzBPbzAgKCB2aWRlb190eXBlICwgbWV0YV9pZHMgKQogaWYgT09vMDAwT08wMDAgOgogIEkxaUlJSWlJID0gdmlkZW9fdHlwZSAuIGxvd2VyICggKSAuIHJlcGxhY2UgKCAnICcgLCAnJyApICsgJy5uZm8nCiAgcGF0aCA9IG9zIC4gcGF0aCAuIGpvaW4gKCBwYXRoICwgSTFpSUlJaUkgKQogIHBhdGggPSB4Ym1jIC4gbWFrZUxlZ2FsRmlsZW5hbWUgKCBwYXRoICkKICBpZiBub3QgeGJtY3ZmcyAuIGV4aXN0cyAoIG9zIC4gcGF0aCAuIGRpcm5hbWUgKCBwYXRoICkgKSA6CiAgIHRyeSA6CiAgICB0cnkgOiB4Ym1jdmZzIC4gbWtkaXJzICggb3MgLiBwYXRoIC4gZGlybmFtZSAoIHBhdGggKSApCiAgICBleGNlcHQgOiBvcyAuIG1ha2VkaXJzICggb3MgLiBwYXRoIC4gZGlybmFtZSAoIHBhdGggKSApCiAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgT29PME8wME8wb28wTyA6CiAgICBvME9PMDAgLiBsb2cgKCAnRmFpbGVkIHRvIGNyZWF0ZSBkaXJlY3RvcnkgJXM6ICVzJyAlICggcGF0aCAsIHN0ciAoIE9vTzBPMDBPMG9vME8gKSApICwgbG9nX3V0aWxzIC4gTE9HRVJST1IgKQogICAgaWYgODMgLSA4MzogT09vb09PbyAlIElpaUlJSTExMWlJICsgaWlJMWkxICUgaTExaUlpaUlpaSArIE8wCiAgIE9vT09vb29PMDAwID0gJycKICAgdHJ5IDoKICAgIE9vTzBvMDAwb09vID0geGJtY3ZmcyAuIEZpbGUgKCBwYXRoICwgJ3InICkKICAgIE9vT09vb29PMDAwID0gT29PMG8wMDBvT28gLiByZWFkICggKQogICAgT29PMG8wMDBvT28gLiBjbG9zZSAoICkKICAgZXhjZXB0IDogcGFzcwogICBpZiA4OCAtIDg4OiBpMUlJaSAqIG8wMCAqIElpaUlJSTExMWlJIC0gT28wb08wb29vICogaWlJMWkxIC8gT29vb29vb29PTwogICBpZiBPT28wMDBPTzAwMCAhPSBPb09Pb29vTzAwMCA6CiAgICB0cnkgOgogICAgIG8wT08wMCAuIGxvZyAoICdXcml0aW5nIG5mbzogJXMnICUgT09vMDAwT08wMDAgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICAgaWlJMWkgPSB4Ym1jdmZzIC4gRmlsZSAoIHBhdGggLCAndycgKQogICAgIGlpSTFpIC4gd3JpdGUgKCBPT28wMDBPTzAwMCApCiAgICAgaWlJMWkgLiBjbG9zZSAoICkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgT29PME8wME8wb28wTyA6CiAgICAgbzBPTzAwIC4gbG9nICggJ0ZhaWxlZCB0byBjcmVhdGUgLm5mbyBmaWxlICglcyk6ICVzJyAlICggcGF0aCAsIE9vTzBPMDBPMG9vME8gKSAsIGxvZ191dGlscyAuIExPR0VSUk9SICkKICAgICBpZiA3MiAtIDcyOiBpaTFJaUkxaSAqIGlJaWkxSTExSTFJSTEgJSBpaUkxaTEKZGVmIE9PT09PMCAoIHN0cmVhbSAsIHBhdGggLCB2aWRlb190eXBlICwgdGl0bGUgLCB5ZWFyICwgdHJha3RfaWQgLCBzZWFzb24gPSAnJyAsIGVwaXNvZGUgPSAnJyAsIHJlcXVpcmVfc291cmNlID0gRmFsc2UgKSA6CiBwYXRoID0geGJtYyAuIG1ha2VMZWdhbEZpbGVuYW1lICggcGF0aCApCiBpZiBub3QgeGJtY3ZmcyAuIGV4aXN0cyAoIG9zIC4gcGF0aCAuIGRpcm5hbWUgKCBwYXRoICkgKSA6CiAgdHJ5IDoKICAgdHJ5IDogeGJtY3ZmcyAuIG1rZGlycyAoIG9zIC4gcGF0aCAuIGRpcm5hbWUgKCBwYXRoICkgKQogICBleGNlcHQgOiBvcyAuIG1ha2VkaXJzICggb3MgLiBwYXRoIC4gZGlybmFtZSAoIHBhdGggKSApCiAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBPb08wTzAwTzBvbzBPIDoKICAgbzBPTzAwIC4gbG9nICggJ0ZhaWxlZCB0byBjcmVhdGUgZGlyZWN0b3J5ICVzOiAlcycgJSAoIHBhdGggLCBzdHIgKCBPb08wTzAwTzBvbzBPICkgKSAsIGxvZ191dGlscyAuIExPR0VSUk9SICkKICAgaWYgMjAgLSAyMDogaTExaSAlIGlJaWkxSTExSTFJSTEgKyBJaWlJSUkxMTFpSSAqIGkxMWkgKiBpMSAlIGkxCiB0cnkgOgogIE9vTzBvMDAwb09vID0geGJtY3ZmcyAuIEZpbGUgKCBwYXRoICwgJ3InICkKICBpSTFJMSA9IE9vTzBvMDAwb09vIC4gcmVhZCAoICkKICBPb08wbzAwMG9PbyAuIGNsb3NlICggKQogZXhjZXB0IDoKICBpSTFJMSA9ICcnCiAgaWYgNDYgLSA0NjogaUlpaTFJMTFJMUlJMQogIGlmIDMzIC0gMzM6IGlpSTFpMSAlIGlpSTFpMSAlIE8wIC8gb09vb09vTzBPbzBPIC4gaTFJSWkKICBpZiA5MSAtIDkxOiBPbzBvTzBvb28gKiBpaUkxaTEgLSBpMTFpIC4gb09vb09vTzBPbzBPIC0gbzAgKyBPbzBvTzBvb28KIGlmIHN0cmVhbSAhPSBpSTFJMSA6CiAgdHJ5IDoKICAgaWYgbm90IHJlcXVpcmVfc291cmNlIG9yIHRyYW5zaXN0b3J0dl91dGlscyAuIHVybF9leGlzdHMgKCBTY3JhcGVyVmlkZW8gKCB2aWRlb190eXBlICwgdGl0bGUgLCB5ZWFyICwgdHJha3RfaWQgLCBzZWFzb24gLCBlcGlzb2RlICkgKSA6CiAgICBvME9PMDAgLiBsb2cgKCAnV3JpdGluZyBzdHJtOiAlcycgJSBzdHJlYW0gLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICBpaUkxaSA9IHhibWN2ZnMgLiBGaWxlICggcGF0aCAsICd3JyApCiAgICBpaUkxaSAuIHdyaXRlICggc3RyZWFtICkKICAgIGlpSTFpIC4gY2xvc2UgKCApCiAgIGVsc2UgOgogICAgbzBPTzAwIC4gbG9nICggJ05vIHN0cm0gd3JpdHRlbiBmb3IgfCVzfCVzfCVzfCVzfCVzfCcgJSAoIHZpZGVvX3R5cGUgLCB0aXRsZSAsIHllYXIgLCBzZWFzb24gLCBlcGlzb2RlICkgLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICBleGNlcHQgRXhjZXB0aW9uIGFzIE9vTzBPMDBPMG9vME8gOgogICBvME9PMDAgLiBsb2cgKCAnRmFpbGVkIHRvIGNyZWF0ZSAuc3RybSBmaWxlICglcyk6ICVzJyAlICggcGF0aCAsIE9vTzBPMDBPMG9vME8gKSAsIGxvZ191dGlscyAuIExPR0VSUk9SICkKICAgaWYgNTYgLSA1NjogT09vb09PbyAvIG8wMG9vbzAgKiBvT29vT29PME9vME8gLiBPT29vT09vCmRlZiBPb09vMDBvME9PICggc2x1ZyAsIHBpY2tfbGFiZWwgLCBwaWNrX21vZGUgLCBzZWN0aW9uICkgOgogaWYgbm90IHNsdWcgOgogIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHsgJ21vZGUnIDogcGlja19tb2RlICwgJ3NlY3Rpb24nIDogc2VjdGlvbiB9ICwgcGlja19sYWJlbCAsIGlzX2ZvbGRlciA9IEZhbHNlICwgaXNfcGxheWFibGUgPSBGYWxzZSApCiAga29kaSAuIHNldF9jb250ZW50ICggQ09OVEVOVF9UWVBFUyAuIEFERE9OUyApCiAga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBlbHNlIDoKICBJMUlJICggc2VjdGlvbiAsIHNsdWcgKQogIGlmIDE1IC0gMTU6IGkxMWlJaWlJaWkKZGVmIE9Pb08wMDBPME9PICggc2VjdGlvbiAsIGxpc3RfZGF0YSAsIHNsdWcgPSBOb25lICwgcXVlcnkgPSBOb25lICwgcGFnZSA9IE5vbmUgKSA6CiBPT28wMDAgPSB1dGlsczIgLiBnZXRfc2VjdGlvbl9wYXJhbXMgKCBzZWN0aW9uICkKIEkxMWkxSTFpaTFpMSA9IHsgfQogb08wb29vb28wTzAwID0geyB9CiBpZiBpSTEgOgogIGZvciBvT09Pb28wMCBpbiBPbyAuIGdldF93YXRjaGVkICggc2VjdGlvbiApIDoKICAgaWYgc2VjdGlvbiA9PSBTRUNUSU9OUyAuIE1PVklFUyA6CiAgICBJMTFpMUkxaWkxaTEgWyBvT09Pb28wMCBbICdtb3ZpZScgXSBbICdpZHMnIF0gWyAndHJha3QnIF0gXSA9IG9PT09vbzAwIFsgJ3BsYXlzJyBdID4gMAogICBlbHNlIDoKICAgIEkxMWkxSTFpaTFpMSBbIG9PT09vbzAwIFsgJ3Nob3cnIF0gWyAnaWRzJyBdIFsgJ3RyYWt0JyBdIF0gPSBsZW4gKCBbIE9vTzBPMDBPMG9vME8gZm9yIElJaWlJIGluIG9PT09vbzAwIFsgJ3NlYXNvbnMnIF0gaWYgSUlpaUkgWyAnbnVtYmVyJyBdICE9IDAgZm9yIE9vTzBPMDBPMG9vME8gaW4gSUlpaUkgWyAnZXBpc29kZXMnIF0gXSApCiAgICBpZiA1IC0gNTogaWkxSWlJMWkgJSBJSTFpICsgbzAwb29vMAogIGlmIHNsdWcgPT0gQ09MTEVDVElPTl9TTFVHIDoKICAgb08wb29vb28wTzAwID0gZGljdCAuIGZyb21rZXlzICggWyBpaUlpSUlJaWlJIFsgJ2lkcycgXSBbICd0cmFrdCcgXSBmb3IgaWlJaUlJSWlpSSBpbiBsaXN0X2RhdGEgXSAsIFRydWUgKQogIGVsc2UgOgogICBpaWlJaTFJSTFJSUkgPSBPbyAuIGdldF9jb2xsZWN0aW9uICggc2VjdGlvbiAsIGZ1bGwgPSBGYWxzZSApCiAgIG9PMG9vb29vME8wMCA9IGRpY3QgLiBmcm9ta2V5cyAoIFsgaWlJaUlJSWlpSSBbICdpZHMnIF0gWyAndHJha3QnIF0gZm9yIGlpSWlJSUlpaUkgaW4gaWlpSWkxSUkxSUlJIF0gLCBUcnVlICkKICAgaWYgOCAtIDg6IG8wMG9vbzAgJSBJaTExMTExaSAuIG8wICUgT28wb08wb29vIC0gSUkxaQogb29vME8wbzAwTyA9IGxlbiAoIGxpc3RfZGF0YSApCiBmb3IgaWlJaUlJSWlpSSBpbiBsaXN0X2RhdGEgOgogIElJMTFpaWlpMUlpID0gWyBdCiAgSTFpaTFpaTFJID0gdXRpbHMyIC4gc2hvd19pZCAoIGlpSWlJSUlpaUkgKQogIEkxMWkxSUkgPSBpaUlpSUlJaWlJIFsgJ2lkcycgXSBbICd0cmFrdCcgXQogIGlmIHNsdWcgYW5kIHNsdWcgIT0gQ09MTEVDVElPTl9TTFVHIDoKICAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBSRU1fRlJPTV9MSVNUICwgJ3NsdWcnIDogc2x1ZyAsICdzZWN0aW9uJyA6IHNlY3Rpb24gfQogICBpaTFJIC4gdXBkYXRlICggSTFpaTFpaTFJICkKICAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAncmVtb3ZlX2Zyb21fbGlzdCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICAgaWYgMTYgLSAxNjogSUkxaQogIG9PbzBPMG8wMDBPb28gPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnJXNfc3ViX3NsdWcnICUgKCBzZWN0aW9uICkgKQogIGlmIGlJMSBhbmQgb09vME8wbzAwME9vbyA6CiAgIGlmIG9PbzBPMG8wMDBPb28gIT0gc2x1ZyA6CiAgICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIEFERF9UT19MSVNUICwgJ3NlY3Rpb24nIDogT09vMDAwIFsgJ3NlY3Rpb24nIF0gLCAnc2x1ZycgOiBvT28wTzBvMDAwT29vIH0KICAgIGlpMUkgLiB1cGRhdGUgKCBJMWlpMWlpMUkgKQogICAgSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc3Vic2NyaWJlJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogICBlbGlmIHNlY3Rpb24gPT0gU0VDVElPTlMgLiBUViA6CiAgICBpZiB1dGlsczIgLiBzaG93X3JlcXVpcmVzX3NvdXJjZSAoIEkxMWkxSUkgKSA6CiAgICAgaUlpMWlpMUkxID0gaTE4biAoICdyZXF1aXJlX2FpcmVkX29ubHknICkKICAgIGVsc2UgOgogICAgIGlJaTFpaTFJMSA9IGkxOG4gKCAncmVxdWlyZV9wYWdlX29ubHknICkKICAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gVVJMX0VYSVNUUyAsICd0cmFrdF9pZCcgOiBJMTFpMUlJIH0KICAgIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpSWkxaWkxSTEgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgICBpZiA2NSAtIDY1OiBPMCAuIE9vMG9PMG9vbwogIGlmIHNlY3Rpb24gPT0gU0VDVElPTlMgLiBNT1ZJRVMgOgogICBpaUlpSUlJaWlJIFsgJ3dhdGNoZWQnIF0gPSBJMTFpMUkxaWkxaTEgLiBnZXQgKCBJMTFpMUlJICwgRmFsc2UgKQogIGVsc2UgOgogICB0cnkgOgogICAgbzBPTzAwIC4gbG9nICggJyVzLyVzOiBXYXRjaGVkOiAlcyAtIEFpcmVkOiAlcycgJSAoIEkxMWkxSUkgLCBpaUlpSUlJaWlJIFsgJ2lkcycgXSBbICdzbHVnJyBdICwgSTExaTFJMWlpMWkxIC4gZ2V0ICggSTExaTFJSSAsICdOYU4nICkgLCBpaUlpSUlJaWlJIFsgJ2FpcmVkX2VwaXNvZGVzJyBdICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiAgICBpaUlpSUlJaWlJIFsgJ3dhdGNoZWQnIF0gPSBJMTFpMUkxaWkxaTEgWyBJMTFpMUlJIF0gPj0gaWlJaUlJSWlpSSBbICdhaXJlZF9lcGlzb2RlcycgXQogICAgaWlJaUlJSWlpSSBbICd3YXRjaGVkX2NvdW50JyBdID0gSTExaTFJMWlpMWkxIFsgSTExaTFJSSBdCiAgIGV4Y2VwdCA6IGlpSWlJSUlpaUkgWyAnd2F0Y2hlZCcgXSA9IEZhbHNlCiAgIGlmIDM5IC0gMzk6IE9vMG9PMG9vbyAvIE8wICogbzAwb29vMAogIGlpSWlJSUlpaUkgWyAnaW5fY29sbGVjdGlvbicgXSA9IG9PMG9vb29vME8wMCAuIGdldCAoIEkxMWkxSUkgLCBGYWxzZSApCiAgaWYgMTcgLSAxNzogb08wbyAvIGlJaWkxSTExSTFJSTEgLSBpMSArIG9Pb29Pb08wT28wTyAlIElpMTExMTFpCiAgTzBvME9vICwgT28wME9PT09PID0gTzBPTzAwbzBPTyAoIE9PbzAwMCAsIGlpSWlJSUlpaUkgLCBJSTExaWlpaTFJaSApCiAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBPbzAwT09PT08gLCBPMG8wT28gLCBpc0ZvbGRlciA9IE9PbzAwMCBbICdmb2xkZXInIF0gLCB0b3RhbEl0ZW1zID0gb29vME8wbzAwTyApCiAgaWYgMTQgLSAxNDogT09vb09PbyAlIG8wMG9vbzAgKyBJMTFpSWkxSSArIGkxCiBpZiBxdWVyeSBhbmQgcGFnZSBhbmQgb29vME8wbzAwTyA+PSBpbnQgKCBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnbGlzdF9zaXplJyApICkgOgogIHF1ZXJ5IFsgJ3BhZ2UnIF0gPSBpbnQgKCBwYWdlICkgKyAxCiAgaUlpMWlpMUkxID0gJyVzID4+JyAlICggaTE4biAoICduZXh0X3BhZ2UnICkgKQogIGtvZGkgLiBjcmVhdGVfaXRlbSAoIHF1ZXJ5ICwgaUlpMWlpMUkxICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbmV4dHBhZ2UucG5nJyApICwgZmFuYXJ0ID0gdXRpbHMyIC4gYXJ0ICggJ2ZhbmFydC5qcGcnICkgLCBpc19mb2xkZXIgPSBUcnVlICkKICBpZiA3NiAtIDc2OiBpMSAtIGkxMWlJaWlJaWkgKyBpaTFJaUkxaSArIElpMTExMTFpIC8gT29vb29vb29PTwoga29kaSAuIHNldF92aWV3ICggT09vMDAwIFsgJ2NvbnRlbnRfdHlwZScgXSAsIFRydWUgKQoga29kaSAuIGVuZF9vZl9kaXJlY3RvcnkgKCApCiBpZiA1MCAtIDUwOiBpMTFpIC0gbzAwICsgaUlpaTFJMTFJMUlJMSArIGlJaWkxSTExSTFJSTEKZGVmIElpaWlJaWlpMTEgKCBtb2RlICwgc3RhcnRfZGF0ZSAsIGRheXMgKSA6CiBzdGFydF9kYXRlID0gdXRpbHMyIC4gdG9fZGF0ZXRpbWUgKCBzdGFydF9kYXRlICwgJyVZLSVtLSVkJyApCiBPb29vb29PbyA9IHN0YXJ0X2RhdGUgLSBkYXRldGltZSAuIHRpbWVkZWx0YSAoIGRheXMgPSA3ICkKIE9vb09vID0gc3RhcnRfZGF0ZSArIGRhdGV0aW1lIC4gdGltZWRlbHRhICggZGF5cyA9IDcgKQogb09vMCA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBzdHJmdGltZSAoIE9vb29vb09vICwgJyVZLSVtLSVkJyApCiBJMUlpMTFpID0gZGF0ZXRpbWUgLiBkYXRldGltZSAuIHN0cmZ0aW1lICggT29vT28gLCAnJVktJW0tJWQnICkKIGlmIDE5IC0gMTk6IG8wMG9vbzAgLSBPT29vT09vIC4gaUlpaTFJMTFJMUlJMSAuIGlpMUlpSTFpIC8gSWkxMTExMWkKIGlJaTFpaTFJMSA9ICc8PCAlcycgJSAoIGkxOG4gKCAncHJldmlvdXNfd2VlaycgKSApCiBrb2RpIC4gY3JlYXRlX2l0ZW0gKCB7ICdtb2RlJyA6IG1vZGUgLCAnc3RhcnRfZGF0ZScgOiBvT28wIH0gLCBpSWkxaWkxSTEgLCB0aHVtYiA9IHV0aWxzMiAuIGFydCAoICdwcmV2aW91cy5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IFRydWUgKQogaWYgODcgLSA4NzogaWkxSWlJMWkgLSBPbzBvTzBvb28gLSBJaTExMTExaSArIG8wICUgaUlpaTFJMTFJMUlJMSAvIGkxMWlJaWlJaWkKIEkxMWkxSTFpaTFpMSA9IHsgfQogaWYgaUkxIDoKICBpMWlJSUlJMWlpSUlpID0gT28gLiBnZXRfd2F0Y2hlZCAoIFNFQ1RJT05TIC4gVFYgKQogIGZvciBvT09Pb28wMCBpbiBpMWlJSUlJMWlpSUlpIDoKICAgSTExaTFJSSA9IG9PT09vbzAwIFsgJ3Nob3cnIF0gWyAnaWRzJyBdIFsgJ3RyYWt0JyBdCiAgIEkxMWkxSTFpaTFpMSBbIEkxMWkxSUkgXSA9IHsgfQogICBmb3IgSUlJMWkxaUkxIGluIG9PT09vbzAwIFsgJ3NlYXNvbnMnIF0gOgogICAgSTExaTFJMWlpMWkxIFsgSTExaTFJSSBdIFsgSUlJMWkxaUkxIFsgJ251bWJlcicgXSBdID0geyB9CiAgICBmb3IgaUkgaW4gSUlJMWkxaUkxIFsgJ2VwaXNvZGVzJyBdIDoKICAgICBJMTFpMUkxaWkxaTEgWyBJMTFpMUlJIF0gWyBJSUkxaTFpSTEgWyAnbnVtYmVyJyBdIF0gWyBpSSBbICdudW1iZXInIF0gXSA9IFRydWUKICAgICBpZiAxNyAtIDE3OiBpaUkxaTEKIE9vbzBvT29vbzAgPSBsZW4gKCBkYXlzICkKIGZvciBvT09Pb28wMCBpbiBkYXlzIDoKICBpSSA9IG9PT09vbzAwIFsgJ2VwaXNvZGUnIF0KICBpaUlpSUlJaWlJID0gb09PT29vMDAgWyAnc2hvdycgXQogIG9Pb08wb29PMDAwMCA9IHV0aWxzIC4gaXNvXzJfdXRjICggaUkgWyAnZmlyc3RfYWlyZWQnIF0gKQogIE9PT09PID0gZGF0ZXRpbWUgLiBkYXRlIC4gZnJvbXRpbWVzdGFtcCAoIG9Pb08wb29PMDAwMCApCiAgaWYgNjggLSA2ODogaWlJMWkxICsgaTEgLSBPMCAvIGkxICogaWkxSWlJMWkKICB0cnkgOiBpSSBbICd3YXRjaGVkJyBdID0gSTExaTFJMWlpMWkxIFsgaWlJaUlJSWlpSSBbICdpZHMnIF0gWyAndHJha3QnIF0gXSBbIGlJIFsgJ3NlYXNvbicgXSBdIFsgaUkgWyAnbnVtYmVyJyBdIF0KICBleGNlcHQgOiBpSSBbICd3YXRjaGVkJyBdID0gRmFsc2UKICBpZiA1MCAtIDUwOiBJaTExMTExaSArIGkxMWkgLiBvT29vT29PME9vME8gLyBpMUlJaSAvIG9Pb29Pb08wT28wTyAqIElpaUlJSTExMWlJCiAgaWYgT09PT08gPCBzdGFydF9kYXRlIC4gZGF0ZSAoICkgOgogICBvME9PMDAgLiBsb2cgKCAnU2tpcHBpbmcgc2hvdyBkYXRlIHwlc3wgYmVmb3JlIHN0YXJ0OiB8JXN8JyAlICggT09PT08gLCBzdGFydF9kYXRlIC4gZGF0ZSAoICkgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgY29udGludWUKICBlbGlmIE9PT09PID49IE9vb09vIC4gZGF0ZSAoICkgOgogICBvME9PMDAgLiBsb2cgKCAnU3RvcHBpbmcgYmVjYXVzZSBzaG93IGRhdGUgfCVzfCA+PSBlbmQ6IHwlc3wnICUgKCBPT09PTyAsIE9vb09vIC4gZGF0ZSAoICkgKSAsIGxvZ191dGlscyAuIExPR0RFQlVHICkKICAgYnJlYWsKICAgaWYgODUgLSA4NTogaTExaSAuIE9vMG9PMG9vbyAlIElpMTExMTFpICUgaWlJMWkxCiAgT09Pb08wMDAgPSB1dGlsczIgLiBtYWtlX2RheSAoIGRhdGV0aW1lIC4gZGF0ZSAuIGZyb210aW1lc3RhbXAgKCBvT29PMG9vTzAwMDAgKSAuIGlzb2Zvcm1hdCAoICkgKQogIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdjYWxlbmRhcl90aW1lJyApICE9ICcwJyA6CiAgIG9PT09PID0gJyVzQCVzJyAlICggT09Pb08wMDAgLCB1dGlsczIgLiBtYWtlX3RpbWUgKCBvT29PMG9vTzAwMDAgLCAnY2FsZW5kYXJfdGltZScgKSApCiAgZWxzZSA6CiAgIG9PT09PID0gT09Pb08wMDAKICAgaWYgODAgLSA4MDogSWlpSUlJMTExaUkgKiBpaUkxaTEgLyBpSWlpMUkxMUkxSUkxICUgSWlpSUlJMTExaUkgLyBpSWlpMUkxMUkxSUkxCiAgSUkxMWlpaWkxSWkgPSBbIF0KICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFQVNPTlMgLCAndHJha3RfaWQnIDogaWlJaUlJSWlpSSBbICdpZHMnIF0gWyAndHJha3QnIF0gLCAndGl0bGUnIDogaWlJaUlJSWlpSSBbICd0aXRsZScgXSAsICd5ZWFyJyA6IGlpSWlJSUlpaUkgWyAneWVhcicgXSAsICd0dmRiX2lkJyA6IGlpSWlJSUlpaUkgWyAnaWRzJyBdIFsgJ3R2ZGInIF0gfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ2Jyb3dzZV9zZWFzb25zJyApICwgJ0NvbnRhaW5lci5VcGRhdGUoJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICBpZiA0MiAtIDQyOiBpMUlJaSAvIGkxMWlJaWlJaWkgLiBvMCAqIElJMWkgLiBpMTFpSWlpSWlpICogTzAKICBPMG8wT28gLCBPbzAwT09PT08gPSBJMTFpMSAoIGlpSWlJSUlpaUkgLCBpSSAsIHNob3dfc3VicyA9IEZhbHNlICwgbWVudV9pdGVtcyA9IElJMTFpaWlpMUlpICkKICBpSWkxaWkxSTEgPSBPMG8wT28gLiBnZXRMYWJlbCAoICkKICBpSWkxaWkxSTEgPSAnW1tDT0xPUiBkZWVwcGlua10lc1svQ09MT1JdXSAlcyAtICVzJyAlICggb09PT08gLCBpaUlpSUlJaWlJIFsgJ3RpdGxlJyBdICwgaUlpMWlpMUkxICkKICBpZiBpSSBbICdzZWFzb24nIF0gPT0gMSBhbmQgaUkgWyAnbnVtYmVyJyBdID09IDEgOgogICBpSWkxaWkxSTEgPSAnW0NPTE9SIGdyZWVuXSVzWy9DT0xPUl0nICUgKCBpSWkxaWkxSTEgKQogIE8wbzBPbyAuIHNldExhYmVsICggaUlpMWlpMUkxICkKICB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsIE9vMDBPT09PTyAsIE8wbzBPbyAsIGlzRm9sZGVyID0gRmFsc2UgLCB0b3RhbEl0ZW1zID0gT29vMG9Pb29vMCApCiAgaWYgNDQgLSA0NDogaTFJSWkgLiBvT29vT29PME9vME8gLyBpMTFpSWlpSWlpICsgbzAwb29vMAogaUlpMWlpMUkxID0gJyVzID4+JyAlICggaTE4biAoICduZXh0X3dlZWsnICkgKQoga29kaSAuIGNyZWF0ZV9pdGVtICggeyAnbW9kZScgOiBtb2RlICwgJ3N0YXJ0X2RhdGUnIDogSTFJaTExaSB9ICwgaUlpMWlpMUkxICwgdGh1bWIgPSB1dGlsczIgLiBhcnQgKCAnbmV4dC5wbmcnICkgLCBmYW5hcnQgPSB1dGlsczIgLiBhcnQgKCAnZmFuYXJ0LmpwZycgKSAsIGlzX2ZvbGRlciA9IFRydWUgKQoga29kaSAuIHNldF9jb250ZW50ICggQ09OVEVOVF9UWVBFUyAuIEVQSVNPREVTICkKIGtvZGkgLiBlbmRfb2ZfZGlyZWN0b3J5ICggKQogaWYgMjcgLSAyNzogSWkxMTExMWkKZGVmIG9PTzAwb08wME8wT08gKCBzZWFzb24gLCBpbmZvICwgdHJha3RfaWQgLCB0aXRsZSAsIHllYXIgLCB0dmRiX2lkICkgOgogaUlpMWlpMUkxID0gJyVzICVzJyAlICggaTE4biAoICdzZWFzb24nICkgLCBzZWFzb24gWyAnbnVtYmVyJyBdICkKIE9PT09vT09vME8wID0geyAndHJha3QnIDogdHJha3RfaWQgLCAndHZkYicgOiB0dmRiX2lkIH0KIE9vT28gPSBpbWFnZV9zY3JhcGVyIC4gZ2V0X2ltYWdlcyAoIFZJREVPX1RZUEVTIC4gU0VBU09OICwgT09PT29PT28wTzAgLCBzZWFzb24gWyAnbnVtYmVyJyBdICkKIE8wbzBPbyA9IHV0aWxzIC4gbWFrZV9saXN0X2l0ZW0gKCBpSWkxaWkxSTEgLCBzZWFzb24gLCBPb09vICkKIG8wT08wMCAuIGxvZyAoICdTZWFzb24gSW5mbzogJXMnICUgKCBpbmZvICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiBpbmZvIFsgJ21lZGlhdHlwZScgXSA9ICdzZWFzb24nCiBPMG8wT28gLiBzZXRJbmZvICggJ3ZpZGVvJyAsIGluZm8gKQogSUkxMWlpaWkxSWkgPSBbIF0KIGlmIDUyIC0gNTI6IG8wMCAlIGlpMUlpSTFpICsgaUlpaTFJMTFJMUlJMSAqIElpaUlJSTExMWlJIC4gb08wbwogaWYgJ3BsYXljb3VudCcgaW4gaW5mbyBhbmQgaW5mbyBbICdwbGF5Y291bnQnIF0gOgogIEkxMWkxSTFpaTFpMSA9IEZhbHNlCiAgaUlpMWlpMUkxID0gaTE4biAoICdtYXJrX2FzX3Vud2F0Y2hlZCcgKQogZWxzZSA6CiAgSTExaTFJMWlpMWkxID0gVHJ1ZQogIGlJaTFpaTFJMSA9IGkxOG4gKCAnbWFya19hc193YXRjaGVkJyApCiAgaWYgOTUgLSA5NTogaUlpaTFJMTFJMUlJMSAuIG8wMG9vbzAgLSBPb29vb29vb09PICogaTEgLyBPT29vT09vCiBpZiBpSTEgOgogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gUkFURSAsICdzZWN0aW9uJyA6IFNFQ1RJT05TIC4gVFYgLCAnc2Vhc29uJyA6IHNlYXNvbiBbICdudW1iZXInIF0gLCAnaWRfdHlwZScgOiAndHJha3QnICwgJ3Nob3dfaWQnIDogdHJha3RfaWQgfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ3JhdGVfb25fdHJha3QnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBUT0dHTEVfV0FUQ0hFRCAsICdzZWN0aW9uJyA6IFNFQ1RJT05TIC4gVFYgLCAnc2Vhc29uJyA6IHNlYXNvbiBbICdudW1iZXInIF0gLCAnaWRfdHlwZScgOiAndHJha3QnICwgJ3Nob3dfaWQnIDogdHJha3RfaWQgLCAnd2F0Y2hlZCcgOiBJMTFpMUkxaWkxaTEgfQogIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpSWkxaWkxSTEgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgaWYgNzQgLSA3NDogSWlpSUlJMTExaUkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VUX1ZJRVcgLCAnY29udGVudF90eXBlJyA6IENPTlRFTlRfVFlQRVMgLiBTRUFTT05TIH0KIElJMTFpaWlpMUlpIC4gYXBwZW5kICggKCBpMThuICggJ3NldF9hc19zZWFzb25fdmlldycgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gUkVGUkVTSF9JTUFHRVMgLCAndmlkZW9fdHlwZScgOiBWSURFT19UWVBFUyAuIFNFQVNPTiAsICdpZHMnIDoganNvbiAuIGR1bXBzICggT09PT29PT28wTzAgKSAsICdzZWFzb24nIDogc2Vhc29uIFsgJ251bWJlcicgXSB9CiBJSTExaWlpaTFJaSAuIGFwcGVuZCAoICggaTE4biAoICdyZWZyZXNoX2ltYWdlcycgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VUX1VSTF9TRUFSQ0ggLCAndmlkZW9fdHlwZScgOiBWSURFT19UWVBFUyAuIFNFQVNPTiAsICd0aXRsZScgOiB0aXRsZSAsICd5ZWFyJyA6IHllYXIgLCAndHJha3RfaWQnIDogdHJha3RfaWQgLCAnc2Vhc29uJyA6IHNlYXNvbiBbICdudW1iZXInIF0gfQogSUkxMWlpaWkxSWkgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc2V0X3JlbF91cmxfc2VhcmNoJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTRVRfVVJMX01BTlVBTCAsICd2aWRlb190eXBlJyA6IFZJREVPX1RZUEVTIC4gU0VBU09OICwgJ3RpdGxlJyA6IHRpdGxlICwgJ3llYXInIDogeWVhciAsICd0cmFrdF9pZCcgOiB0cmFrdF9pZCAsICdzZWFzb24nIDogc2Vhc29uIFsgJ251bWJlcicgXSB9CiBJSTExaWlpaTFJaSAuIGFwcGVuZCAoICggaTE4biAoICdzZXRfcmVsX3VybF9tYW51YWwnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiAzNCAtIDM0OiBJSTFpCiBPMG8wT28gLiBhZGRDb250ZXh0TWVudUl0ZW1zICggSUkxMWlpaWkxSWkgLCByZXBsYWNlSXRlbXMgPSBUcnVlICkKIHJldHVybiBPMG8wT28KIGlmIDQ0IC0gNDQ6IGkxSUlpICUgb09vb09vTzBPbzBPICUgT09vb09PbwpkZWYgSTExaTEgKCBzaG93ICwgZXBpc29kZSAsIHNob3dfc3VicyA9IFRydWUgLCBtZW51X2l0ZW1zID0gTm9uZSApIDoKIGlmIDkgLSA5OiBvMCAlIE9vb29vb29vT08gLSBvTzBvCiBpZiA0MyAtIDQzOiBpMSAlIGkxCiBpZiBtZW51X2l0ZW1zIGlzIE5vbmUgOiBtZW51X2l0ZW1zID0gWyBdCiBzaG93IFsgJ3RpdGxlJyBdID0gcmUgLiBzdWIgKCAnIFwoXGR7NH1cKSQnICwgJycgLCBzaG93IFsgJ3RpdGxlJyBdICkKIGlmIGVwaXNvZGUgWyAndGl0bGUnIF0gaXMgTm9uZSA6CiAgaUlpMWlpMUkxID0gJyVzeCVzJyAlICggZXBpc29kZSBbICdzZWFzb24nIF0gLCBlcGlzb2RlIFsgJ251bWJlcicgXSApCiBlbHNlIDoKICBpSWkxaWkxSTEgPSAnJXN4JXMgJXMnICUgKCBlcGlzb2RlIFsgJ3NlYXNvbicgXSAsIGVwaXNvZGUgWyAnbnVtYmVyJyBdICwgZXBpc29kZSBbICd0aXRsZScgXSApCiAgaWYgNDYgLSA0NjogbzAgJSBpSWlpMUkxMUkxSUkxIC4gSUkxaSAuIE8wICogT28wb08wb29vIC8gT29vb29vb29PTwogaWYgJ2ZpcnN0X2FpcmVkJyBpbiBlcGlzb2RlIDogTzBPb09vTzAwTyA9IHV0aWxzIC4gaXNvXzJfdXRjICggZXBpc29kZSBbICdmaXJzdF9haXJlZCcgXSApCiB0cnkgOiBJSTFpSTFJSWkgPSB0aW1lIC4gYXNjdGltZSAoIHRpbWUgLiBsb2NhbHRpbWUgKCBPME9vT29PMDBPICkgKQogZXhjZXB0IDogSUkxaUkxSUlpID0gaTE4biAoICd1bmF2YWlsYWJsZScgKQogaWYgNDEgLSA0MTogb09vb09vTzBPbzBPIC0gbzAwICUgaTExaSAuIG8wMCAtIGlpSTFpMQogbzBPTzAwIC4gbG9nICggJ0ZpcnN0IEFpcmVkOiBUaXRsZTogJXMgUy9FOiAlcy8lcyBmYTogJXMsIHV0YzogJXMsIGxvY2FsOiAlcycgJQogKCBzaG93IFsgJ3RpdGxlJyBdICwgZXBpc29kZSBbICdzZWFzb24nIF0gLCBlcGlzb2RlIFsgJ251bWJlcicgXSAsIGVwaXNvZGUgWyAnZmlyc3RfYWlyZWQnIF0gLCBPME9vT29PMDBPICwgSUkxaUkxSUlpICkgLCBsb2dfdXRpbHMgLiBMT0dERUJVRyApCiBpZiA0NSAtIDQ1OiBvTzBvIC0gSWkxMTExMWkKIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICd1bmFpcmVkX2luZGljYXRvcicgKSA9PSAndHJ1ZScgYW5kICggbm90IGVwaXNvZGUgWyAnZmlyc3RfYWlyZWQnIF0gb3IgTzBPb09vTzAwTyA+IHRpbWUgLiB0aW1lICggKSApIDoKICBpSWkxaWkxSTEgPSAnW0ldW0NPTE9SIGNob2NvbGF0ZV0lc1svQ09MT1JdWy9JXScgJSAoIGlJaTFpaTFJMSApCiAgaWYgNzAgLSA3MDogaTEgJSBvT29vT29PME9vME8gLyBvT29vT29PME9vME8gLiBpaUkxaTEgJSBPbzBvTzBvb28gLiBpMTFpCiBpZiBzaG93X3N1YnMgYW5kIHV0aWxzMiAuIHNydF9pbmRpY2F0b3JzX2VuYWJsZWQgKCApIDoKICBvME9PME9vID0gU1JUX1NjcmFwZXIgKCApCiAgSTFpaTFJaTEgPSBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc3VidGl0bGUtbGFuZycgKQogIEkxMWlpaWkxSSA9IG8wT08wT28gLiBnZXRfdHZzaG93X2lkICggc2hvdyBbICd0aXRsZScgXSAsIHNob3cgWyAneWVhcicgXSApCiAgaWYgSTExaWlpaTFJIGlzIG5vdCBOb25lIDoKICAgT29PID0gbzBPTzBPbyAuIGdldF9lcGlzb2RlX3N1YnRpdGxlcyAoIEkxaWkxSWkxICwgSTExaWlpaTFJICwgZXBpc29kZSBbICdzZWFzb24nIF0gLCBlcGlzb2RlIFsgJ251bWJlcicgXSApCiAgZWxzZSA6CiAgIE9vTyA9IFsgXQogIGlJaTFpaTFJMSA9IHV0aWxzMiAuIGZvcm1hdF9lcGlzb2RlX2xhYmVsICggaUlpMWlpMUkxICwgZXBpc29kZSBbICdzZWFzb24nIF0gLCBlcGlzb2RlIFsgJ251bWJlcicgXSAsIE9vTyApCiAgaWYgNjMgLSA2MzogSWkxMTExMWkgLiBpMTFpIC4gaWlJMWkxCiBJMUkxSUlJSWkxMSA9IHRyYW5zaXN0b3J0dl91dGlscyAuIG1ha2VfaW5mbyAoIGVwaXNvZGUgLCBzaG93ICkKIE9vT28gPSBpbWFnZV9zY3JhcGVyIC4gZ2V0X2ltYWdlcyAoIFZJREVPX1RZUEVTIC4gRVBJU09ERSAsIHNob3cgWyAnaWRzJyBdICwgZXBpc29kZSBbICdzZWFzb24nIF0gLCBlcGlzb2RlIFsgJ251bWJlcicgXSApCiBPMG8wT28gPSB1dGlscyAuIG1ha2VfbGlzdF9pdGVtICggaUlpMWlpMUkxICwgSTFJMUlJSUlpMTEgLCBPb09vICkKIE8wbzBPbyAuIHNldEluZm8gKCAndmlkZW8nICwgSTFJMUlJSUlpMTEgKQogaWlPMG9Pb28gPSAnJwogaWYgZXBpc29kZSBbICdmaXJzdF9haXJlZCcgXSA6CiAgaWlPMG9Pb28gPSB1dGlsczIgLiBtYWtlX2Fpcl9kYXRlICggZXBpc29kZSBbICdmaXJzdF9haXJlZCcgXSApCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIEdFVF9TT1VSQ0VTICwgJ3ZpZGVvX3R5cGUnIDogVklERU9fVFlQRVMgLiBFUElTT0RFICwgJ3RpdGxlJyA6IHNob3cgWyAndGl0bGUnIF0gLCAneWVhcicgOiBzaG93IFsgJ3llYXInIF0gLCAnc2Vhc29uJyA6IGVwaXNvZGUgWyAnc2Vhc29uJyBdICwgJ2VwaXNvZGUnIDogZXBpc29kZSBbICdudW1iZXInIF0gLAogJ2VwX3RpdGxlJyA6IGVwaXNvZGUgWyAndGl0bGUnIF0gLCAnZXBfYWlyZGF0ZScgOiBpaU8wb09vbyAsICd0cmFrdF9pZCcgOiBzaG93IFsgJ2lkcycgXSBbICd0cmFrdCcgXSAsICdyYW5kb20nIDogdGltZSAuIHRpbWUgKCApIH0KIE9vMDBPT09PTyA9IGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogaWYgNjggLSA2ODogaTFJSWkgLSBJMTFpSWkxSSAvIG8wICUgaWlJMWkxIC4gSUkxaQogaWkxSSA9IHsgJ3ZpZGVvX3R5cGUnIDogVklERU9fVFlQRVMgLiBFUElTT0RFICwgJ3RpdGxlJyA6IHNob3cgWyAndGl0bGUnIF0gLCAneWVhcicgOiBzaG93IFsgJ3llYXInIF0gLCAnc2Vhc29uJyA6IGVwaXNvZGUgWyAnc2Vhc29uJyBdICwgJ2VwaXNvZGUnIDogZXBpc29kZSBbICdudW1iZXInIF0gLAogJ2VwX3RpdGxlJyA6IGVwaXNvZGUgWyAndGl0bGUnIF0gLCAnZXBfYWlyZGF0ZScgOiBpaU8wb09vbyAsICd0cmFrdF9pZCcgOiBzaG93IFsgJ2lkcycgXSBbICd0cmFrdCcgXSB9CiBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnYXV0by1wbGF5JyApID09ICd0cnVlJyA6CiAgaWkxSSBbICdtb2RlJyBdID0gTU9ERVMgLiBTRUxFQ1RfU09VUkNFCiAgaUlpMWlpMUkxID0gaTE4biAoICdzZWxlY3Rfc291cmNlJyApCiAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ3NvdXJjZS13aW4nICkgPT0gJ0RpYWxvZycgOgogICBPb29PMCA9ICdSdW5QbHVnaW4oJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIGVsc2UgOgogICBPb29PMCA9ICdDb250YWluZXIuVXBkYXRlKCVzKScgJSBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkKIGVsc2UgOgogIGlpMUkgWyAnbW9kZScgXSA9IE1PREVTIC4gQVVUT1BMQVkKICBPb29PMCA9ICdSdW5QbHVnaW4oJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIGlJaTFpaTFJMSA9IGkxOG4gKCAnYXV0by1wbGF5JyApCiBtZW51X2l0ZW1zIC4gaW5zZXJ0ICggMCAsICggaUlpMWlpMUkxICwgT29vTzAgKSAsICkKIGlmIDkgLSA5OiBvMDBvb28wCiBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc2hvd19kb3dubG9hZCcgKSA9PSAndHJ1ZScgOgogIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gRE9XTkxPQURfU09VUkNFICwgJ3ZpZGVvX3R5cGUnIDogVklERU9fVFlQRVMgLiBFUElTT0RFICwgJ3RpdGxlJyA6IHNob3cgWyAndGl0bGUnIF0gLCAneWVhcicgOiBzaG93IFsgJ3llYXInIF0gLCAnc2Vhc29uJyA6IGVwaXNvZGUgWyAnc2Vhc29uJyBdICwgJ2VwaXNvZGUnIDogZXBpc29kZSBbICdudW1iZXInIF0gLAogJ2VwX3RpdGxlJyA6IGVwaXNvZGUgWyAndGl0bGUnIF0gLCAnZXBfYWlyZGF0ZScgOiBpaU8wb09vbyAsICd0cmFrdF9pZCcgOiBzaG93IFsgJ2lkcycgXSBbICd0cmFrdCcgXSB9CiAgaWYga29kaSAuIGdldF9zZXR0aW5nICggJ3NvdXJjZS13aW4nICkgPT0gJ0RpYWxvZycgOgogICBPb29PMCA9ICdSdW5QbHVnaW4oJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIGVsc2UgOgogICBPb29PMCA9ICdDb250YWluZXIuVXBkYXRlKCVzKScgJSBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkKICBtZW51X2l0ZW1zIC4gYXBwZW5kICggKCBpMThuICggJ2Rvd25sb2FkX3NvdXJjZScgKSAsIE9vb08wICkgLCApCiAgaWYgNDggLSA0ODogT09vb09PbyArIE9Pb29PT28gLSBvMAogSTFpaTFpaTFJID0gdXRpbHMyIC4gc2hvd19pZCAoIHNob3cgKQogaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBBRERfVE9fTElTVCAsICdzZWN0aW9uJyA6IFNFQ1RJT05TIC4gVFYgfQogaWkxSSAuIHVwZGF0ZSAoIEkxaWkxaWkxSSApCiBtZW51X2l0ZW1zIC4gYXBwZW5kICggKCBpMThuICggJ2FkZF9zaG93X3RvX2xpc3QnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiAyNyAtIDI3OiBpMSArIGlpMUlpSTFpICogT28wb08wb29vCiBpZiBlcGlzb2RlIC4gZ2V0ICggJ3dhdGNoZWQnICwgRmFsc2UgKSA6CiAgSTExaTFJMWlpMWkxID0gRmFsc2UKICBpSWkxaWkxSTEgPSBpMThuICggJ21hcmtfYXNfdW53YXRjaGVkJyApCiBlbHNlIDoKICBJMTFpMUkxaWkxaTEgPSBUcnVlCiAgaUlpMWlpMUkxID0gaTE4biAoICdtYXJrX2FzX3dhdGNoZWQnICkKICBpZiA4MyAtIDgzOiBpSWlpMUkxMUkxSUkxCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFJFRlJFU0hfSU1BR0VTICwgJ3ZpZGVvX3R5cGUnIDogVklERU9fVFlQRVMgLiBFUElTT0RFICwgJ2lkcycgOiBqc29uIC4gZHVtcHMgKCBzaG93IFsgJ2lkcycgXSApICwgJ3NlYXNvbicgOiBlcGlzb2RlIFsgJ3NlYXNvbicgXSAsICdlcGlzb2RlJyA6IGVwaXNvZGUgWyAnbnVtYmVyJyBdIH0KIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAncmVmcmVzaF9pbWFnZXMnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiBpSTEgOgogIEkxaWkxaWkxSSA9IHV0aWxzMiAuIHNob3dfaWQgKCBzaG93ICkKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFJBVEUgLCAnc2VjdGlvbicgOiBTRUNUSU9OUyAuIFRWICwgJ3NlYXNvbicgOiBlcGlzb2RlIFsgJ3NlYXNvbicgXSAsICdlcGlzb2RlJyA6IGVwaXNvZGUgWyAnbnVtYmVyJyBdIH0KICBpZiA3MiAtIDcyOiBpaUkxaTEKICBpZiBzaG93IFsgJ2lkcycgXSAuIGdldCAoICdpbWRiJyApIDoKICAgaWkxSSAuIHVwZGF0ZSAoIHsgJ2lkX3R5cGUnIDogJ2ltZGInICwgJ3Nob3dfaWQnIDogc2hvdyBbICdpZHMnIF0gWyAnaW1kYicgXSB9ICkKICBlbHNlIDoKICAgaWkxSSAuIHVwZGF0ZSAoIEkxaWkxaWkxSSApCiAgbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaTE4biAoICdyYXRlX29uX3RyYWt0JyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogIGlmIDg3IC0gODc6IGkxSUlpCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBUT0dHTEVfV0FUQ0hFRCAsICdzZWN0aW9uJyA6IFNFQ1RJT05TIC4gVFYgLCAnc2Vhc29uJyA6IGVwaXNvZGUgWyAnc2Vhc29uJyBdICwgJ2VwaXNvZGUnIDogZXBpc29kZSBbICdudW1iZXInIF0gLCAnd2F0Y2hlZCcgOiBJMTFpMUkxaWkxaTEgfQogIGlpMUkgLiB1cGRhdGUgKCBJMWlpMWlpMUkgKQogIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGlJaTFpaTFJMSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICBpZiA0OCAtIDQ4OiBvMCAqIElpaUlJSTExMWlJICogaUlpaTFJMTFJMUlJMSArIGkxMWlJaWlJaWkgLSBPb29vb29vb09PCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFVF9VUkxfU0VBUkNIICwgJ3ZpZGVvX3R5cGUnIDogVklERU9fVFlQRVMgLiBUVlNIT1cgLCAndGl0bGUnIDogc2hvdyBbICd0aXRsZScgXSAsICd5ZWFyJyA6IHNob3cgWyAneWVhcicgXSAsICd0cmFrdF9pZCcgOiBzaG93IFsgJ2lkcycgXSBbICd0cmFrdCcgXSB9CiBtZW51X2l0ZW1zIC4gYXBwZW5kICggKCBpMThuICggJ3NldF9yZWxfc2hvd191cmxfc2VhcmNoJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBTRVRfVVJMX1NFQVJDSCAsICd2aWRlb190eXBlJyA6IFZJREVPX1RZUEVTIC4gU0VBU09OICwgJ3RpdGxlJyA6IHNob3cgWyAndGl0bGUnIF0gLCAneWVhcicgOiBzaG93IFsgJ3llYXInIF0gLCAndHJha3RfaWQnIDogc2hvdyBbICdpZHMnIF0gWyAndHJha3QnIF0gLCAnc2Vhc29uJyA6IGVwaXNvZGUgWyAnc2Vhc29uJyBdIH0KIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc2V0X3JlbF9zZWFzb25fdXJsX3NlYXJjaCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gU0VUX1VSTF9NQU5VQUwgLCAndmlkZW9fdHlwZScgOiBWSURFT19UWVBFUyAuIEVQSVNPREUgLCAndGl0bGUnIDogc2hvdyBbICd0aXRsZScgXSAsICd5ZWFyJyA6IHNob3cgWyAneWVhcicgXSAsICdzZWFzb24nIDogZXBpc29kZSBbICdzZWFzb24nIF0gLAogJ2VwaXNvZGUnIDogZXBpc29kZSBbICdudW1iZXInIF0gLCAnZXBfdGl0bGUnIDogZXBpc29kZSBbICd0aXRsZScgXSAsICdlcF9haXJkYXRlJyA6IGlpTzBvT29vICwgJ3RyYWt0X2lkJyA6IHNob3cgWyAnaWRzJyBdIFsgJ3RyYWt0JyBdIH0KIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc2V0X3JlbF91cmxfbWFudWFsJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogaWYgMzggLSAzODogaWkxSWlJMWkgLyBpSWlpMUkxMUkxSUkxICUgaTExaUlpaUlpaSAtIG8wMG9vbzAgKiBJSTFpIC8gaWkxSWlJMWkKIE8wbzBPbyAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBtZW51X2l0ZW1zICwgcmVwbGFjZUl0ZW1zID0gVHJ1ZSApCiByZXR1cm4gTzBvME9vICwgT28wME9PT09PCiBpZiAxMyAtIDEzOiBpMSAqIEkxMWlJaTFJIC0gbzAwCmRlZiBPME9PMDBvME9PICggc2VjdGlvbl9wYXJhbXMgLCBzaG93ICwgbWVudV9pdGVtcyA9IE5vbmUgKSA6CiBpZiBtZW51X2l0ZW1zIGlzIE5vbmUgOiBtZW51X2l0ZW1zID0gWyBdCiBpZiBub3QgaXNpbnN0YW5jZSAoIHNob3cgWyAndGl0bGUnIF0gLCBiYXNlc3RyaW5nICkgOiBzaG93IFsgJ3RpdGxlJyBdID0gJycKIHNob3cgWyAndGl0bGUnIF0gPSByZSAuIHN1YiAoICcgXChcZHs0fVwpJCcgLCAnJyAsIHNob3cgWyAndGl0bGUnIF0gKQogaUlpMWlpMUkxID0gJyVzICglcyknICUgKCBzaG93IFsgJ3RpdGxlJyBdICwgc2hvdyBbICd5ZWFyJyBdICkKIEkxMWkxSUkgPSBzaG93IFsgJ2lkcycgXSBbICd0cmFrdCcgXQogT29PbyA9IGltYWdlX3NjcmFwZXIgLiBnZXRfaW1hZ2VzICggc2VjdGlvbl9wYXJhbXMgWyAndmlkZW9fdHlwZScgXSAsIHNob3cgWyAnaWRzJyBdICkKIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdpbmNsdWRlX3Blb3BsZScgKSA9PSAndHJ1ZScgOgogIEkxMUlpID0gT28gLiBnZXRfcGVvcGxlICggc2VjdGlvbl9wYXJhbXMgWyAnc2VjdGlvbicgXSAsIEkxMWkxSUkgKQogIG9PME9PT08wbzAgPSB0cmFuc2lzdG9ydHZfdXRpbHMgLiBtYWtlX2Nhc3QgKCBzaG93IFsgJ2lkcycgXSAsIEkxMUlpICkKIGVsc2UgOgogIEkxMUlpID0gTm9uZQogIG9PME9PT08wbzAgPSBOb25lCiAgaWYgNjcgLSA2NzogbzAgLyBPbzBvTzBvb28gLSBvMDBvb28wCiBPMG8wT28gPSB1dGlscyAuIG1ha2VfbGlzdF9pdGVtICggaUlpMWlpMUkxICwgc2hvdyAsIE9vT28gLCBvTzBPT09PMG8wICkKIE8wbzBPbyAuIHNldFByb3BlcnR5ICggJ3RyYWt0X2lkJyAsIHN0ciAoIEkxMWkxSUkgKSApCiBJaU9PbzAwID0gdHJhbnNpc3RvcnR2X3V0aWxzIC4gbWFrZV9pbmZvICggc2hvdyAsIHBlb3BsZSA9IEkxMUlpICkKIGlmIDc0IC0gNzQ6IGlpSTFpMSAqIG9PMG8gLSBJMTFpSWkxSSAlIGlJaWkxSTExSTFJSTEKIGlmIDU2IC0gNTY6IEkxMWlJaTFJIC0gTzAKIGlmIG9PME9PT08wbzAgYW5kIGdldGF0dHIgKCBPMG8wT28gLCAnc2V0Q2FzdCcgLCBOb25lICkgaXMgTm9uZSA6CiAgSWlPT28wMCBbICdjYXN0YW5kcm9sZScgXSA9IElpT09vMDAgWyAnY2FzdCcgXSA9IFsgKCBvMG8wb28wIFsgJ25hbWUnIF0gLCBvMG8wb28wIFsgJ3JvbGUnIF0gKSBmb3IgbzBvMG9vMCBpbiBvTzBPT09PMG8wIF0KICBpZiAyNSAtIDI1OiBpMSAqIElpaUlJSTExMWlJICUgaTExaUlpaUlpaSArIGkxMWlJaWlJaWkgKiBpMQogaWYgJ1RvdGFsRXBpc29kZXMnIGluIElpT09vMDAgOgogIE8wbzBPbyAuIHNldFByb3BlcnR5ICggJ1RvdGFsRXBpc29kZXMnICwgc3RyICggSWlPT28wMCBbICdUb3RhbEVwaXNvZGVzJyBdICkgKQogIE8wbzBPbyAuIHNldFByb3BlcnR5ICggJ1dhdGNoZWRFcGlzb2RlcycgLCBzdHIgKCBJaU9PbzAwIFsgJ1dhdGNoZWRFcGlzb2RlcycgXSApICkKICBPMG8wT28gLiBzZXRQcm9wZXJ0eSAoICdVbldhdGNoZWRFcGlzb2RlcycgLCBzdHIgKCBJaU9PbzAwIFsgJ1VuV2F0Y2hlZEVwaXNvZGVzJyBdICkgKQogIGlmIDQyIC0gNDI6IGkxMWkgLyBPMCAuIGlJaWkxSTExSTFJSTEgLyBPMCAvIGkxIC8gT29vb29vb29PTwogaWYgc2VjdGlvbl9wYXJhbXMgWyAnc2VjdGlvbicgXSA9PSBTRUNUSU9OUyAuIFRWIDoKICBpaTFJID0geyAnbW9kZScgOiBzZWN0aW9uX3BhcmFtcyBbICduZXh0X21vZGUnIF0gLCAndHJha3RfaWQnIDogSTExaTFJSSAsICd0aXRsZScgOiBzaG93IFsgJ3RpdGxlJyBdICwgJ3llYXInIDogc2hvdyBbICd5ZWFyJyBdICwgJ3R2ZGJfaWQnIDogc2hvdyBbICdpZHMnIF0gWyAndHZkYicgXSB9CiAgSWlPT28wMCBbICdUVlNob3dUaXRsZScgXSA9IElpT09vMDAgWyAndGl0bGUnIF0KIGVsc2UgOgogIGlpMUkgPSB7ICdtb2RlJyA6IHNlY3Rpb25fcGFyYW1zIFsgJ25leHRfbW9kZScgXSAsICd2aWRlb190eXBlJyA6IHNlY3Rpb25fcGFyYW1zIFsgJ3ZpZGVvX3R5cGUnIF0gLCAndGl0bGUnIDogc2hvdyBbICd0aXRsZScgXSAsICd5ZWFyJyA6IHNob3cgWyAneWVhcicgXSAsICd0cmFrdF9pZCcgOiBJMTFpMUlJIH0KIGlpMUkgWyAncmFuZG9tJyBdID0gdGltZSAuIHRpbWUgKCApCiBpZiA2MiAtIDYyOiBPMCAuIG8wCiBPMG8wT28gLiBzZXRJbmZvICggJ3ZpZGVvJyAsIElpT09vMDAgKQogT28wME9PT09PID0ga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApCiBpZiAzMyAtIDMzOiBvMCAvIGlJaWkxSTExSTFJSTEgJSBpMUlJaQogaWkxSSA9IHsgJ3ZpZGVvX3R5cGUnIDogc2VjdGlvbl9wYXJhbXMgWyAndmlkZW9fdHlwZScgXSAsICd0aXRsZScgOiBzaG93IFsgJ3RpdGxlJyBdICwgJ3llYXInIDogc2hvdyBbICd5ZWFyJyBdICwgJ3RyYWt0X2lkJyA6IEkxMWkxSUkgfQogaWYgc2VjdGlvbl9wYXJhbXMgWyAnbmV4dF9tb2RlJyBdID09IE1PREVTIC4gR0VUX1NPVVJDRVMgOgogIGlmIGtvZGkgLiBnZXRfc2V0dGluZyAoICdhdXRvLXBsYXknICkgPT0gJ3RydWUnIDoKICAgaWkxSSBbICdtb2RlJyBdID0gTU9ERVMgLiBTRUxFQ1RfU09VUkNFCiAgIGlJaTFpaTFJMSA9IGkxOG4gKCAnc2VsZWN0X3NvdXJjZScgKQogICBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc291cmNlLXdpbicgKSA9PSAnRGlhbG9nJyA6CiAgICBPb29PMCA9ICdSdW5QbHVnaW4oJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogICBlbHNlIDoKICAgIE9vb08wID0gJ0NvbnRhaW5lci5VcGRhdGUoJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIGVsc2UgOgogICBpaTFJIFsgJ21vZGUnIF0gPSBNT0RFUyAuIEFVVE9QTEFZCiAgIE9vb08wID0gJ1J1blBsdWdpbiglcyknICUga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApCiAgIGlJaTFpaTFJMSA9IGkxOG4gKCAnYXV0by1wbGF5JyApCiAgbWVudV9pdGVtcyAuIGluc2VydCAoIDAgLCAoIGlJaTFpaTFJMSAsIE9vb08wICkgLCApCiAgaWYgNzYgLSA3Njogb08wbyArIGlJaWkxSTExSTFJSTEgKyBpaTFJaUkxaSAuIGkxCiBpZiBzZWN0aW9uX3BhcmFtcyBbICduZXh0X21vZGUnIF0gPT0gTU9ERVMgLiBHRVRfU09VUkNFUyBhbmQga29kaSAuIGdldF9zZXR0aW5nICggJ3Nob3dfZG93bmxvYWQnICkgPT0gJ3RydWUnIDoKICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIERPV05MT0FEX1NPVVJDRSAsICd2aWRlb190eXBlJyA6IHNlY3Rpb25fcGFyYW1zIFsgJ3ZpZGVvX3R5cGUnIF0gLCAndGl0bGUnIDogc2hvdyBbICd0aXRsZScgXSAsICd5ZWFyJyA6IHNob3cgWyAneWVhcicgXSAsICd0cmFrdF9pZCcgOiBJMTFpMUlJIH0KICBpZiBrb2RpIC4gZ2V0X3NldHRpbmcgKCAnc291cmNlLXdpbicgKSA9PSAnRGlhbG9nJyA6CiAgIE9vb08wID0gJ1J1blBsdWdpbiglcyknICUga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApCiAgZWxzZSA6CiAgIE9vb08wID0gJ0NvbnRhaW5lci5VcGRhdGUoJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAnZG93bmxvYWRfc291cmNlJyApICwgT29vTzAgKSAsICkKICBpZiA0OSAtIDQ5OiBvMDBvb28wIC8gT28wb08wb29vIC8gSWkxMTExMWkKIGlmIGlJMSA6CiAgSTFpaTFpaTFJID0gdXRpbHMyIC4gc2hvd19pZCAoIHNob3cgKQogIGlmIHNob3cgLiBnZXQgKCAnaW5fY29sbGVjdGlvbicgLCBGYWxzZSApIDoKICAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBSRU1fRlJPTV9DT0xMICwgJ3NlY3Rpb24nIDogc2VjdGlvbl9wYXJhbXMgWyAnc2VjdGlvbicgXSB9CiAgIGlpMUkgLiB1cGRhdGUgKCBJMWlpMWlpMUkgKQogICBtZW51X2l0ZW1zIC4gYXBwZW5kICggKCBpMThuICggJ3JlbW92ZV9mcm9tX2NvbGxlY3Rpb24nICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgZWxzZSA6CiAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gQUREX1RPX0NPTEwgLCAnc2VjdGlvbicgOiBzZWN0aW9uX3BhcmFtcyBbICdzZWN0aW9uJyBdIH0KICAgaWkxSSAuIHVwZGF0ZSAoIEkxaWkxaWkxSSApCiAgIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAnYWRkX3RvX2NvbGxlY3Rpb24nICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgIGlmIDI1IC0gMjU6IG9Pb29Pb08wT28wTyAlIE8wICsgaTFJSWkgLSBPbzBvTzBvb28KICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIEFERF9UT19MSVNUICwgJ3NlY3Rpb24nIDogc2VjdGlvbl9wYXJhbXMgWyAnc2VjdGlvbicgXSB9CiAgaWkxSSAuIHVwZGF0ZSAoIEkxaWkxaWkxSSApCiAgbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaTE4biAoICdhZGRfdG9fbGlzdCcgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKICBpZiAzOCAtIDM4OiBPT29vT09vICUgbzAwICsgaTExaUlpaUlpaSArIElJMWkgKyBPbzBvTzBvb28gLyBpMTFpSWlpSWlpCiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBSQVRFICwgJ3NlY3Rpb24nIDogc2VjdGlvbl9wYXJhbXMgWyAnc2VjdGlvbicgXSB9CiAgaWYgOTQgLSA5NDogSUkxaSAtIG8wICsgSWlpSUlJMTExaUkKICBpZiBzaG93IFsgJ2lkcycgXSAuIGdldCAoICdpbWRiJyApIDoKICAgaWkxSSAuIHVwZGF0ZSAoIHsgJ2lkX3R5cGUnIDogJ2ltZGInICwgJ3Nob3dfaWQnIDogc2hvdyBbICdpZHMnIF0gWyAnaW1kYicgXSB9ICkKICBlbHNlIDoKICAgaWkxSSAuIHVwZGF0ZSAoIEkxaWkxaWkxSSApCiAgbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaTE4biAoICdyYXRlX29uX3RyYWt0JyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogIGlmIDU5IC0gNTk6IGlpSTFpMSAuIG9Pb29Pb08wT28wTyAtIGlJaWkxSTExSTFJSTEgKyBpSWlpMUkxMUkxSUkxCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIEFERF9UT19MSUJSQVJZICwgJ3ZpZGVvX3R5cGUnIDogc2VjdGlvbl9wYXJhbXMgWyAndmlkZW9fdHlwZScgXSAsICd0aXRsZScgOiBzaG93IFsgJ3RpdGxlJyBdICwgJ3llYXInIDogc2hvdyBbICd5ZWFyJyBdICwgJ3RyYWt0X2lkJyA6IEkxMWkxSUkgfQogbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaTE4biAoICdhZGRfdG9fbGlicmFyeScgKSAsICdSdW5QbHVnaW4oJXMpJyAlICgga29kaSAuIGdldF9wbHVnaW5fdXJsICggaWkxSSApICkgKSAsICkKIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gUkVGUkVTSF9JTUFHRVMgLCAndmlkZW9fdHlwZScgOiBzZWN0aW9uX3BhcmFtcyBbICd2aWRlb190eXBlJyBdICwgJ2lkcycgOiBqc29uIC4gZHVtcHMgKCBzaG93IFsgJ2lkcycgXSApIH0KIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAncmVmcmVzaF9pbWFnZXMnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiA1NiAtIDU2OiBJaWlJSUkxMTFpSSArIE9vMG9PMG9vbwogaWYgaUkxIDoKICBpZiBzaG93IC4gZ2V0ICggJ3dhdGNoZWQnICwgRmFsc2UgKSA6CiAgIEkxMWkxSTFpaTFpMSA9IEZhbHNlCiAgIGlJaTFpaTFJMSA9IGkxOG4gKCAnbWFya19hc191bndhdGNoZWQnICkKICBlbHNlIDoKICAgSTExaTFJMWlpMWkxID0gVHJ1ZQogICBpSWkxaWkxSTEgPSBpMThuICggJ21hcmtfYXNfd2F0Y2hlZCcgKQogICBpZiAzMiAtIDMyOiBpMTFpICsgaWkxSWlJMWkgJSBPbzBvTzBvb28gLyBpaTFJaUkxaSArIEkxMWlJaTFJCiAgaWYgSTExaTFJMWlpMWkxIG9yIHNlY3Rpb25fcGFyYW1zIFsgJ3NlY3Rpb24nIF0gPT0gU0VDVElPTlMgLiBNT1ZJRVMgOgogICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFRPR0dMRV9XQVRDSEVEICwgJ3NlY3Rpb24nIDogc2VjdGlvbl9wYXJhbXMgWyAnc2VjdGlvbicgXSAsICd3YXRjaGVkJyA6IEkxMWkxSTFpaTFpMSB9CiAgIGlpMUkgLiB1cGRhdGUgKCBJMWlpMWlpMUkgKQogICBtZW51X2l0ZW1zIC4gYXBwZW5kICggKCBpSWkxaWkxSTEgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiAgIGlmIDIgLSAyOiBpMTFpSWlpSWlpIC0gbzAwICsgaTEgJSBpaUkxaTEgKiBvTzBvCiBpZiBzZWN0aW9uX3BhcmFtcyBbICdzZWN0aW9uJyBdID09IFNFQ1RJT05TIC4gVFYgYW5kIGtvZGkgLiBnZXRfc2V0dGluZyAoICdlbmFibGUtc3VidGl0bGVzJyApID09ICd0cnVlJyA6CiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBFRElUX1RWU0hPV19JRCAsICd0aXRsZScgOiBzaG93IFsgJ3RpdGxlJyBdICwgJ3llYXInIDogc2hvdyBbICd5ZWFyJyBdIH0KICBPb29PMCA9ICdSdW5QbHVnaW4oJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogIG1lbnVfaXRlbXMgLiBhcHBlbmQgKCAoIGkxOG4gKCAnc2V0X2FkZGljdGVkX3R2c2hvd2lkJyApICwgT29vTzAgLCApICkKICBpZiA1NCAtIDU0OiBPMCAtIElJMWkgLiBJaTExMTExaSAlIElJMWkgKyBJSTFpCiBpZiBzZWN0aW9uX3BhcmFtcyBbICdzZWN0aW9uJyBdID09IFNFQ1RJT05TIC4gVFYgOgogIGlmIHN0ciAoIEkxMWkxSUkgKSBpbiB1dGlsczIgLiBnZXRfcHJvZ3Jlc3Nfc2tpcF9saXN0ICggKSA6CiAgIGlpMUkgPSB7ICdtb2RlJyA6IE1PREVTIC4gTUFOQUdFX1BST0dSRVNTICwgJ2FjdGlvbicgOiBBQ1RJT05TIC4gUkVNT1ZFICwgJ3RyYWt0X2lkJyA6IEkxMWkxSUkgfQogICBPb29PMCA9ICdSdW5QbHVnaW4oJXMpJyAlIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKQogICBtZW51X2l0ZW1zIC4gYXBwZW5kICggKCBpMThuICggJ2luY2x1ZGVfaW5fbW5lJyApICwgT29vTzAgLCApICkKICBlbHNlIDoKICAgaWYgc3RyICggSTExaTFJSSApIGluIHV0aWxzMiAuIGdldF9mb3JjZV90aXRsZV9saXN0ICggKSA6CiAgICBpSWkxaWkxSTEgPSBpMThuICggJ3VzZV9kZWZfZXBfbWF0Y2hpbmcnICkKICAgZWxzZSA6CiAgICBpSWkxaWkxSTEgPSBpMThuICggJ3VzZV9lcF90aXRsZV9tYXRjaCcgKQogICBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFRPR0dMRV9USVRMRSAsICd0cmFrdF9pZCcgOiBJMTFpMUlJIH0KICAgT29vTzAgPSAnUnVuUGx1Z2luKCVzKScgJSBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkKICAgbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaUlpMWlpMUkxICwgT29vTzAgLCApICkKICAgaWYgMzYgLSAzNjogSWkxMTExMWkgJSBpMTFpSWlpSWlpCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFVF9VUkxfU0VBUkNIICwgJ3ZpZGVvX3R5cGUnIDogc2VjdGlvbl9wYXJhbXMgWyAndmlkZW9fdHlwZScgXSAsICd0aXRsZScgOiBzaG93IFsgJ3RpdGxlJyBdICwgJ3llYXInIDogc2hvdyBbICd5ZWFyJyBdICwgJ3RyYWt0X2lkJyA6IEkxMWkxSUkgfQogbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaTE4biAoICdzZXRfcmVsX3VybF9zZWFyY2gnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpaTFJID0geyAnbW9kZScgOiBNT0RFUyAuIFNFVF9VUkxfTUFOVUFMICwgJ3ZpZGVvX3R5cGUnIDogc2VjdGlvbl9wYXJhbXMgWyAndmlkZW9fdHlwZScgXSAsICd0aXRsZScgOiBzaG93IFsgJ3RpdGxlJyBdICwgJ3llYXInIDogc2hvdyBbICd5ZWFyJyBdICwgJ3RyYWt0X2lkJyA6IEkxMWkxSUkgfQogbWVudV9pdGVtcyAuIGFwcGVuZCAoICggaTE4biAoICdzZXRfcmVsX3VybF9tYW51YWwnICkgLCAnUnVuUGx1Z2luKCVzKScgJSAoIGtvZGkgLiBnZXRfcGx1Z2luX3VybCAoIGlpMUkgKSApICkgLCApCiBpZiA0NyAtIDQ3OiBpMUlJaSArIGkxMWkgLiBvMCAqIElpaUlJSTExMWlJIC4gaWlJMWkxIC8gaTFJSWkKIGlmIGxlbiAoIG1lbnVfaXRlbXMgKSA8IDEwIGFuZCAndHJhaWxlcicgaW4gSWlPT28wMCA6CiAgaWkxSSA9IHsgJ21vZGUnIDogTU9ERVMgLiBQTEFZX1RSQUlMRVIgLCAnc3RyZWFtX3VybCcgOiBJaU9PbzAwIFsgJ3RyYWlsZXInIF0gfQogIG1lbnVfaXRlbXMgLiBpbnNlcnQgKCAtIDMgLCAoIGkxOG4gKCAncGxheV90cmFpbGVyJyApICwgJ1J1blBsdWdpbiglcyknICUgKCBrb2RpIC4gZ2V0X3BsdWdpbl91cmwgKCBpaTFJICkgKSApICwgKQogIGlmIDUwIC0gNTA6IG8wMCAvIGkxSUlpICUgT29vb29vb29PTwogTzBvME9vIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIG1lbnVfaXRlbXMgLCByZXBsYWNlSXRlbXMgPSBUcnVlICkKIGlmIDgzIC0gODM6IEkxMWlJaTFJICogSTExaUlpMUkgKyBJaTExMTExaQogTzBvME9vIC4gc2V0UHJvcGVydHkgKCAncmVzdW1ldGltZScgLCBzdHIgKCAwICkgKQogTzBvME9vIC4gc2V0UHJvcGVydHkgKCAndG90YWx0aW1lJyAsIHN0ciAoIDEgKSApCiByZXR1cm4gTzBvME9vICwgT28wME9PT09PCiBpZiA1NyAtIDU3OiBPMCAtIE8wIC4gSTExaUlpMUkgLyBPT29vT09vIC8gb08wbwpkZWYgTzBpMUlJMUlpaWkxSTExICggc2VjdGlvbiAsIHNsdWcgLCB1c2VybmFtZSA9IE5vbmUgLCBjYWNoZWQgPSBUcnVlICkgOgogaWYgc2x1ZyA9PSB1dGlscyAuIFdBVENITElTVF9TTFVHIDoKICBJaUkxMTExMTFJSUlJID0gT28gLiBzaG93X3dhdGNobGlzdCAoIHNlY3Rpb24gLCBjYWNoZWQgPSBjYWNoZWQgKQogZWxzZSA6CiAgdHJ5IDoKICAgSWlJMTExMTExSUlJSSA9IE9vIC4gc2hvd19saXN0ICggc2x1ZyAsIHNlY3Rpb24gLCB1c2VybmFtZSAsIGF1dGggPSBib29sICggaUkxICkgLCBjYWNoZWQgPSBjYWNoZWQgKQogIGV4Y2VwdCBUcmFrdE5vdEZvdW5kRXJyb3IgOgogICBJaUlJaUlJSWlJaWkgPSBpMThuICggJ2xpc3Rfbm90X2V4aXN0JyApICUgKCBzbHVnICkKICAga29kaSAuIG5vdGlmeSAoIG1zZyA9IElpSUlpSUlJaUlpaSAsIGR1cmF0aW9uID0gNTAwMCApCiAgIG8wT08wMCAuIGxvZyAoIElpSUlpSUlJaUlpaSAsIGxvZ191dGlscyAuIExPR1dBUk5JTkcgKQogICByZXR1cm4KICAgaWYgMjAgLSAyMDogSWkxMTExMWkgKiBpMTFpIC0gaWkxSWlJMWkgLSBJaWlJSUkxMTFpSSAqIG8wMAogcmV0dXJuIElpSTExMTExMUlJSUkKIGlmIDYgLSA2OiBPbzBvTzBvb28gKyBJaTExMTExaSAvIG8wICsgbzAwb29vMCAlIGkxMWkgLyBpMQpkZWYgaWlJaSAoIGFyZ3YgPSBOb25lICkgOgogaWYgc3lzIC4gYXJndiA6IGFyZ3YgPSBzeXMgLiBhcmd2CiBpaTFJID0ga29kaSAuIHBhcnNlX3F1ZXJ5ICggc3lzIC4gYXJndiBbIDIgXSApCiBvME9PMDAgLiBsb2cgKCAnVmVyc2lvbjogfCVzfCBRdWVyaWVzOiB8JXN8JyAlICgga29kaSAuIGdldF92ZXJzaW9uICggKSAsIGlpMUkgKSAsIGxvZ191dGlscyAuIExPR05PVElDRSApCiBvME9PMDAgLiBsb2cgKCAnQXJnczogfCVzfCcgJSAoIGFyZ3YgKSAsIGxvZ191dGlscyAuIExPR05PVElDRSApCiBpZiA3NCAtIDc0OiBPMCArIE9vb29vb29vT08gLyBJaWlJSUkxMTFpSSAvIGlpMUlpSTFpIC4gSTExaUlpMUkgJSBJaWlJSUkxMTFpSQogaWYgMzQgLSAzNDogaTFJSWkgLiBvT29vT29PME9vME8KIG9PME9vbzBvb09PMCA9ICdwbHVnaW46Ly8lcy8nICUgKCBrb2RpIC4gZ2V0X2lkICggKSApCiBpZiBhcmd2IFsgMCBdICE9IG9PME9vbzBvb09PMCA6CiAgcmV0dXJuCiAgaWYgNiAtIDY6IG8wMCAlIElpaUlJSTExMWlJICUgb08wbwogdHJ5IDoKICBnbG9iYWwgZGJfY29ubmVjdGlvbgogIGRiX2Nvbm5lY3Rpb24gPSBEQl9Db25uZWN0aW9uICggKQogIGlpaSA9IGlpMUkgLiBnZXQgKCAnbW9kZScgLCBOb25lICkKICBJaUlJIC4gZGlzcGF0Y2ggKCBpaWkgLCBpaTFJICkKIGV4Y2VwdCAoIFRyYW5zaWVudFRyYWt0RXJyb3IgLCBUcmFrdEVycm9yICwgVHJha3RBdXRoRXJyb3IgKSBhcyBPb08wTzAwTzBvbzBPIDoKICBvME9PMDAgLiBsb2cgKCBzdHIgKCBPb08wTzAwTzBvbzBPICkgLCBsb2dfdXRpbHMgLiBMT0dFUlJPUiApCiAga29kaSAuIG5vdGlmeSAoIG1zZyA9IHN0ciAoIE9vTzBPMDBPMG9vME8gKSAsIGR1cmF0aW9uID0gNTAwMCApCiBleGNlcHQgRGF0YWJhc2VSZWNvdmVyeUVycm9yIGFzIE9vTzBPMDBPMG9vME8gOgogIG8wT08wMCAuIGxvZyAoICdBdHRlbXB0aW5nIERCIHJlY292ZXJ5IGR1ZSB0byBEYXRhYmFzZSBFcnJvcjogJXMnICUgKCBPb08wTzAwTzBvbzBPICkgLCBsb2dfdXRpbHMgLiBMT0dXQVJOSU5HICkKICBkYl9jb25uZWN0aW9uIC4gYXR0ZW1wdF9kYl9yZWNvdmVyeSAoICkKICBpZiA2MyAtIDYzOiBPMCAuIG9Pb29Pb08wT28wTyAuIE8wICogaUlpaTFJMTFJMUlJMQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nIDoKIHN5cyAuIGV4aXQgKCBpaUlpICggKSApCiMgZGQ2NzhmYWFlOWFjMTY3YmM4M2FiZjc4ZTVjYjJmM2YwNjg4ZDNhMwo=]')
